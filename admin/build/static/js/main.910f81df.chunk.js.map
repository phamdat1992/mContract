{"version":3,"sources":["Containers/Contract/ContractCreateFormDesign/ColumnSigners/index.module.scss","Containers/Contract/ContractDetail/ContractDetailPreview/index.module.scss","Containers/Contract/ContractCreateFormDesign/ColumnPDF/index.module.scss","Containers/Tag/TagForm/index.module.scss","Containers/Tag/TagModal/index.module.scss","assets/js/index.js","Components/Icon/IconFile/index.jsx","Components/Icon/IconPencil/index.jsx","Components/Icon/IconRead/index.jsx","Components/Icon/IconReceive/index.jsx","Components/Icon/IconSend/index.jsx","Components/Icon/IconTag/index.jsx","Components/Icon/IconDelete/index.jsx","Components/Icon/IconDownload/index.jsx","Components/Icon/IconUnread/index.jsx","Components/Icon/IconDot/index.jsx","Components/Icon/IconDropdowFilter/index.jsx","Components/Icon/IconCalendar/index.jsx","Components/Icon/IconClock/index.jsx","Components/Icon/IconDocuments/index.jsx","Components/Icon/IconHourclass/index.jsx","Components/Icon/IconFailShield/index.jsx","Components/Icon/IconCheckDocument/index.jsx","Components/Icon/IconFailDocument/index.jsx","Components/Icon/IconCancelDocument/index.jsx","Components/Icon/IconPlus/index.jsx","Components/Icon/IconUpload/index.jsx","Components/Icon/IconPersonPlus/index.jsx","Components/Icon/IconLogout/index.jsx","Components/Icon/IconSetting/index.jsx","Components/Icon/IconSupport/index.jsx","Components/Icon/IconLeftAngle/index.jsx","Components/Icon/IconRightAngle/index.jsx","Components/Icon/IconPencilOutline/index.jsx","Components/Icon/IconPersonX/index.jsx","Components/Icon/IconArrowLeft/index.jsx","Components/Icon/IconPeople/index.jsx","Components/Icon/IconChatRightText/index.jsx","Components/Icon/IconInfoCircle/index.jsx","Components/Icon/IconChatYellow/index.jsx","Components/Icon/IconCheck/index.jsx","Components/Icon/IconFileText/index.jsx","Components/Icon/IconCheckGreen/index.jsx","Components/Icon/IconCalendar2/index.jsx","Components/Icon/IconCalendar2X/index.jsx","Components/Icon/IconClockHistory/index.jsx","Components/Icon/IconChatAdd/index.jsx","Components/Icon/IconFileCheck/index.jsx","Components/Icon/IconFileCheckLarge/index.jsx","Components/Icon/IconEnvelop/index.jsx","Components/Icon/IconEdit/index.jsx","Components/Icon/IconAdd/index.jsx","Components/Icon/IconEmailSign/index.jsx","Components/Icon/IconOtherUpload/index.jsx","Components/Icon/IconBigPlus/index.jsx","Components/Icon/IconBoldTag/index.jsx","Components/Icon/IconSign/index.jsx","Components/Icon/IconToastBug/index.jsx","Components/Icon/IconToastNoResources/index.jsx","Components/Icon/IconToastExpired/index.jsx","Components/Icon/IconToastNotFile/index.jsx","Components/Icon/IconToastNotReadFile/index.jsx","Components/Icon/IconToastSaveFile/index.jsx","Components/Icon/IconToastBugSystem/index.jsx","Components/Icon/IconToastCheckUser/index.jsx","Components/Icon/IconToastCode/index.jsx","Components/Icon/IconToastSuccessContract/index.jsx","Components/Icon/IconToastSuccessInfor/index.jsx","Components/Icon/IconToastSuccess/index.jsx","Components/Icon/IconToastUSBTokenLogin/index.jsx","Components/Icon/IconToastUSBToken/index.jsx","Containers/Contract/ContractActions/index.jsx","Utils/cookie.jsx","Enums/endpoints.js","Services/auth.jsx","Utils/refresh-token.jsx","Utils/axios.jsx","Services/general.jsx","Enums/contract-status.js","Utils/helpers.jsx","Services/toolUsb.jsx","Consts/action.js","Redux/Actions/ListContract.js","Redux/Actions/InstallToolModal.js","Services/contract.jsx","Redux/Actions/AlertToast.js","Containers/Contract/ContractItem/index.jsx","Containers/Contract/ContractList/index.jsx","Containers/Tag/TagForm/index.jsx","Services/tag.jsx","Redux/Actions/Data.js","Redux/Actions/AlertModal.js","Containers/Tag/TagList/index.jsx","Redux/Actions/DetailContract.js","Containers/Tag/TagModal/index.jsx","Containers/Layout/Footer/index.jsx","Components/ConfirmModal/index.jsx","Containers/Contract/ContractTable/index.jsx","Redux/Actions/CreateContract.js","Containers/Contract/ContractCreateButton/index.jsx","assets/images/logo.svg","Containers/Contract/ContractCreateForm/index.jsx","assets/images/pdf.svg","assets/images/word.webp","Containers/Contract/ContractCreateFormFile/index.jsx","Containers/Contract/ContractCreateFormSigner/index.tsx","Containers/Contract/ContractCreateFormDesign/ColumnPDF/index.tsx","Containers/Contract/ContractCreateFormDesign/ColumnPreview/index.tsx","Containers/Contract/ContractCreateFormDesign/ColumnSigners/index.tsx","Containers/Contract/ContractCreateFormDesign/index.tsx","Containers/Contract/ContractCreateFormSubject/index.jsx","Containers/Contract/ContractCreateButtonMobile/index.jsx","assets/images/logo_w.webp","Components/Icon/IconCancel/index.jsx","Containers/Contract/ContractFilter/index.jsx","Redux/Actions/Notification.js","Utils/socket.ts","Containers/Layout/NotificationDropdown/NotificationTime/index.jsx","Containers/Layout/NotificationDropdown/NotificationStatus/index.jsx","Containers/Layout/NotificationDropdown/NotificationIcon/index.jsx","Services/comment.jsx","Containers/Layout/NotificationDropdown/NotificationItem/index.jsx","Containers/Layout/NotificationDropdown/NotificationComment/index.jsx","Containers/Layout/NotificationDropdown/NotificationExpire/index.jsx","Containers/Layout/NotificationDropdown/NotificationNewContract/index.jsx","Redux/Actions/NewContract.js","Enums/socket.js","Containers/Layout/NotificationDropdown/index.jsx","Containers/Layout/Header/index.jsx","Containers/Layout/NavFilter/index.jsx","Containers/Layout/Sidebar/index.jsx","Containers/Layout/index.jsx","Containers/PrivateRoute/index.jsx","Containers/Contract/ContractDetail/Comments/index.jsx","Containers/Contract/ContractDetail/ContractDetailInformation/index.jsx","Containers/Contract/ContractDetail/Toolbar/index.jsx","Containers/Contract/ContractDetail/ContractDetailPDF/index.jsx","Containers/Contract/ContractDetail/ContractDetailPreview/index.jsx","Containers/Contract/ContractDetail/ContractDetailNotifications/index.jsx","Containers/Contract/ContractDetail/SignersInformation/index.jsx","Pages/PageContractPublic/index.jsx","Pages/PageContractPrivate/index.jsx","assets/images/login.svg","assets/images/logo_v.webp","Redux/Actions/Auth.js","Pages/PageLoginCode/index.jsx","Pages/PageSignupCode/index.jsx","Containers/Dashboard/ContractOverview/index.jsx","Consts/domain.js","Containers/Dashboard/ContractPolicy/index.jsx","Containers/Dashboard/CountCard/index.jsx","Containers/Dashboard/Standard/index.jsx","Services/profile.jsx","Components/UploadLogoModal/index.jsx","Containers/Dashboard/Top/index.jsx","Pages/PageDashboard/index.jsx","assets/images/english.webp","assets/images/vietnam.webp","Components/HeaderPolicy/index.jsx","Pages/PagePolicy/index.jsx","assets/images/ap.webp","assets/images/infomation.webp","assets/images/step_1.webp","assets/images/step_2.webp","assets/images/step_3.webp","assets/images/step_4.webp","assets/images/step_5.webp","Pages/PageSearch/index.jsx","Pages/PageSecurity/index.jsx","Components/Select/index.jsx","Containers/Profile/ProfileFormCompany/index.jsx","Containers/Profile/ProfileFormUser/index.jsx","Pages/PageProfile/index.jsx","Pages/PageLogin/index.jsx","assets/images/signup.svg","Pages/PageSignupProfile/index.jsx","Pages/PageSignup/index.jsx","Pages/PageTest/index.jsx","Pages/PageContracts/index.jsx","Components/AlertModal/index.jsx","Components/InstallToolModal/index.jsx","Components/Toast/index.jsx","Components/Toasts/index.jsx","App.jsx","reportWebVitals.js","Redux/Reducers/DataReducer.js","Redux/Reducers/AuthReducer.js","Mocks/menu.js","Redux/Reducers/MenuReducer.js","Redux/Reducers/DetailContractReducer.js","Redux/Reducers/NotificationReducer.js","Redux/Reducers/CreateContractReducer.js","Redux/Reducers/NewContractReducer.js","Redux/Reducers/ListContractReducer.js","Redux/Reducers/AlertModalReducer.js","Redux/Reducers/InstallToolModalReducer.js","Redux/Reducers/AlertToastReducer.js","Redux/Store/index.js","index.jsx","Containers/Contract/ContractCreateFormDesign/ColumnPreview/index.module.scss","Containers/Contract/ContractDetail/ContractDetailPDF/index.module.scss"],"names":["module","exports","$","fn","datepicker","dates","days","daysShort","daysMin","months","monthsShort","today","clear","format","titleFormat","startDate","document","mouseup","autoclose","weekStart","language","todayHighlight","on","startVal","val","data","setStartDate","endVal","setEndDate","this","firstHide","is","focus","IconFile","xmlns","width","height","fill","className","viewBox","d","IconPencil","fillRule","IconRead","enableBackground","x","IconReceive","IconSend","IconTag","props","IconDelete","IconDownload","IconUnread","IconDot","IconDropdownFilter","style","fontSize","IconCalendar","IconClock","IconDocuments","IconHourclass","IconFailShield","IconCheckDocument","IconFailDocument","IconCancelDocument","IconPlus","IconUpload","IconPersonPlus","IconLogout","IconSetting","IconSupport","IconLeftAngle","IconRightAngle","IconPencilOutline","IconPersonX","IconArrowLeft","IconPeople","IconChatRightText","IconInfoCircle","cx","cy","r","IconChatYellow","IconCheck","IconFileText","IconCheckGreen","IconCalendar2","IconCalendar2X","IconClockHistory","IconChatAdd","IconFileCheck","IconFileCheckLarge","IconEnvelop","IconEdit","IconAdd","IconEmailSign","IconOtherUpload","IconBigPlus","IconBoldTag","IconSign","IconToastBug","class","IconToastNoResources","IconToastExpired","IconToastNotFile","IconToastNotReadFile","IconToastSaveFile","IconToastBugSystem","IconToastCheckUser","fill-rule","IconToastCode","IconToastSuccessContract","IconToastSuccessInfor","IconToastSuccess","IconToastUSBTokenLogin","IconToastUSBToken","Pagination","onPageChanged","useState","arrPage","setArrPage","useEffect","arrangPage","totalPages","arr","i","push","currentPage","map","item","cursor","onClick","ContractActions","contracts","paginationData","checkContracts","selectedContracts","onCheckAll","onCancelContracts","onDeleteContracts","onDownloadContracts","onUpdateReadStatus","onAttachTagContracts","isCheckedAll","setIsCheckAll","user","useSelector","state","auth","length","filter","c","id","indexOf","type","checked","onChange","e","value","target","htmlFor","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","key","status","signerDtos","email","isSigned","checkPermissionCancel","OverlayTrigger","overlay","Tooltip","placement","ref","triggerHandler","pageSize","totalItems","get","array","cookie","split","str","trim","decodeURIComponent","set","name","time","encodeURIComponent","expires","toUTCString","path","remove","AUTH","OTP_REGISTER","OTP_LOGIN","LOGIN","LOGOUT","REGISTER","GET_USER","UPDATE_USER","TOKEN","GET_NOTIFICATION_TYPE","MARKED_ALL_NOTIFICATIONS","MARKED_NOTIFICATION","ACCEPT_EMAIL_NOTI","REFRESH_TOKEN","GET_UNREAD_NOTIFICATION","TAGS","LIST_CONTRACT_TAG","LIST_TAG","DELETE_TAG","ADD_TAG","EDIT_TAG","DETAIL_TAG","COUNT_TAG","CONTRACT","LIST_CONTRACT","ADD_CONTRACT","DELETE_CONTRACT","STATIS_CONTRACT","DETAIL_CONTRACT","DETAIL_CONTRACT_USER","DETAIL_CONTRACT_SIGNER","UPDATE_WATCHED_CONTRACT","ATTACH_TAG","REMOVE_TAG","CANCEL_CONTRACT","CANCEL_CONTRACT_SIGNER","GET_SIGNER","SIGN_CONTRACT","SIGN_CONTRACT_SIGNER","UPLOAD_FILE","DATA_TO_SIGN","DATA_TO_SIGN_SIGNER","CANCEL_CONTRACTS","UPDATE_AUTHOR_SIGNER","UPDATE_AUTHOR_USER","FILE","CONVERT_FILE","DOWLOAD_FILE","GET_FILE","LIST_FILE","COMPANY","COMMON","PROVINCE_LIST","PROVINCE_DETAIL","DISTRICT_LIST","PROVINCE_DISTRICT","DISTRICT_DETAIL","WARD_LIST","DISTRICT_WARD","WARD_DETAIL","COMMENT","LIST","CREATE","LIST_COMMENT_SIGNER","CREATE_COMMENT_SIGNER","MARKED_COMMENT_USER","MARKED_COMMENT_SIGNER","NOTIFICATION_CONTRACT","UNREAD_USER","UNREAD_SIGNER","MARKED_NOTI_USER","MARKED_NOTI_SIGNER","AuthService","login","url","Promise","resolve","DefaultAPI","post","isAuthenticated","saveToken","token","refreshToken","logout","signup","updateProfile","put","enterCodeLogin","enterCodeRegister","acceptEmailNoti","profile","addCompany","getNotificationType","params","markedAllNotifications","markedNotification","contractId","notificationId","replace","getUnreadNotification","request","promise","reject","start","then","res","catch","err","API_BASE_URL","Axios","baseURL","crossDomain","withCredentials","paramsSerializer","queryString","stringify","interceptors","use","tokenType","headers","Authorization","response","statusCode","errors","error","a","errorMsg","errorCode","originalRequest","config","_retry","RefreshToken","window","location","href","message","SignerAPI","ToolAPI","GeneralService","getProvinces","getDistricts","encodeURI","getWards","uploadFile","getLetterName","slice","ContractStatus","IN_PROGRESS","WAIT_PARTNER","AUTHENTICATIONFAIL","FINISH","EXPIRED","CANCEL","actionDesc","notify","toUpperCase","parentId","letterNameChar","timeDesc","date","now","Date","delta","Math","floor","getTime","getHours","getMinutes","getDate","getMonth","getFullYear","contractStatusClassName","contractStatusDesc","dateToString","checkDevice","check","navigator","userAgent","vendor","opera","test","substr","splitSpace","object","exclude","Object","keys","forEach","ToolUsb","getToken","getCheckUsb","getCertificate","signContract","getDataToSign","AUTH_ACTION","SET_USER","SET_LOADING_PROFILE","SET_LOGGED_OUT","MENU_ACTION","LOAD","DATA_ACTION","SET_LOADING_DATA","SET_STATISTICS","SET_TAGS","SET_RELOAD_CONTRACT","SET_READY_FOR_RELOAD_STATISTICS","SET_IS_DISCONNECT","SET_UNREAD_NOTIFICATION","SET_ACTIVE_TAB_NOTIFICATION","DETAIL_CONTRACT_ACTION","SET_CONTRACT","UPDATE_CONTRACT","SET_COMMENTS","SET_NEW_COMMENT","SET_START_COMMENT","SET_FOCUS_COMMENT","CREATE_NEW_COMMENT","ADD_NEW_COMMENT","ADD_NEW_NOTIFICATION","REMOVE_NOTIFICATION","SET_CURRENT_SIGNER","SET_CURRENT_SIGNER_TOKEN","ADD_CHILD_COMMENT","ADD_COMMENT","SET_PREVIEW_CURRENT_PAGE","SET_PREVIEW_TOTAL_PAGES","SET_PDF_CURRENT_PAGE","SET_PDF_TOTAL_PAGES","RESET_DATA","SET_CONTRACT_TAGS","SET_NOTIFICATIONS_UNREAD","UPDATE_NOTIFICATIONS","UPDATE_COMMENTS","SET_SHOW_SIGNER_MODAL","SET_FOCUS_SIGN","SET_CANCELING","SET_LOADED_ALL_PAGE_DETAIL","SET_LOADED_ALL_PAGE_PREVIEW_DETAIL","SET_FOCUS_REALTIME_COMMENT","NOTIFICATION_ACTION","SET_NOTIFICATIONS","ADD_NOTIFICATION","UPDATE_ALL_NOTIFICATIONS","SET_NEW_CONTRACT_NOTIFICATIONS","UPDATE_NEW_CONTRACT_NOTIFICATIONS","SET_COMMENT_NOTIFICATIONS","UPDATE_COMMENT_NOTIFICATIONS","SET_EXPIRE_NOTIFICATIONS","UPDATE_EXPIRE_NOTIFICATIONS","UPDATE_STATUS_NOTIFICATIONS","CREATE_CONTRACT_ACTION","SET_STEP","SET_FILE","SET_FILE_URL","SET_SIGNERS","ADD_SIGNER","UPDATE_SIGNER","UPDATE_SIGNER_POSITION","REMOVE_SIGNER","SET_INFORMATION","SET_CREATING_CONTRACT","SET_READY_FOR_CREATING","NEW_CONTRACT_ACTION","SET_NEW_CONTRACTS","SET_READY_FOR_RELOADING","ALERT_MODAL_ACTION","SET_MODAL","INSTALL_TOOL_MODAL_ACTION","SET_INSTALL_TOOL_MODAL","ALERT_TOAST_ACTION","ADD_TOAST","REMOVE_TOAST","LIST_CONTRACT_ACTION","setListContracts","ACTION","SET_LIST_CONTRACTS","payload","setReadyForReloading","readyForReloading","setIsCanceling","isCanceling","SET_IS_CANCELING","setGlobalSigning","isGlobalSigning","SET_GLOBAL_SIGNING","setInstallToolModal","ContractService","getContract","getStatisContract","updateWatched","convertFile","getFile","attachTag","removeTag","delete","deleteContract","cancelContract","cancelContractSigner","cancelContracts","dowloadContract","addToast","CustomToggle","React","forwardRef","children","stopPropagation","ContractItem","contract","index","onCheck","showAction","showAvatar","showContractType","isRequesting","isSigning","setIsSigning","listContracts","dispatch","useDispatch","history","useHistory","signer","onSendSign","fileName","contractSigned","pemCert","signed","base64CertificateChain","onDataToSign","obj","dataToSign","signTool","handleInfor","taxCode","company","updateAuthorUser","loopSign","count","success","resToSign","resSignTool","onSign","event","random","contractName","title","color","isShow","userName","fullName","setTimeout","resToken","isSelected","pointerEvents","wathched","RedirectToDetail","Spinner","as","animation","size","role","aria-hidden","userCreate","src","avatarPath","onError","onerror","alt","loading","isContractCompleted","getSignersSigned","partner","Fragment","content","countCommnet","createdDate","createdTime","expirationTime","showExpired","Dropdown","Toggle","Menu","popperConfig","Item","data-target","tagDtos","tag","background","colorCode","tagId","URLSearchParams","toString","listContractTag","ContractList","isCreatingContract","createContract","borderBottom","textAlign","colors","TagForm","tagData","onCheckTag","onCancel","onSave","isSubmiting","isCreating","setTag","disabled","left","styles","colorItem","onColorChange","placeholder","onNameChange","TagService","list","add","edit","detail","contractTag","setTags","setReadyForReloadStatistics","setSumUnreadNotification","setModal","TagList","selectedTags","tags","setIsCreating","setIsSubmiting","editingTags","setEditingTags","search","setSearch","getTags","sort","b","newArray","t","updateTag","addTag","onSearchChange","defaultChecked","newTag","assign","onStartEditTag","visibility","opacity","setContract","updateContract","setComments","comments","setNewComment","comment","setStartComment","setFocusComment","setFocusSign","sign","addNewNotification","notification","setCurrentSigner","addComment","addChildComment","setCurrentSignerToken","setPreviewCurrentPage","page","setPdfCurrentPage","setContractTags","setNotificationsUnread","notificationsUnread","updateComments","updateNotifications","setShowSignerModal","isShowSignerModal","setCanceling","generateSelectedTags","TagModal","show","onHide","getContracts","detailContract","useLocation","showModal","setShowModal","setSelectedTags","onAddTag","tagsArr","tagListId","assignTags","generalTags","oldTag","oldData","contractListId","onRemoveTag","Modal","dialogClassName","Header","Title","fontWeight","titleModal","getTitle","max_height_tags","Body","newSelectedTags","Footer","DefaultFooter","ConfirmModal","contractsName","onSubmit","contentClassName","data-dismiss","aria-label","ContractTable","query","showTag","isReadyForReloading","showConfirmModal","setShowConfirmModal","setIsRequesting","setSelectedContracts","setCheckContracts","showTagModal","setShowTagModal","zip","JSZip","sC","reverse","totalPage","pageIndex","total","console","fileUrl","responseType","ids","fileDownload","fileInformations","blob","objectUrl","URL","createObjectURL","link","createElement","download","click","JSZipUtils","getBinaryContent","file","binary","generateAsync","saveAs","contractIdList","isRow","showCheckbox","checkArr","join","contractList","setStep","setSigners","updateSignerPosition","setCreatingContract","setReadyForCreating","resetCreateContract","ContractCreateButton","onCloseModal","isReset","ContractCreateFormStep","step","ContractCreateForm","currentStep","signers","moveToStep","logo","pdf","position","aria-valuenow","aria-valuemin","aria-valuemax","ContractCreateFormFile","useForm","defaultValues","origin","handleSubmit","setValue","formData","docTypes","splitFile","fileType","setFiles","FormData","append","newFile","File","uploadTime","onDrop","useCallback","files","useDropzone","maxFiles","accept","getRootProps","getInputProps","word","ms","getFileDate","hidden","fontStyle","yup","Set","schema","shape","of","matches","required","uniqueEmail","min","ContractCreateFormSigner","initialValues","submitFn","values","newSigners","y","percentX","percentY","validationSchema","autoComplete","touched","setFieldTouched","resetForm","submitCount","setValues","arrayHelpers","removeItem","data-placement","_errors","hasError","addItem","pdfjs","GlobalWorkerOptions","workerSrc","version","ColumnPDF","simplebarRef","setLoadedPDF","loaded","setLoaded","preview","setWidth","previewRef","useRef","pageRefs","inputRef","onOverlayScroll","pages","current","pageNumber","ele","contentWrapperEl","scrollTop","offsetTop","parseInt","getCurrentPage","container","getElementById","element","offsetHeight","isElementOutsideView","scrollTo","moveToCurrentPage","addEventListener","removeEventListener","preventDefault","onSubmitPage","defaultValue","btnControlPage","options","onLoadSuccess","numPages","el","querySelector","offsetWidth","onLoadError","Array","from","data-page","dataTransfer","getData","draggableElement","classList","contains","parentElement","tagName","draggableRect","getBoundingClientRect","pageElement","pageRect","getAttribute","clientX","clientY","scrollHeight","onDragOver","top","data-index","onDragStart","setData","draggable","resetSignerPosition","ColumnPreview","overlayRef","padding","scrollableNodeProps","spliterPage","page_active","listSigner","newTop","onClickSigner","signature_icon","signature_icon_me","ColumnSigners","loadedPDF","showSignerModal","author_signature","transform","data-x","data-y","backdrop","keyboard","scrollable","backdropClassName","isSubmitting","Form","noValidate","max_height_signers","signer_body","eleComment","scrollIntoView","block","ContractCreateFormDesign","pdfSimpleBarRef","signerSimpleBarRef","signersRef","ContractCreateFormSubject","counter","setCounter","information","getValues","register","formState","isValid","pattern","numberOFExpirationDate","onPaste","text","clipboardData","execCommand","pasteContent","onKeyDown","innerText","keyCode","contentEditable","onInput","textArea","innerHeight","counterLetter","maxLength","validate","marginTop","ContractCreateButtonMobile","IconCancel","ContractFilter","watch","reset","close_af","showAdvanceFilter","display","toggle","watchSearch","formatDate","extend_filter","dp","getElementsByClassName","undefined","pathname","contractSend","contractReceive","topic","fromDate","toDate","Button","variant","aria-describedby","marginRight","setNewContractNotifications","updateNewContractNotifications","setCommentNotifications","updateCommentNotifications","setExpireNotifications","updateExpireNotifications","BASE_URL","NOTIFICATION_EVENT","connection","onTimeout","callback","onNotify","offNotify","off","connected","connect","io","transports","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","NotificationTime","timeout","setTime","setInterval","clearInterval","expiredTime","NotificationStatus","NotificationIcon","category","CommentService","create","listCommentSigner","Signer","createCommentSigner","markCommentUser","commentId","markCommentSigner","NotificationItem","notifications","selector","unreadNotification","newArr","n","signerId","userId","markedSingle","userAvatar","signerFullName","contractContent","commentContent","getContent","NotificationComment","newContract","expire","unReadRef","markedAll","totalUnread","getNotifications","suppressScrollX","onScroll","contain","noti","NotificationExpire","NotificationNewContract","setNewContracts","SOCKET_ACTION","JOIN_DASHBOARD","JOIN_CONTRACT_DETAIL","LEAVE_DASHBOARD","LEAVE_CONTRACT_DETAIL","NotificationDropdown","commentRef","newContractRef","expireRef","notyLatest","setNotyLatest","pop","getNotiReply","Socket","startConnect","emit","isDashboard","arrayNewContract","ceil","arraySign","arrayComment","arrayExpire","setReadyForReloadNewContract","setReadyForReloadListContract","removeListener","onToggle","getNewestNotify","renderOnMount","aria-controls","aria-selected","DefaultHeader","to","Link","NavFilter","statistics","desktopMenu","menu","mobileMenu","m","otherMenu","mapIconMenu","toLowerCase","getStatusCount","s","mapIconOtherMenu","exact","SidebarIcon","iconName","SideBar","menus","pathActive","setShow","statisStatus","isActive","includes","icon","isActiveTag","countContract","DefaultLayout","readyForReloadStatistics","isReadyForCreating","getBinaryFile","signerData","Blob","JSON","addContract","isValidTaxcode","isCreateContract","getStatistics","getSumUnreadNotification","publicRoutes","validRoutes","PrivateRoute","rest","commentPositionPercent","Comment","child","currentSignerToken","setTabKey","currentSigner","isReply","setIsReply","isReling","setIsReling","contentComment","setContentComment","textareaRef","submitReplyComment","substring","newData","isRead","isPosPDF","onClickComment","signPos","moveCommentPos","visualViewport","mouseOver","markNotification","markNotiContractUser","markNotiContractSigner","markedComment","preventText","parentNode","letters","onCancelReply","replyRect","wrapper","wrapperRect","onMouseOver","dangerouslySetInnerHTML","__html","childCommentDtos","ListComment","Comments","newComment","focusComment","focusRealtimeComment","setIsSubmitting","newCommentContent","isLoading","setIsLoading","submitNewComment","percentPos","moveCommentFromLink","dataComments","getComments","convertComments","onMoveFocusComment","cmt","maxlength","ContractDetailInformation","ToolBar","onCommentChanged","onAttachTagSelected","isPermitCancel","setIsPermitCancel","onCancelContract","signFileUrl","COMPLETE","printJS","printable","ContractDetailPDF","startComment","focusSign","isLoadedAllPageDetail","showCommentModal","setShowCommentModal","showInfoModal","setShowInfoModal","simpleBarRef","modalSigners","inforSigner","onLoadedPage","setLoadedAllPageDetail","commentPreview","posComment","onMoveToSign","onMoveToComment","latestRealtime","eleNew","setPdfTotalPages","canvas","rect","pageX","pageY","onClickPage","commentIndex","stylePeople","styleComment","ContractDetailPreview","isLoadedAllPagePreviewDetail","movePosition","commentPDF","commentCol","setLoadedAllPagePreviewDetail","detail_preview","setPreviewTotalPages","CommentNotification","markedNoti","moveSignPos","onMove","SingleNotification","ContractDetailNotifications","contractRef","currentSignerRef","dom","notifyId","getNotificationsUnread","notificationsUnreadUser","notificationsUnreadSigner","isNewest","notifyData","commentParentId","commentX","commentY","commentPage","signerEmail","userEmail","commentCreatedTime","toISOString","signedTime","log","innerWidth","SignersInformation","countSigned","companyName","PageContractPublic","keyTab","signContractSigner","moveSignaturePos","dataToSignSigner","updateAuthorSigner","getSigner","match","slug","detailContractSigner","isHasSigned","moveSingFromLink","phoneNumber","logoPath","bind","TabContainer","defaultActiveKey","activeKey","onSelect","k","Nav","NavItem","NavLink","eventKey","sum","countComments","TabContent","TabPane","PageContractPrivate","loadedPreviewPDF","setLoadedPreviewPDF","loadedDetailPDF","setLoadedDetailPDF","tabKey","detailContractUser","goBack","defaultProps","setUser","setLoadingProfile","PageLoginCode","timeGetCode","setTimeGetCode","otp","verifyRes","profileRes","onGetCode","intervalId","minHeight","logo_v","marginBottom","PageSignupCode","ContractOverview","newContracts","getNewContract","sortByDate","CLIENT_DOMAIN","ContractPolicy","rel","CountCard","Standard","ProfileService","getUser","updateUser","getCompany","updateCompany","UploadLogoModal","image","isLogo","uploading","scale","setScale","allowZoomOut","editorRef","borderRadius","border","backgroundColor","parseFloat","max","getImage","arrName","toBlob","DbTop","showUploadModal","setShowUploadModal","setImage","setUploading","onLogoChange","onSubmitLogo","companyRes","margin","zIndex","address","PageDashboard","HeaderPolicy","body","logo_vi","logo_en","titleEn","propsType","string","PagePolicy","PageSearch","data-spy","data-offset","ap","infomation","data-parent","step_1","step_2","step_3","step_4","step_5","PageSecurity","Select","optionData","currentValue","optionValue","optionText","fieldName","validators","field","selected","FormCompany","foundDate","isUploading","setIsUploading","acceptEmailNotification","acceptEmail","setAcceptEmail","onSubmitForm","newObj","resProfile","tranformDate","birthDate","AcceptEmailNoti","FormUser","districtCode","idNo","issuedOn","proviceCode","sex","wardCode","provinces","setProvinces","districts","setDistricts","isLoadingDistrict","setIsLoadingDistrict","wards","setWards","isLoadingWard","setIsLoadingWard","submitting","setSubmitting","gender","setGender","onChangeAvatar","onSubmitAvatar","handleCheckGender","provinceRes","provinceId","p","normalize","districtRes","districtId","prefix","wardRes","alignItems","justifyContent","age","getAge","provinceName","resDistricts","arrayDistricts","districtName","PageProfile","setInformation","PageLogin","PageSignupProfile","watchProvince","watchDistrict","getCompanyData","companyData","resCompany","inforUSB","handleLogout","maxHeight","signup_img","setValueAs","handleProvince","pro","handleDistrict","district","ward","PageSignup","PageTest","PageContracts","URLParams","AlertModal","alertModal","handleClose","closeButton","InstallToolModal","installToolModal","ToastIcon","ToastContent","Toast","onDestroy","setClassColor","fadeOut","Toasts","toasts","alertToast","listToasts","setListToasts","destroyToast","App","isLoadingProfile","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","setLoadingData","action","isLoadingData","setStatistics","setReloadContract","needReload","setIsDisconnect","isDisconnect","setActiveTabNotification","activeTabNotification","initialState","DataReducer","setLoggedOut","AuthReducer","MOCK_MENU","load","MenuReducer","addNewComment","removeNotification","appendChildComment","childComment","setNotifications","resetData","newComments","newChildComments","pos","newNotifications","setFocusRealtimeComment","ContractReducer","addNotification","updateAllNotifications","upDateStatusNotifications","NotificationReducer","setFile","updateSigner","creator","CreateContractReducer","NewContractReducer","ListContractReducer","AlertModalReducer","InstallToolModalReducer","removeToast","AlertToastReducer","store","configureStore","reducer","DetailContractReducer","ReactDOM"],"mappings":"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","file":"static/js/main.910f81df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"author_signature\":\"ColumnSigners_author_signature__2VCOX\",\"max_height_signers\":\"ColumnSigners_max_height_signers__3s5pI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spliterPage\":\"ContractDetailPreview_spliterPage__3DCLY\",\"page_active\":\"ContractDetailPreview_page_active__2a_xw\",\"detail_preview\":\"ContractDetailPreview_detail_preview__kbT89\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnControlPage\":\"ColumnPDF_btnControlPage__3EzSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorItem\":\"TagForm_colorItem__1p7Sb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorItem\":\"TagModal_colorItem__3E6gK\",\"max_height_tags\":\"TagModal_max_height_tags__3uGa0\"};","import $ from 'jquery';\r\nimport datepicker from 'bootstrap-datepicker';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\n$.fn.datepicker.dates['vi'] = {\r\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n  daysShort: [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\r\n  daysMin: [\"CN\", \"T2\", \"T3\", \"T4\", \"T5\", \"T6\", \"T7\"],\r\n  months: [\"Tháng 1\", \"Tháng 2\", \"Tháng 3\", \"Tháng 4\", \"Tháng 5\", \"Tháng 6\", \"Tháng 7\", \"Tháng 8\", \"Tháng 9\", \"Tháng 10\", \"Tháng 11\", \"Tháng 12\"],\r\n  monthsShort: [\"Th1\", \"Th2\", \"Th3\", \"Th4\", \"Th5\", \"Th6\", \"Th7\", \"Th8\", \"Th9\", \"Th10\", \"Th11\", \"Th12\"],\r\n  today: \"Today\",\r\n  clear: \"Clear\",\r\n  format: \"mm/dd/yyyy\",\r\n  titleFormat: \"MM yyyy\",\r\n  startDate: \"01/01/1900\",\r\n  /* Leverages same syntax as 'format' */\r\n\r\n};\r\n\r\n$(document).mouseup(function () {\r\n  // $('#checkAll').prop('indeterminate', true);\r\n  // $('#checktag2').prop('indeterminate', true);\r\n  // $('[data-toggle=tooltip]').tooltip();\r\n  $('.input-daterange').datepicker({\r\n    format: 'dd/mm/yyyy',\r\n    autoclose: true,\r\n    weekStart: 1,\r\n    language: \"vi\",\r\n    todayHighlight: true,\r\n    startDate: \"01/01/1900\",\r\n  })\r\n\r\n  $('#from-date').on(\"change\", function () {\r\n    var startVal = $('#from-date').val();\r\n    $('#to-date').data('datepicker').setStartDate(startVal);\r\n  });\r\n  $('#to-date').on(\"change\", function () {\r\n    var endVal = $('#to-date').val();\r\n    $('#from-date').data('datepicker').setEndDate(endVal);\r\n  });\r\n\r\n  $('.datepicker-date').datepicker({\r\n    format: 'dd/mm/yyyy',\r\n    autoclose: true,\r\n    weekStart: 1,\r\n    language: \"vi\",\r\n    todayHighlight: true,\r\n    startDate: \"01/01/1900\",\r\n  }).on('hide', function () {\r\n    if (!this.firstHide) {\r\n      if (!$(this).is(\":focus\")) {\r\n        this.firstHide = true;\r\n        this.focus();\r\n      }\r\n    } else {\r\n      this.firstHide = false;\r\n    }\r\n  }).on('show', function () {\r\n    if (this.firstHide) {\r\n      $(this).datepicker('hide');\r\n    }\r\n  });\r\n})\r\n","export default function IconFile() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"17\"\r\n      height=\"17\"\r\n      fill=\"currentColor\"\r\n      className=\"bi bi-file-earmark-text-fill\"\r\n      viewBox=\"0 0 16 16\"\r\n    >\r\n      <path d=\"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconPencil() {\r\n  return (\r\n    <svg\r\n      width=\"1em\"\r\n      height=\"1em\"\r\n      viewBox=\"0 0 16 16\"\r\n      className=\"bi bi-pen-fill\"\r\n      fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M13.498.795l.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconRead() {\r\n  return (\r\n    <svg\r\n      enableBackground=\"new 0 0 24 24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"#777\"\r\n      width=\"24px\"\r\n      height=\"24px\"\r\n    >\r\n      <g>\r\n        <g>\r\n          <rect fill=\"none\" height=\"24\" width=\"24\" x=\"0\"></rect>\r\n        </g>\r\n        <g>\r\n          <path d=\"M18.05,21.29c-0.39,0.39-1.02,0.39-1.41,0l-2.12-2.12c-0.39-0.39-0.39-1.02,0-1.41h0c0.39-0.39,1.02-0.39,1.41,0 l1.41,1.41l3.54-3.54c0.39-0.39,1.02-0.39,1.41,0l0,0c0.39,0.39,0.39,1.02,0,1.41L18.05,21.29z M12.08,20H4c-1.1,0-2-0.9-2-2V6 c0-1.1,0.9-2,2-2h16c1.1,0,2,0.9,2,2v6.68C21.09,12.25,20.08,12,19,12c-3.87,0-7,3.13-7,7C12,19.34,12.03,19.67,12.08,20z M11.47,12.67c0.32,0.2,0.74,0.2,1.06,0l7.07-4.42C19.85,8.09,20,7.82,20,7.53c0-0.67-0.73-1.07-1.3-0.72L12,11L5.3,6.81 C4.73,6.46,4,6.86,4,7.53c0,0.29,0.15,0.56,0.4,0.72L11.47,12.67z\"></path>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconReceive() {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-arrow-up-right-square\" viewBox=\"0 0 16 16\">\r\n         <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm5.854 8.803a.5.5 0 1 1-.708-.707L9.243 6H6.475a.5.5 0 1 1 0-1h3.975a.5.5 0 0 1 .5.5v3.975a.5.5 0 1 1-1 0V6.707l-4.096 4.096z\"\r\n         ></path>\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconSend() {\r\n   return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-arrow-down-left-square\" viewBox=\"0 0 16 16\">\r\n    <path fillRule=\"evenodd\" d=\"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm10.096 3.146a.5.5 0 1 1 .707.708L6.707 9.95h2.768a.5.5 0 1 1 0 1H5.5a.5.5 0 0 1-.5-.5V6.475a.5.5 0 1 1 1 0v2.768l4.096-4.097z\"></path>\r\n  </svg>\r\n      \r\n   );\r\n}\r\n","export default function IconTag(props) {\r\n  return (\r\n    <svg className=\"flip_hor\" viewBox=\"0 0 24 24\" fill=\"#777\" width=\"22px\" height=\"22px\" {...props}>\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path>\r\n      <path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconDelete() {\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"#777\" width=\"24px\" height=\"24px\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path>\r\n      <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconDownload() {\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"#777\" width=\"24px\" height=\"24px\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path>\r\n      <path d=\"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconUnread() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\" fill=\"#777\" width=\"24px\" height=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\" x=\"0\" /><path d=\"M19,10c1.13,0,2.16-0.39,3-1.02V18c0,1.1-0.9,2-2,2H4c-1.1,0-2-0.9-2-2V6c0-1.1,0.9-2,2-2h10.1C14.04,4.32,14,4.66,14,5 c0,1.48,0.65,2.79,1.67,3.71L12,11L5.3,6.81C4.73,6.46,4,6.86,4,7.53c0,0.29,0.15,0.56,0.4,0.72l7.07,4.42 c0.32,0.2,0.74,0.2,1.06,0l4.77-2.98C17.84,9.88,18.4,10,19,10z M16,5c0,1.66,1.34,3,3,3s3-1.34,3-3s-1.34-3-3-3S16,3.34,16,5z\" /></g></svg>\r\n  );\r\n}\r\n","export default function IconDot() {\r\n  return (\r\n    <svg\r\n      width=\"1em\"\r\n      height=\"1em\"\r\n      viewBox=\"0 0 16 16\"\r\n      className=\"bi bi-three-dots\"\r\n      fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconDropdownFilter() {\r\n    return (\r\n        <svg style={{ fontSize: '16px' }} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-search\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\" />\r\n            <path fillRule=\"evenodd\" d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\r\n        </svg>\r\n    );\r\n}","export default function IconCalendar() {\r\n  return (\r\n    <svg\r\n      width=\"1em\"\r\n      height=\"1em\"\r\n      viewBox=\"0 0 16 16\"\r\n      className=\"bi bi-calendar\"\r\n      fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconClock() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-clock\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z\" />\r\n      <path d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconDocuments() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-files\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconHourclass() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-hourglass-split\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconFailShield() {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-shield-x\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z\" />\r\n            <path d=\"M6.146 5.146a.5.5 0 0 1 .708 0L8 6.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 7l1.147 1.146a.5.5 0 0 1-.708.708L8 7.707 6.854 8.854a.5.5 0 1 1-.708-.708L7.293 7 6.146 5.854a.5.5 0 0 1 0-.708z\" />\r\n          </svg>\r\n   )\r\n}","export default function IconCheckDocument(props) {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-file-earmark-check\" viewBox=\"0 0 16 16\" {...props}>\r\n      <path d=\"M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\" />\r\n      <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconFailDocument() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-calendar2-x\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M6.146 8.146a.5.5 0 0 1 .708 0L8 9.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 10l1.147 1.146a.5.5 0 0 1-.708.708L8 10.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 10 6.146 8.854a.5.5 0 0 1 0-.708z\" />\r\n      <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z\" />\r\n      <path d=\"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconCancelDocument() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-file-earmark-x\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146z\" />\r\n      <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n    </svg>\r\n  );\r\n}\r\n","export default function IconPlus(props) {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-plus\" viewBox=\"0 0 16 16\" {...props}>\r\n        <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\r\n      </svg>\r\n   )\r\n}","export default function IconUpload({style}) {\r\n   return (\r\n      <svg style={style} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-file-earmark-arrow-up\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M4 0h5.5v1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h1V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z\" />\r\n          <path d=\"M9.5 3V0L14 4.5h-3A1.5 1.5 0 0 1 9.5 3z\" />\r\n          <path fillRule=\"evenodd\" d=\"M8 12a.5.5 0 0 0 .5-.5V7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-2-2a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L7.5 7.707V11.5a.5.5 0 0 0 .5.5z\" />\r\n        </svg>\r\n   )\r\n}","export default function IconPersonPlus(props) {\r\n   return (\r\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-plus\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n         <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M8 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10zM13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z\"\r\n         />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconLogout() {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-power\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M7.5 1v7h1V1h-1z\" />\r\n            <path d=\"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z\" />\r\n        </svg>\r\n    )\r\n}","export default function IconSetting() {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-gear\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\" />\r\n            <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\" />\r\n        </svg>\r\n    )\r\n}","export default function IconSupport() {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-question-circle\" viewBox=\"0 0 16 16\" >\r\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n            <path d=\"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z\" />\r\n        </svg>\r\n    )\r\n}","const IconLeftAngle = (props) => {\r\n   return (\r\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n         <path fillRule=\"evenodd\" d=\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\" />\r\n      </svg>\r\n   );\r\n};\r\n\r\nexport default IconLeftAngle;\r\n","const IconRightAngle = (props) => {\r\n  return (\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chevron-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n    <path fillRule=\"evenodd\" d=\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\" />\r\n </svg>\r\n  );\r\n};\r\nexport default IconRightAngle;","const IconPencilOutline = (props) => {\r\n   return (\r\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-pen\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n         <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M13.498.795l.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z\"\r\n         />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconPencilOutline;\r\n","const IconPersonX = (props) => {\r\n  return <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-x\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n  <path\r\n     fillRule=\"evenodd\"\r\n     d=\"M8 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10zm1.146-7.85a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z\"\r\n  />\r\n</svg>\r\n}\r\nexport default IconPersonX;","const IconArrowLeft = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" className=\"bi bi-arrow-left-short\" viewBox=\"0 0 16 16\">\r\n         <path fillRule=\"evenodd\" d=\"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconArrowLeft;\r\n","const IconPeople = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-people\" viewBox=\"0 0 16 16\">\r\n         <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1h7.956a.274.274 0 0 0 .014-.002l.008-.002c-.002-.264-.167-1.03-.76-1.72C13.688 10.629 12.718 10 11 10c-1.717 0-2.687.63-3.24 1.276-.593.69-.759 1.457-.76 1.72a1.05 1.05 0 0 0 .022.004zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10c-1.668.02-2.615.64-3.16 1.276C1.163 11.97 1 12.739 1 13h3c0-1.045.323-2.086.92-3zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\"\r\n         />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconPeople;\r\n","const IconChatRightText = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-chat-right-text\" viewBox=\"0 0 16 16\">\r\n         <path fillRule=\"evenodd\" d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\" />\r\n         <path fillRule=\"evenodd\" d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconChatRightText;\r\n","const IconInfoCircle = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-info-circle\" viewBox=\"0 0 16 16\">\r\n         <path fillRule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n         <path d=\"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z\" />\r\n         <circle cx=\"8\" cy=\"4.5\" r=\"1\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconInfoCircle;\r\n","const IconChatYellow = (props) => {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#f1c300\" width=\"24px\" height=\"24px\" {...props}>\r\n    <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n    <path d=\"M22 4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4z\" />\r\n </svg>\r\n  );\r\n};\r\nexport default IconChatYellow;\r\n","const IconCheck = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" className=\"bi bi-check\" viewBox=\"0 0 16 16\">\r\n         <path d=\"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconCheck;\r\n","const IconFileText = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-file-earmark-text-fill\" viewBox=\"0 0 16 16\">\r\n         <path d=\"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconFileText;\r\n","const IconCheckGreen = (props) => {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#13b348\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path><path d=\"M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z\"></path></svg>\r\n  );\r\n};\r\nexport default IconCheckGreen;\r\n","export default function IconCalendar2() {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-calendar2\" viewBox=\"0 0 16 16\">\r\n         <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z\" />\r\n         <path d=\"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z\" />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconCalendar2X() {\r\n   return (\r\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-calendar2-x\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n         <path fillRule=\"evenodd\" d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM2 2a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H2z\" />\r\n         <path d=\"M2.5 4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5V4z\" />\r\n         <path fillRule=\"evenodd\" d=\"M6.146 8.146a.5.5 0 0 1 .708 0L8 9.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 10l1.147 1.146a.5.5 0 0 1-.708.708L8 10.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 10 6.146 8.854a.5.5 0 0 1 0-.708z\" />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconClockHistory() {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-clock-history\" viewBox=\"0 0 16 16\">\r\n         <path d=\"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z\" />\r\n         <path d=\"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z\" />\r\n         <path d=\"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z\" />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconChatAdd() {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#555\" width=\"20px\" height=\"20px\">\r\n         <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n         <path d=\"M22 4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4zm-6 7h-3v3c0 .55-.45 1-1 1s-1-.45-1-1v-3H8c-.55 0-1-.45-1-1s.45-1 1-1h3V6c0-.55.45-1 1-1s1 .45 1 1v3h3c.55 0 1 .45 1 1s-.45 1-1 1z\" />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconFileCheck(props) {\r\n   return (\r\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-file-earmark-check\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\r\n         <path d=\"M4 0h5.5v1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h1V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2z\" />\r\n         <path d=\"M9.5 3V0L14 4.5h-3A1.5 1.5 0 0 1 9.5 3z\" />\r\n         <path fillRule=\"evenodd\" d=\"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z\" />\r\n      </svg>\r\n   );\r\n}\r\n","const IconFileCheckLarge = (props) => {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-file-earmark-check\" viewBox=\"0 0 16 16\">\r\n         <path d=\"M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z\" />\r\n         <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n      </svg>\r\n   );\r\n};\r\nexport default IconFileCheckLarge;\r\n","export default function IconEnvelop(props) {\r\n   return (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-envelope\" viewBox=\"0 0 16 16\" {...props}>\r\n         <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\" />\r\n      </svg>\r\n   );\r\n}\r\n","export default function IconEdit() {\r\n    return (\r\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-pencil-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\r\n            <path fillRule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\" />\r\n        </svg>\r\n    )\r\n}","export default function IconAdd() {\r\n    return (\r\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-pencil-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\r\n            <path fillRule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\" />\r\n        </svg>\r\n    )\r\n}","export default function IconEmailSign(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#777\" width=\"18px\" height=\"18px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path><path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z\"></path></svg>\r\n    );\r\n}\r\n","export default function IconOtherUpload({ style }) {\r\n    return (\r\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-upload\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\"></path>\r\n            <path fillRule=\"evenodd\" d=\"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z\"></path>\r\n        </svg>\r\n    )\r\n}","export default function IconBigPlus(props) {\r\n    return (\r\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-plus\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t<path fillRule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\r\n\t</svg>\r\n    )\r\n }","export default function IconBoldTag(props) {\r\n    return (\r\n        <svg viewBox=\"0 0 24 24\" fill=\"#555\" width=\"20px\" height=\"20px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"></path><path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\"></path></svg>\r\n    )\r\n}","export default function IconSign() {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16%\" height=\"16%\" fill=\"currentColor\" className=\"bi bi-pen-fill\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M13.498.795l.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z\" />\r\n        </svg>\r\n    );\r\n}\r\n","export default function IconToastBug(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n        </svg>\r\n    );\r\n}\r\n","export default function IconToastNoResources(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"50\" fill=\"currentColor\" class=\"bi bi-file-earmark-x\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146z\" />\r\n            <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\r\n        </svg>\r\n    );\r\n}\r\n","export default function IconToastExpired(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"50\" fill=\"currentColor\" class=\"bi bi-hourglass-bottom\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702s.18.149.5.149.5-.15.5-.15v-.7c0-.701.478-1.236 1.011-1.492A3.5 3.5 0 0 0 11.5 3V2h-7z\" />\r\n        </svg>\r\n    );\r\n}\r\n","export default function IconToastNotFile(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"50\" fill=\"currentColor\" class=\"bi bi-file-earmark-x\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146z\"/>\r\n\t\t\t<path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastNotReadFile(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"50\" fill=\"currentColor\" class=\"bi bi-file-earmark-x\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146z\"/>\r\n\t\t\t<path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastSaveFile(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"50\" fill=\"currentColor\" class=\"bi bi-file-earmark-x\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146z\"/>\r\n\t\t\t<path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastBugSystem(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastCheckUser(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"50\" fill=\"currentColor\" class=\"bi bi-person-x\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\r\n            <path fill-rule=\"evenodd\" d=\"M12.146 5.146a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z\" />\r\n        </svg>\r\n    );\r\n}\r\n","export default function IconToastCode(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"50\" fill=\"currentColor\" class=\"bi bi-shield-x\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z\"/>\r\n\t\t\t<path d=\"M6.146 5.146a.5.5 0 0 1 .708 0L8 6.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 7l1.147 1.146a.5.5 0 0 1-.708.708L8 7.707 6.854 8.854a.5.5 0 1 1-.708-.708L7.293 7 6.146 5.854a.5.5 0 0 1 0-.708z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastSuccessContract(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-check-lg\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\" fill=\"#fff\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastSuccessInfor(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-check-lg\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\" fill=\"#fff\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastSuccess(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" fill=\"currentColor\" class=\"bi bi-check-lg\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z\" fill=\"#fff\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastUSBTokenLogin(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"50\" fill=\"currentColor\" class=\"bi bi-hdd\" viewBox=\"0 0 16 16\">\r\n\t\t\t<path d=\"M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\"/>\r\n\t\t\t<path d=\"M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26 1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z\"/>\r\n\t\t</svg>\r\n    );\r\n}\r\n","export default function IconToastUSBToken(props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"50\" fill=\"currentColor\" class=\"bi bi-hdd\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\" />\r\n            <path d=\"M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26 1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z\" />\r\n        </svg>\r\n    );\r\n}\r\n","import { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport {\r\n  IconRead,\r\n  IconDelete,\r\n  IconDownload,\r\n  IconUnread,\r\n  IconTag\r\n} from \"@Components/Icon\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Pagination = ({ data, onPageChanged }) => {\r\n  const [arrPage, setArrPage] = useState([]);\r\n  useEffect(() => {\r\n    arrangPage();\r\n  }, [data])\r\n  const arrangPage = () => {\r\n    if (data.totalPages <= 5) {\r\n      let arr = [];\r\n      for (let i = 1; i <= data.totalPages; i++) {\r\n        arr.push(i);\r\n      }\r\n      setArrPage(arr);\r\n      return arr;\r\n    } else {\r\n      if (data.currentPage <= 3) {\r\n        setArrPage([1, 2, 3, 4, 5]);\r\n      } else if (data.currentPage > data.totalPages - 3) {\r\n        setArrPage([data.totalPages - 4, data.totalPages - 3, data.totalPages - 2, data.totalPages - 1, data.totalPages]);\r\n      } else {\r\n        setArrPage([data.currentPage - 2, data.currentPage - 1, data.currentPage, data.currentPage + 1, data.currentPage + 2]);\r\n      }\r\n    }\r\n  }\r\n  return <>\r\n    {arrPage.map((item, i) => {\r\n      return (\r\n        <>\r\n          <li key={i} className={`page-item ${data.currentPage === (item - 1) ? 'active' : ''}`}>\r\n            <a\r\n              className=\"page-link\"\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={() => onPageChanged(item - 1)}\r\n            >\r\n              {item}\r\n            </a>\r\n          </li>\r\n        </>\r\n      )\r\n    })}\r\n  </>\r\n}\r\n\r\nconst ContractActions = ({\r\n  contracts,\r\n  paginationData,\r\n  selectedContracts,\r\n  checkContracts,\r\n  onCheckAll,\r\n  onDeleteContracts,\r\n  onCancelContracts,\r\n  onDownloadContracts,\r\n  onUpdateReadStatus,\r\n  onAttachTagContracts,\r\n  onPageChanged,\r\n}) => {\r\n  const [isCheckedAll, setIsCheckAll] = useState(false);\r\n  const user = useSelector(state => state.auth.user);\r\n  const checkPermissionCancel = () => {\r\n    for (let i = 0; i < checkContracts.length; i++) {\r\n      if (checkContracts[i].status == 'EXPIRED' || checkContracts[i].status == 'COMPLETE' || checkContracts[i].status == 'AUTHENTICATIONFAIL' || checkContracts[i].status == 'CANCEL') {\r\n        return true;\r\n      }\r\n      if (checkContracts[i].signerDtos.filter(item => (item.email == user.email && item.isSigned)).length > 0) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  useEffect(() => {\r\n    setIsCheckAll(contracts && contracts.length > 0 && checkContracts.filter(c => contracts.map(c => c.id).indexOf(c.id) > -1).length == contracts.length);\r\n    // eslint-disable-next-line\r\n  }, [checkContracts])\r\n\r\n  return (\r\n    <div id=\"sub_header\">\r\n      <div className=\"container-fluid px-24px\">\r\n        <div className=\"row doc_pagi\">\r\n          <div className=\"col-auto\">\r\n            <div className=\"action_area d-flex align-items-center\">\r\n              <div className=\"custom-control custom-checkbox\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  className=\"custom-control-input\"\r\n                  id=\"checkAll\"\r\n                  checked={isCheckedAll}\r\n                  onChange={(e) => onCheckAll({ value: e.target.checked })}\r\n                />\r\n                <label className=\"custom-control-label\" htmlFor=\"checkAll\"></label>\r\n              </div>\r\n              <div className=\"dropdown d-inline-flex align-items-center select_more_btn mr-2\">\r\n                <a\r\n                  style={{ cursor: 'pointer' }}\r\n                  className=\"select_icon\"\r\n                  id=\"selectButton\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  &#9660;\r\n                </a>\r\n                <div className=\"dropdown-menu shadow\" aria-labelledby=\"selectButton\">\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => onCheckAll({ value: true })}\r\n                  >\r\n                    Chọn tất cả\r\n                  </a>\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() => onCheckAll({ value: false })}\r\n                  >\r\n                    Bỏ chọn tất cả\r\n                  </a>\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() =>\r\n                      onCheckAll({ value: true, filter: { key: \"wathched\", value: true } })\r\n                    }\r\n                  >\r\n                    Hợp đồng đã đọc\r\n                  </a>\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() =>\r\n                      onCheckAll({ value: true, filter: { key: \"wathched\", value: false } })\r\n                    }\r\n                  >\r\n                    Hợp đồng chưa đọc\r\n                  </a>\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() =>\r\n                      onCheckAll({ value: true, filter: { key: \"type\", value: 'GUEST' } })\r\n                    }\r\n                  >\r\n                    Hợp đồng đến\r\n                  </a>\r\n                  <a\r\n                    className=\"dropdown-item\"\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() =>\r\n                      onCheckAll({ value: true, filter: { key: \"type\", value: 'CREATER' } })\r\n                    }\r\n                  >\r\n                    Hợp đồng đi\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              {checkContracts.length > 0 && <>\r\n                {!checkPermissionCancel() &&\r\n                  <OverlayTrigger overlay={<Tooltip> Hủy hợp đồng </Tooltip>} placement=\"top\">\r\n                    {({ ref, ...triggerHandler }) => (\r\n                      <a\r\n                        style={{ cursor: 'pointer' }}\r\n                        {...triggerHandler}\r\n                        ref={ref}\r\n                        className=\"action_icon\"\r\n                        onClick={(e) => onCancelContracts(e)}\r\n                      >\r\n                        <IconDelete />\r\n                      </a>\r\n                    )}\r\n                  </OverlayTrigger>}\r\n                <OverlayTrigger overlay={<Tooltip> Tải hợp đồng </Tooltip>} placement=\"top\">\r\n                  {({ ref, ...triggerHandler }) => (\r\n                    <a\r\n                      style={{ cursor: 'pointer' }}\r\n                      {...triggerHandler}\r\n                      ref={ref}\r\n                      className=\"action_icon\"\r\n                      onClick={(e) => onDownloadContracts(e)}\r\n                    >\r\n                      <IconDownload />\r\n                    </a>\r\n                  )}\r\n                </OverlayTrigger>\r\n                <OverlayTrigger overlay={<Tooltip>Đánh dấu là đã đọc</Tooltip>} placement=\"top\">\r\n                  {({ ref, ...triggerHandler }) => (\r\n                    <a\r\n                      style={{ cursor: 'pointer' }}\r\n                      {...triggerHandler}\r\n                      ref={ref}\r\n                      className=\"action_icon\"\r\n                      onClick={(e) => onUpdateReadStatus(e, true)}\r\n                    >\r\n                      <IconRead />\r\n                    </a>\r\n                  )}\r\n                </OverlayTrigger>\r\n                <OverlayTrigger overlay={<Tooltip>Đánh dấu là chưa đọc</Tooltip>} placement=\"top\">\r\n                  {({ ref, ...triggerHandler }) => (\r\n                    <a\r\n                      style={{ cursor: 'pointer' }}\r\n                      {...triggerHandler}\r\n                      ref={ref}\r\n                      className=\"action_icon\"\r\n                      onClick={(e) => onUpdateReadStatus(e, false)}\r\n                    >\r\n                      <IconUnread />\r\n                    </a>\r\n                  )}\r\n                </OverlayTrigger>\r\n                <OverlayTrigger overlay={<Tooltip>Gắn thẻ</Tooltip>} placement=\"top\">\r\n                  {({ ref, ...triggerHandler }) => (\r\n                    <>\r\n                      <span>\r\n                        <a\r\n                          style={{ cursor: 'pointer' }}\r\n                          {...triggerHandler}\r\n                          ref={ref}\r\n                          className=\"action_icon\"\r\n                          onClick={(e) => onAttachTagContracts(e)}\r\n                        >\r\n                          <IconTag />\r\n                        </a>\r\n                      </span>\r\n                    </>\r\n                  )}\r\n                </OverlayTrigger>\r\n              </>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col d-none d-sm-block\">\r\n            <div className=\"pagination_area text-right\">\r\n              <ul className=\"pagination mb-0 float-right\">\r\n                {paginationData.totalPages > 1 && (paginationData.currentPage + 1) > 1 ?\r\n                  <li className=\"page-item\">\r\n                    <a\r\n                      className=\"page-link\"\r\n                      style={{ cursor: 'pointer' }}\r\n                      onClick={() => onPageChanged(paginationData.currentPage - 1)}\r\n                    >\r\n                      ←\r\n                    </a>\r\n                  </li>\r\n                  : ''\r\n                }\r\n                <Pagination data={paginationData} onPageChanged={onPageChanged} />\r\n                {paginationData.totalPages > 1 && (paginationData.currentPage + 1) < paginationData.totalPages ?\r\n                  <li className=\"page-item\">\r\n                    <a\r\n                      className=\"page-link\"\r\n                      style={{ cursor: 'pointer' }}\r\n                      onClick={() => onPageChanged(paginationData.currentPage + 1)}\r\n                    >\r\n                      →\r\n                    </a>\r\n                  </li>\r\n                  : ''\r\n                }\r\n              </ul>\r\n              <span className=\"float-right d-none d-md-block\">1 - {paginationData.pageSize} trong tổng số {paginationData.totalItems}</span>\r\n              <div className=\"clearfix\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContractActions;\r\n","function get(key) {\r\n    let cookies = document.cookie;\r\n    let array = cookies\r\n        .split(';')\r\n        .filter(str => {\r\n            let arr = str.trim().split('=');\r\n            return arr[0] == key;\r\n        });\r\n    if (!array || array.length <= 0) {\r\n        return '';\r\n    }\r\n    return decodeURIComponent(array[0].trim().split('=')[1]);\r\n}\r\n\r\nfunction set(name, value, time = null) {\r\n    let cookie = `${name}=${encodeURIComponent(value)}`;\r\n    let expires = (time) ? `; expires=${time.toUTCString()}` : '';\r\n    let path = `; path =/`;\r\n    document.cookie = (`${cookie}${expires}${path}`);\r\n}\r\n\r\nfunction remove(key) {\r\n    document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`\r\n}\r\nexport {\r\n    get, set, remove\r\n}","const AUTH = {\r\n   OTP_REGISTER: \"/otps/register\",\r\n   OTP_LOGIN: \"/otps/login\",\r\n   LOGIN: \"/authentication/login\",\r\n   LOGOUT: \"/authentication/logout\",\r\n   REGISTER: \"/authentication/register\",\r\n   GET_USER: \"/users/profile\",\r\n   UPDATE_USER: \"/users\",\r\n   TOKEN: \"/user/token\",\r\n   GET_NOTIFICATION_TYPE: '/users/notify',\r\n   MARKED_ALL_NOTIFICATIONS: \"/users/notification\",\r\n   MARKED_NOTIFICATION: \"/users/notification/{contractId}/{notificationId}\",\r\n   ACCEPT_EMAIL_NOTI: \"/users/notification\",\r\n   REFRESH_TOKEN: \"/authentication/refreshtoken\",\r\n   GET_UNREAD_NOTIFICATION: '/users/notificationNumbers'\r\n};\r\n\r\nconst TAGS = {\r\n   LIST_CONTRACT_TAG: \"/tags​/contract​/{contractId}\",\r\n   LIST_TAG: \"/tags/counts\",\r\n   DELETE_TAG: \"​/tag​s/{id}\",\r\n   ADD_TAG: \"/tags\",\r\n   EDIT_TAG: \"/tags\",\r\n   DETAIL_TAG: \"/tags/{id}\",\r\n   COUNT_TAG: \"/tags/counts\"\r\n};\r\nconst CONTRACT = {\r\n   LIST_CONTRACT: \"/contracts\",\r\n   ADD_CONTRACT: \"/contracts\",\r\n   DELETE_CONTRACT: \"/contracts/delete\",\r\n   STATIS_CONTRACT: \"/contracts/statistical-datas\",\r\n   DETAIL_CONTRACT: \"/contracts/{id}\",\r\n   DETAIL_CONTRACT_USER: \"/contracts/{contractId}/user\",\r\n   DETAIL_CONTRACT_SIGNER: \"/contracts/signer\",\r\n   UPDATE_WATCHED_CONTRACT: \"/contracts/watched\",\r\n   ATTACH_TAG: \"/contracts/tags\",\r\n   REMOVE_TAG: \"/contracts/tags\",\r\n   CANCEL_CONTRACT: \"/contracts/{contractId}/cancel\",\r\n   CANCEL_CONTRACT_SIGNER: \"/contracts/signer/cancel\",\r\n   GET_SIGNER: \"/signers\",\r\n   SIGN_CONTRACT: \"/contracts/sign\",\r\n   SIGN_CONTRACT_SIGNER: \"/contracts/sign/signer\",\r\n   UPLOAD_FILE: '/contracts/file',\r\n   DATA_TO_SIGN: '/contracts/data-to-sign',\r\n   DATA_TO_SIGN_SIGNER: '/contracts/data-to-sign/signer',\r\n   CANCEL_CONTRACTS: '/contracts/cancel',\r\n   UPDATE_AUTHOR_SIGNER: '/contracts/signer/invalid-taxcode',\r\n   UPDATE_AUTHOR_USER: '/contracts/{contractId}/invalid-taxcode'\r\n};\r\nconst FILE = {\r\n   CONVERT_FILE: \"/file-uploads/file-convert\",\r\n   DOWLOAD_FILE: \"/file-uploads/file-s3s\",\r\n\r\n   UPLOAD_FILE: \"/file-uploads\",\r\n   GET_FILE: \"/s3-files/{id}\",\r\n   LIST_FILE: \"/s3-files​\",\r\n}\r\nconst QUESTION = \"/question/send-question\";\r\nconst COMPANY = {\r\n   UPDATE: \"/companies\",\r\n   ADD: \"/companies\",\r\n   GET: \"/companies\",\r\n};\r\nconst COMMON = {\r\n   PROVINCE_LIST: \"/common/provinces\",\r\n   PROVINCE_DETAIL: \"/common/provinces/{id}\",\r\n   DISTRICT_LIST: \"/common​/districts\",\r\n   PROVINCE_DISTRICT: \"/common/provinces/{id}/districts\",\r\n   DISTRICT_DETAIL: \"/common​/districts​/{id}\",\r\n   WARD_LIST: \"/common​/wards\",\r\n   DISTRICT_WARD: \"/common/districts/{id}/wards\",\r\n   WARD_DETAIL: \"/common​/wards​/{id}\",\r\n}\r\nconst COMMENT = {\r\n   LIST: \"/comments/contract/{contractId}\",\r\n   CREATE: \"/comments\",\r\n\r\n   LIST_COMMENT_SIGNER: \"/comments/signer\",\r\n   CREATE_COMMENT_SIGNER: \"/comments/signer\",\r\n\r\n   MARKED_COMMENT_USER: \"/comments/mark/{commentId}\",\r\n   MARKED_COMMENT_SIGNER: \"/comments/signer/mark/{commentId}\",\r\n}\r\nconst NOTIFICATION_CONTRACT = {\r\n   UNREAD_USER: \"/users/notification/{contractId}\",\r\n   UNREAD_SIGNER: \"/users/notification/signer\",\r\n   MARKED_NOTI_USER: '/users/notification/{contractId}/{notificationId}',\r\n   MARKED_NOTI_SIGNER: '/users/notification/signer/{notificationId}',\r\n}\r\nexport { AUTH, COMPANY, QUESTION, CONTRACT, TAGS, COMMON, COMMENT, FILE, NOTIFICATION_CONTRACT };\r\n","import { DefaultAPI } from \"@Utils/axios\";\r\nimport { AUTH, COMPANY } from \"@Enums/endpoints\";\r\nimport { set, get, remove } from '@Utils/cookie';\r\nclass AuthService {\r\n   static login = (data) => {\r\n      const url = AUTH.OTP_LOGIN;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   };\r\n\r\n   static isAuthenticated = () => {\r\n      return !!get('digital_signature_token');\r\n   }\r\n\r\n   static saveToken = (data) => {\r\n      set('digital_signature_token', data.token);\r\n      set('digital_signature_refresh_token', data.refreshToken);\r\n      set('digital_signature_token_type', data.type);\r\n   }\r\n\r\n   static logout = () => {\r\n      const url = AUTH.LOGOUT;\r\n      return Promise.resolve(DefaultAPI.get(url));\r\n   };\r\n\r\n   static signup = (data) => {\r\n      const url = AUTH.OTP_REGISTER;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   };\r\n\r\n   static refreshToken = (data) => {\r\n      const url = AUTH.REFRESH_TOKEN;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   }\r\n\r\n   static updateProfile = (data) => {\r\n      const url = AUTH.UPDATE_USER;\r\n      return Promise.resolve(DefaultAPI.put(url, data));\r\n   };\r\n\r\n   static enterCodeLogin = (data) => {\r\n      const url = AUTH.LOGIN;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   };\r\n\r\n   static enterCodeRegister = (data) => {\r\n      const url = AUTH.REGISTER;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   };\r\n\r\n   static acceptEmailNoti = (data) => {\r\n      const url = AUTH.ACCEPT_EMAIL_NOTI;\r\n      return Promise.resolve(DefaultAPI.put(url, data));\r\n   };\r\n   static profile = () => {\r\n      const url = AUTH.GET_USER;\r\n      return Promise.resolve(DefaultAPI.get(url));\r\n   };\r\n   static addCompany = (data) => {\r\n      const url = COMPANY.ADD;\r\n      return Promise.resolve(DefaultAPI.post(url, data));\r\n   }\r\n   static getNotificationType = (params) => {\r\n      const url = AUTH.GET_NOTIFICATION_TYPE;\r\n      return DefaultAPI.get(url, { params });\r\n   }\r\n   static markedAllNotifications = (params) => {\r\n      const url = AUTH.MARKED_ALL_NOTIFICATIONS;\r\n      return Promise.resolve(DefaultAPI.post(url, params));\r\n   }\r\n   static markedNotification = (contractId, notificationId) => {\r\n      const url = (AUTH.MARKED_NOTIFICATION.replace('{contractId}', contractId)).replace('{notificationId}', notificationId);\r\n      return Promise.resolve(DefaultAPI.post(url));\r\n   }\r\n   static getUnreadNotification = (params) => {\r\n      const url = AUTH.GET_UNREAD_NOTIFICATION;\r\n      return DefaultAPI.get(url, { params });\r\n   }\r\n}\r\nexport default AuthService;\r\n","import AuthService from \"@Services/auth\";\r\nimport { get } from '@Utils/cookie';\r\n\r\nclass RefreshToken {\r\n  request;\r\n\r\n  start(){\r\n    this.request = AuthService.refreshToken({ refreshToken: get('digital_signature_refresh_token')});\r\n  }\r\n\r\n  end() {\r\n    this.promise = null;\r\n  }\r\n\r\n  refreshToken() {\r\n    return new Promise((resolve, reject) => {\r\n      if(!this.request){\r\n        this.start();\r\n      }\r\n      this.request.then(res => {\r\n        resolve(res);\r\n      }).catch(err => {\r\n        reject(err);\r\n      })\r\n    }); \r\n  }\r\n}\r\n\r\nexport default new RefreshToken();","import * as Axios from 'axios';\r\nimport { get } from '@Utils/cookie';\r\nimport queryString from 'query-string';\r\nimport { remove } from './cookie';\r\nimport AuthService from '@Services/auth';\r\nimport RefreshToken from '@Utils/refresh-token';\r\n// https://mcontract.vn\r\nconst API_BASE_URL = 'https://mcontract.vn/api';\r\nconst TOOL_BASE_URL = 'http://localhost:8089';\r\n\r\n/**\r\n * 13/12/2021\r\n * Cập nhật lại cấu trúc error trả về khi có lỗi\r\n * Cấu trúc cũ: string,\r\n * Cấu trúc mới: { errorMsg: string, errorCode: string }\r\n * \r\n */\r\n\r\nconst DefaultAPI = Axios.create({\r\n  baseURL: API_BASE_URL,\r\n  crossDomain: true,\r\n  withCredentials: true,\r\n  // headers: {\r\n  //   'content-type': 'application/json',\r\n  // },\r\n  paramsSerializer: params => queryString.stringify(params),\r\n});\r\n\r\nDefaultAPI.interceptors.request.use(request => {\r\n  const token = get('digital_signature_token');\r\n  const tokenType = get('digital_signature_token_type');\r\n  if (tokenType && token) {\r\n    request.headers.Authorization = `${tokenType} ${token}`;\r\n  }\r\n  return request;\r\n});\r\n\r\nDefaultAPI.interceptors.response.use(\r\n  response => {\r\n    if (response.data && [200, 201, 202, 203, 204].indexOf(response.data.statusCode) === -1) {\r\n      return Promise.reject(response.data.errors);\r\n    }\r\n    return response.data;\r\n  },\r\n  async error => {\r\n    let errorMsg = '';\r\n    let errorCode = '';\r\n    const originalRequest = error.config;\r\n    if (error.response && [401].indexOf(error.response.status) !== -1) {\r\n      try {\r\n        originalRequest._retry = true;\r\n        const res = await RefreshToken.refreshToken();\r\n        AuthService.saveToken(res.data);\r\n        return DefaultAPI(originalRequest);\r\n      } catch {\r\n        remove('digital_signature_token');\r\n        remove('digital_signature_refresh_token');\r\n        remove('digital_signature_token_type');\r\n        window.location.href = '/dang-nhap';\r\n      }\r\n    }\r\n    if (error.response && error.response.data && error.response.data.message) {\r\n      errorMsg = error.response.data.message;\r\n    } else {\r\n      errorMsg = error.message;\r\n    }\r\n\r\n    if (error.response && error.response.data && error.response.data.errorCode) {\r\n      errorCode = error.response.data.errorCode;\r\n    } else {\r\n      errorCode = 'ERROR';\r\n    }\r\n\r\n    return Promise.reject({\r\n      errorMsg: errorMsg,\r\n      errorCode: errorCode,\r\n    });\r\n  },\r\n);\r\n\r\nconst SignerAPI = Axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'content-type': 'application/json',\r\n  },\r\n  paramsSerializer: params => queryString.stringify(params),\r\n});\r\n\r\nSignerAPI.interceptors.response.use(\r\n  response => {\r\n    if (response.data && [200, 201, 202, 203, 204].indexOf(response.data.statusCode) === -1) {\r\n      return Promise.reject(response.data.errors);\r\n    }\r\n    return response.data;\r\n  },\r\n  error => {\r\n    let errorMsg = '';\r\n    let errorCode = '';\r\n    if (error.response && error.response.data && error.response.data.message) {\r\n      errorMsg = error.response.data.message;\r\n    } else {\r\n      errorMsg = error.message;\r\n    }\r\n\r\n    if (error.response && error.response.data && error.response.data.errorCode) {\r\n      errorCode = error.response.data.errorCode;\r\n    } else {\r\n      errorCode = 'ERROR';\r\n    }\r\n\r\n    return Promise.reject({\r\n      errorMsg: errorMsg,\r\n      errorCode: errorCode,\r\n    });\r\n  },\r\n);\r\n\r\nconst ToolAPI = Axios.create({\r\n  baseURL: TOOL_BASE_URL,\r\n  headers: {\r\n    'content-type': 'application/json',\r\n  },\r\n  paramsSerializer: params => queryString.stringify(params),\r\n});\r\n\r\nToolAPI.interceptors.response.use(\r\n  response => {\r\n    if (response.data && [200, 201, 202, 203, 204].indexOf(response.data.statusCode) === -1) {\r\n      return Promise.reject(response.data.errors);\r\n    }\r\n    return response.data;\r\n  },\r\n  error => {\r\n    let message = '';\r\n    if ([400].indexOf(error.response.status) !== -1 && error.response.data.errors) {\r\n      return Promise.reject(error.response.data.errors);\r\n    } else {\r\n      let errorMsg = '';\r\n      let errorCode = '';\r\n      if (error.response && error.response.data && error.response.data.message) {\r\n        errorMsg = error.response.data.message;\r\n      } else {\r\n        errorMsg = error.message;\r\n      }\r\n\r\n      if (error.response && error.response.data && error.response.data.errors) {\r\n        errorCode = error.response.data.errors;\r\n      } else {\r\n        errorCode = 'ERROR';\r\n      }\r\n\r\n      return Promise.reject({\r\n        errorMsg: errorMsg,\r\n        errorCode: errorCode,\r\n      });\r\n    }\r\n\r\n    // let message = '';\r\n    // if (error.response && error.response.data && error.response.data.message) {\r\n    //   message = error.response.data.message;\r\n    // } else {\r\n    //   message = error.message;\r\n    // }\r\n    // return Promise.reject(message);\r\n  },\r\n);\r\n\r\nexport { DefaultAPI, ToolAPI, SignerAPI };\r\n","import { DefaultAPI } from \"@Utils/axios\";\r\nimport { COMMON, FILE } from \"@Enums/endpoints\";\r\nclass GeneralService {\r\n    static getProvinces = (params) => {\r\n        const url = COMMON.PROVINCE_LIST;\r\n        return DefaultAPI.get(url, { params });\r\n    }\r\n    static getDistricts = (id) => {\r\n        const url = COMMON.PROVINCE_DISTRICT.replace('{id}', id);\r\n        return DefaultAPI.get(encodeURI(url));\r\n    }\r\n    static getWards = (id) => {\r\n        const url = COMMON.DISTRICT_WARD.replace('{id}', id);\r\n        return DefaultAPI.get(url);\r\n    }\r\n    static uploadFile = (data) => {\r\n        const url = FILE.UPLOAD_FILE;\r\n        return DefaultAPI.post(url, data);\r\n    }\r\n    static getLetterName = (name) => {\r\n        if(name) {\r\n            const arr = name.split(' ');\r\n            return ((arr[arr.length - 1]).slice(0,1))\r\n        } \r\n        return null;\r\n    }\r\n}\r\nexport default GeneralService;","const ContractStatus = {\r\n  IN_PROGRESS: 'PROCESSING',\r\n  WAIT_PARTNER: 'WAITINGFORPARTNER',\r\n  AUTHENTICATIONFAIL: 'AUTHENTICATIONFAIL',\r\n  FINISH: 'COMPLETE',\r\n  EXPIRED: 'EXPIRED',\r\n  CANCEL: 'CANCEL',\r\n};\r\nexport default ContractStatus;\r\n","import ContractStatus from '@Enums/contract-status.js';\r\n\r\n/* eslint-disable */\r\n\r\nexport function actionDesc(notify) {\r\n  if (notify.type.toUpperCase() == 'COMMENT') {\r\n    if (notify.data.parentId) {\r\n      return 'Đã phản hồi';\r\n    } else {\r\n      return 'Đã gửi';\r\n    }\r\n  }\r\n  if (notify.type.toUpperCase() == 'SIGN') {\r\n    return 'Đã ký';\r\n  }\r\n}\r\n\r\n\r\nexport function letterNameChar(str) {\r\n  const arr = str.trim().split(' ');\r\n  return arr[arr.length - 1][0].toUpperCase();\r\n};\r\n\r\nexport function timeDesc(date) {\r\n  const now = new Date();\r\n  const delta = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n  if (delta < 60) {\r\n    return 'Vừa xong';\r\n  } else if (delta < 3600) {\r\n    return `${Math.floor(delta / 60)} phút trước`;\r\n  } else if (delta < 86400) {\r\n    return `${Math.floor(delta / 3600)} giờ trước`;\r\n  } else if (delta < 240) {\r\n    return `${date.getHours()}:${date.getMinutes()} ${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\r\n  }\r\n};\r\n\r\nexport const contractStatusClassName = status => {\r\n  switch (status) {\r\n    case ContractStatus.IN_PROGRESS:\r\n      return 'wait';\r\n    case ContractStatus.WAIT_PARTNER:\r\n      return 'wait';\r\n    case ContractStatus.CANCEL:\r\n      return 'cancel';\r\n    case ContractStatus.AUTHENTICATIONFAIL:\r\n      return 'wrong';\r\n    case ContractStatus.EXPIRED:\r\n      return 'expire';\r\n    case ContractStatus.FINISH:\r\n      return 'complete';\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport const contractStatusDesc = status => {\r\n  switch (status) {\r\n    case ContractStatus.IN_PROGRESS:\r\n      return 'Chờ xử lý';\r\n    case ContractStatus.WAIT_PARTNER:\r\n      return 'Chờ đối tác';\r\n    case ContractStatus.CANCEL:\r\n      return 'Đã hủy';\r\n    case ContractStatus.AUTHENTICATIONFAIL:\r\n      return 'Sai xác thực';\r\n    case ContractStatus.EXPIRED:\r\n      return 'Quá hạn';\r\n    case ContractStatus.FINISH:\r\n      return 'Hoàn thành';\r\n    default:\r\n      return;\r\n  }\r\n};\r\n\r\nexport const dateToString = e => {\r\n  const d = new Date(e);\r\n  return ('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' + d.getFullYear();\r\n};\r\nexport const checkDevice = () => {\r\n  let check = false;\r\n  (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n  return check;\r\n}\r\n\r\nexport const splitSpace = (object, exclude = []) => {\r\n  Object.keys(object).forEach((key) => {\r\n    if (exclude.filter(item => item.toUpperCase() == key.toUpperCase()).length == 0) {\r\n      object[key] = object[key].trim();\r\n    }\r\n  });\r\n  return object;\r\n}\r\n","import { ToolAPI } from '@Utils/axios';\r\nclass ToolUsb {\r\n  static getToken = () => {\r\n    const url = '/get-token';\r\n    return ToolAPI.get(url);\r\n  };\r\n\r\n  static getCheckUsb = token => {\r\n    const url = '/api/check-usb';\r\n    return ToolAPI.get(url, {\r\n      headers: {\r\n        Authorization: `${token}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  static getCertificate = token => {\r\n    const url = '/api/get-certificate';\r\n    return ToolAPI.get(url, {\r\n      headers: {\r\n        Authorization: `${token}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  static signContract = (token, data) => {\r\n    const url = `/api/sign`;\r\n    return ToolAPI.post(url, data, {\r\n      headers: {\r\n        Authorization: `${token}`,\r\n      },\r\n    });\r\n  };\r\n  static getDataToSign = token => {\r\n    const url = '/api/data-to-sign';\r\n    return ToolAPI.get(url, {\r\n      headers: {\r\n        Authorization: `${token}`,\r\n      },\r\n    });\r\n  }\r\n}\r\nexport default ToolUsb;\r\n","class AUTH_ACTION {\r\n  static SET_USER = 'AUTH/SET_USER';\r\n  static SET_LOADING_PROFILE = 'AUTH/SET_LOADING_PROFILE';\r\n  static SET_LOGGED_OUT = 'AUTH/SET_LOGGED_OUT';\r\n  \r\n\r\n}\r\nclass MENU_ACTION {\r\n  static LOAD = 'theme/LOAD';\r\n}\r\n\r\nclass DATA_ACTION {\r\n  static SET_LOADING_DATA = 'DATA/SET_LOADING_DATA';\r\n  static SET_STATISTICS = 'DATA/SET_STATISTICS';\r\n  static SET_TAGS = 'DATA/SET_TAGS';\r\n  static SET_RELOAD_CONTRACT = 'DATA/SET_RELOAD_CONTRACT';\r\n  static SET_READY_FOR_RELOAD_STATISTICS = 'DATA/SET_READY_FOR_RELOAD_STATISTICS';\r\n  static SET_IS_DISCONNECT = 'DATA/SET_IS_DISCONNECT';\r\n  static SET_UNREAD_NOTIFICATION = 'DATA/SET_UNREAD_NOTIFICATION';\r\n  static SET_ACTIVE_TAB_NOTIFICATION = 'DATA/SET_ACTIVE_TAB_NOTIFICATION';\r\n}\r\n\r\nclass DETAIL_CONTRACT_ACTION {\r\n  static SET_CONTRACT = 'DETAIL_CONTRACT_ACTION/SET_CONTRACT';\r\n  static UPDATE_CONTRACT = 'DETAIL_CONTRACT_ACTION/UPDATE_CONTRACT';\r\n  static SET_COMMENTS = 'DETAIL_CONTRACT_ACTION/SET_COMMENTS';\r\n  static SET_NEW_COMMENT = 'DETAIL_CONTRACT_ACTION/SET_NEW_COMMENT';\r\n  static SET_START_COMMENT = 'DETAIL_CONTRACT_ACTION/SET_START_COMMENT';\r\n  static SET_FOCUS_COMMENT = 'DETAIL_CONTRACT_ACTION/SET_FOCUS_COMMENT';\r\n  static CREATE_NEW_COMMENT = 'DETAIL_CONTRACT_ACTION/CREATE_NEW_COMMENT';\r\n  static ADD_NEW_COMMENT = 'DETAIL_CONTRACT_ACTION/ADD_NEW_COMMENT';\r\n  static ADD_NEW_NOTIFICATION = 'DETAIL_CONTRACT_ACTION/ADD_NEW_NOTIFICATION';\r\n  static REMOVE_NOTIFICATION = 'DETAIL_CONTRACT_ACTION/REMOVE_NOTIFICATION';\r\n  static SET_CURRENT_SIGNER = 'DETAIL_CONTRACT_ACTION/SET_CURRENT_SIGNER';\r\n  static SET_CURRENT_SIGNER_TOKEN = 'DETAIL_CONTRACT_ACTION/SET_CURRENT_SIGNER_TOKEN';\r\n  static ADD_CHILD_COMMENT = 'DETAIL_CONTRACT_ACTION/ADD_CHILD_COMMENT';\r\n  static ADD_COMMENT = 'DETAIL_CONTRACT_ACTION/ADD_COMMENT';\r\n  static SET_PREVIEW_CURRENT_PAGE = 'DETAIL_CONTRACT_ACTION/SET_PREVIEW_CURRENT_PAGE';\r\n  static SET_PREVIEW_TOTAL_PAGES = 'DETAIL_CONTRACT_ACTION/SET_PREVIEW_TOTAL_PAGES';\r\n  static SET_PDF_CURRENT_PAGE = 'DETAIL_CONTRACT_ACTION/SET_PDF_CURRENT_PAGE';\r\n  static SET_PDF_TOTAL_PAGES = 'DETAIL_CONTRACT_ACTION/SET_PDF_TOTAL_PAGES';\r\n  static RESET_DATA = 'DETAIL_CONTRACT_ACTION/RESET_DATA';\r\n  static SET_CONTRACT_TAGS = 'DETAIL_CONTRACT_ACTION/SET_CONTRACT_TAGS';\r\n  static SET_NOTIFICATIONS_UNREAD = 'DETAIL_CONTRACT_ACTION/SET_NOTIFICATIONS_UNREAD';\r\n  static UPDATE_NOTIFICATIONS = 'DETAIL_CONTRACT_ACTION/UPDATE_NOTIFICATIONS';\r\n  static UPDATE_COMMENTS = 'DETAIL_CONTRACT_ACTION/UPDATE_COMMENTS';\r\n  static SET_SHOW_SIGNER_MODAL = 'DETAIL_CONTRACT_ACTION/SET_SHOW_SIGNER_MODAL';\r\n  static SET_FOCUS_SIGN = 'DETAIL_CONTRACT_ACTION/SET_FOCUS_SIGN';\r\n  static SET_CANCELING = 'DETAIL_CONTRACT_ACTION/SET_CANCELING';\r\n  static SET_LOADED_ALL_PAGE_DETAIL = 'DETAIL_CONTRACT_ACTION/SET_LOADED_ALL_PAGE_DETAIL';\r\n  static SET_LOADED_ALL_PAGE_PREVIEW_DETAIL = 'DETAIL_CONTRACT_ACTION/SET_LOADED_ALL_PAGE_PREVIEW_DETAIL';\r\n  static SET_IS_DISCONNECT = 'DETAIL_CONTRACT_ACTION/SET_IS_DISCONNECT';\r\n  static SET_FOCUS_REALTIME_COMMENT = 'DETAIL_CONTRACT_ACTION/SET_FOCUS_REALTIME_COMMENT';\r\n}\r\n\r\nclass NOTIFICATION_ACTION {\r\n  static SET_NOTIFICATIONS = 'NOTIFICATION/SET_NOTIFICATIONS';\r\n  static ADD_NOTIFICATION = 'NOTIFICATION/ADD_NOTIFICATION';\r\n  static REMOVE_NOTIFICATION = 'NOTIFICATION/REMOVE_NOTIFICATION';\r\n  static UPDATE_ALL_NOTIFICATIONS = 'NOTIFICATION/UPDATE_ALL_NOTIFICATIONS';\r\n\r\n  static SET_NEW_CONTRACT_NOTIFICATIONS = 'NOTIFICATION/SET_NEW_CONTRACT_NOTIFICATIONS';\r\n  static UPDATE_NEW_CONTRACT_NOTIFICATIONS = 'NOTIFICATION/UPDATE_NEW_CONTRACT_NOTIFICATIONS';\r\n  static SET_COMMENT_NOTIFICATIONS = 'NOTIFICATION/SET_COMMENT_NOTIFICATIONS';\r\n  static UPDATE_COMMENT_NOTIFICATIONS = 'NOTIFICATION/UPDATE_COMMENT_NOTIFICATIONS';\r\n  static SET_EXPIRE_NOTIFICATIONS = 'NOTIFICATION/SET_EXPIRE_NOTIFICATIONS';\r\n  static UPDATE_EXPIRE_NOTIFICATIONS = 'NOTIFICATION/UPDATE_EXPIRE_NOTIFICATIONS';\r\n  static UPDATE_STATUS_NOTIFICATIONS = 'NOTIFICATION/UPDATE_STATUS_NOTIFICATIONS';\r\n}\r\n\r\nclass CREATE_CONTRACT_ACTION {\r\n  static SET_STEP = 'CREATE_CONTRACT/SET_STEP';\r\n  static SET_FILE = 'CREATE_CONTRACT/SET_FILE';\r\n  static SET_FILE_URL = 'CREATE_CONTRACT/SET_FILE_URL';\r\n  static SET_SIGNERS = 'CREATE_CONTRACT/SET_SIGNERS';\r\n  static ADD_SIGNER = 'CREATE_CONTRACT/ADD_SIGNER';\r\n  static UPDATE_SIGNER = 'CREATE_CONTRACT/UPDATE_SIGNER';\r\n  static UPDATE_SIGNER_POSITION = 'CREATE_CONTRACT/UPDATE_SIGNER_POSITION';\r\n  static REMOVE_SIGNER = 'CREATE_CONTRACT/REMOVE_SIGNER';\r\n  static SET_INFORMATION = 'CREATE_CONTRACT/SET_INFORMATION';\r\n  static SET_PREVIEW_CURRENT_PAGE = 'CREATE_CONTRACT/SET_PREVIEW_CURRENT_PAGE';\r\n  static SET_PREVIEW_TOTAL_PAGES = 'CREATE_CONTRACT/SET_PREVIEW_TOTAL_PAGES';\r\n  static SET_PDF_CURRENT_PAGE = 'CREATE_CONTRACT/SET_PDF_CURRENT_PAGE';\r\n  static SET_PDF_TOTAL_PAGES = 'CREATE_CONTRACT/SET_PDF_TOTAL_PAGES';\r\n  static SET_CREATING_CONTRACT = 'CREATE_CONTRACT/SET_CREATING_CONTRACT';\r\n  static SET_READY_FOR_CREATING = 'CREATE_CONTRACT/SET_READY_FOR_CREATING';\r\n  static RESET_DATA = 'CREATE_CONTRACT/RESET_DATA';\r\n}\r\n\r\nclass NEW_CONTRACT_ACTION {\r\n  static SET_NEW_CONTRACTS = 'NEW_CONTRACT/SET_NEW_CONTRACTS';\r\n  static SET_READY_FOR_RELOADING = 'NEW_CONTRACT/SET_READY_FOR_RELOADING';\r\n}\r\nclass ALERT_MODAL_ACTION {\r\n  static SET_MODAL = \"ALERT_MODAL/SET_MODAL\";\r\n}\r\nclass INSTALL_TOOL_MODAL_ACTION {\r\n  static SET_INSTALL_TOOL_MODAL = \"INSTALL_TOOL_MODAL/SET_INSTALL_TOOL_MODAL\"\r\n}\r\nclass ALERT_TOAST_ACTION {\r\n  static ADD_TOAST = 'ALERT_TOAST/ADD_TOAST';\r\n  static REMOVE_TOAST = 'ALERT_TOAST/REMOVE_TOAST'\r\n}\r\nclass LIST_CONTRACT_ACTION {\r\n  static SET_LIST_CONTRACTS = 'LIST_CONTRACT/SET_LIST_CONTRACT';\r\n  static SET_READY_FOR_RELOADING = 'LIST_CONTRACT/SET_READY_FOR_RELOADING';\r\n  static SET_IS_CANCELING = 'LIST_CONTRACT/SET_IS_CANCELING';\r\n  static SET_GLOBAL_SIGNING = 'LIST_CONTRACT/SET_GLOBAL_SIGNING'\r\n}\r\n\r\nexport {\r\n  DATA_ACTION,\r\n  AUTH_ACTION, MENU_ACTION, DETAIL_CONTRACT_ACTION, NOTIFICATION_ACTION, CREATE_CONTRACT_ACTION, NEW_CONTRACT_ACTION, LIST_CONTRACT_ACTION,\r\n  ALERT_MODAL_ACTION, INSTALL_TOOL_MODAL_ACTION, ALERT_TOAST_ACTION\r\n};\r\n","import { LIST_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setListContracts(data) {\r\n  return {\r\n    type: ACTION.SET_LIST_CONTRACTS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setReadyForReloading(readyForReloading) {\r\n  return {\r\n    type: ACTION.SET_READY_FOR_RELOADING,\r\n    payload: readyForReloading,\r\n  };\r\n}\r\nfunction setIsCanceling(isCanceling) {\r\n  return {\r\n    type: ACTION.SET_IS_CANCELING,\r\n    payload: isCanceling,\r\n  };\r\n}\r\nfunction setGlobalSigning(isGlobalSigning) {\r\n  return {\r\n    type: ACTION.SET_GLOBAL_SIGNING,\r\n    payload: isGlobalSigning,\r\n  };\r\n}\r\nexport { setListContracts, setReadyForReloading, setIsCanceling, setGlobalSigning };\r\n","import { INSTALL_TOOL_MODAL_ACTION as ACTION } from \"@Consts/action\";\r\n\r\n\r\nfunction setInstallToolModal(status) {\r\n    return {\r\n        type: ACTION.SET_INSTALL_TOOL_MODAL,\r\n        payload: status,\r\n    };\r\n}\r\n\r\nexport { setInstallToolModal };\r\n","import { DefaultAPI, SignerAPI } from \"@Utils/axios\";\r\nimport { CONTRACT, NOTIFICATION_CONTRACT, FILE } from \"@Enums/endpoints\";\r\nconst BASE_URL = \"https://mcontract.vn/api\";\r\nclass ContractService {\r\n\r\n   static getContract = (params) => {\r\n      const url = CONTRACT.LIST_CONTRACT;\r\n      return DefaultAPI.get(url, { params });\r\n   }\r\n\r\n   static getStatisContract = () => {\r\n      const url = CONTRACT.STATIS_CONTRACT;\r\n      return DefaultAPI.get(url);\r\n   }\r\n\r\n   static updateWatched = (data) => {\r\n      const url = CONTRACT.UPDATE_WATCHED_CONTRACT;\r\n      return DefaultAPI.put(url, data);\r\n   }\r\n\r\n\r\n   static uploadFile = (id, data) => {\r\n      const url = `${CONTRACT.UPLOAD_FILE}?contractId=${id}`;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static convertFile = (data) => {\r\n      const url = FILE.CONVERT_FILE;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static getFile = (id) => {\r\n      const url = FILE.GET_FILE.replace('{id}', id);\r\n      return DefaultAPI.get(url);\r\n   }\r\n\r\n   static addContract(data) {\r\n      const url = CONTRACT.ADD_CONTRACT;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static detailContract(id) {\r\n      const url = CONTRACT.DETAIL_CONTRACT.replace('{id}', id);\r\n      return DefaultAPI.get(url);\r\n   }\r\n\r\n   static detailContractUser(id) {\r\n      const url = CONTRACT.DETAIL_CONTRACT_USER.replace('{contractId}', id);\r\n      return DefaultAPI.get(url);\r\n   }\r\n\r\n   static detailContractSigner(token) {\r\n      const url = CONTRACT.DETAIL_CONTRACT_SIGNER;\r\n      return SignerAPI.get(url, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      })\r\n   }\r\n\r\n   static attachTag = (data) => {\r\n      const url = CONTRACT.ATTACH_TAG;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static removeTag = (data) => {\r\n      const url = CONTRACT.REMOVE_TAG;\r\n      return DefaultAPI.delete(url, { data });\r\n   }\r\n\r\n   static deleteContract = (data) => {\r\n      const url = CONTRACT.DELETE_CONTRACT;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static cancelContract = (contractId, params) => {\r\n      const url = CONTRACT.CANCEL_CONTRACT.replace('{contractId}', contractId);\r\n      return DefaultAPI.put(url, params);\r\n   }\r\n   static cancelContractSigner = (token) => {\r\n      const url = CONTRACT.CANCEL_CONTRACT_SIGNER;\r\n      return SignerAPI.put(url, {}, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         }\r\n      });\r\n   }\r\n   static cancelContracts = (params) => {\r\n      const url = CONTRACT.CANCEL_CONTRACTS;\r\n      return DefaultAPI.put(url, params);\r\n   }\r\n\r\n   static dowloadContract = (data) => {\r\n      const url = FILE.DOWLOAD_FILE;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static inforSigner(token) {\r\n      const url = CONTRACT.GET_SIGNER;\r\n      return SignerAPI.get(url, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      });\r\n   }\r\n\r\n   static signContract(data) {\r\n      const url = CONTRACT.SIGN_CONTRACT;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static signContractSigner(token, data) {\r\n      const url = CONTRACT.SIGN_CONTRACT_SIGNER;\r\n      return SignerAPI.post(url, data, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      })\r\n   }\r\n\r\n   static notificationsUnreadUser(contractId, params) {\r\n      const url = NOTIFICATION_CONTRACT.UNREAD_USER.replace('{contractId}', contractId);\r\n      return DefaultAPI.get(url, { params });\r\n   }\r\n\r\n   static notificationsUnreadSigner(token, params) {\r\n      const url = NOTIFICATION_CONTRACT.UNREAD_SIGNER;\r\n      return SignerAPI.get(url, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n         params: params\r\n      });\r\n   }\r\n\r\n   static markNotiContractUser(contractId, notificationId) {\r\n      const url = NOTIFICATION_CONTRACT.MARKED_NOTI_USER.replace('{contractId}', contractId).replace('{notificationId}', notificationId);\r\n      return DefaultAPI.post(url);\r\n   }\r\n\r\n   static markNotiContractSigner(token, notificationId) {\r\n      const url = NOTIFICATION_CONTRACT.MARKED_NOTI_SIGNER.replace('{notificationId}', notificationId);\r\n      return SignerAPI.post(url, {}, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      });\r\n   }\r\n\r\n   static dataToSign(data) {\r\n      const url = CONTRACT.DATA_TO_SIGN;\r\n      return DefaultAPI.post(url, data);\r\n   }\r\n\r\n   static dataToSignSigner(token, data) {\r\n      const url = CONTRACT.DATA_TO_SIGN_SIGNER;\r\n      return SignerAPI.post(url, data, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      })\r\n   }\r\n\r\n   static updateAuthorSigner(token) {\r\n      const url = CONTRACT.UPDATE_AUTHOR_SIGNER;\r\n      return SignerAPI.put(url, {}, {\r\n         headers: {\r\n            \"Signer\": `Bearer ${token}`,\r\n         },\r\n      });\r\n   }\r\n\r\n   static updateAuthorUser(contractId) {\r\n      const url = CONTRACT.UPDATE_AUTHOR_USER.replace('{contractId}', contractId);\r\n      return DefaultAPI.put(url, {});\r\n   }\r\n}\r\n\r\nexport default ContractService;\r\n","import { ALERT_TOAST_ACTION as ACTION } from \"@Consts/action\";\r\n\r\nfunction addToast(data) {\r\n    \r\n    return {\r\n        type: ACTION.ADD_TOAST,\r\n        payload: data,\r\n    };\r\n}\r\nfunction removeToast(data) {\r\n    return {\r\n        type: ACTION.REMOVE_TOAST,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport { addToast, removeToast };\r\n","import React, { useEffect, useState } from 'react';\r\nimport { IconDelete, IconDot, IconDownload, IconFile, IconPencil, IconRead, IconReceive, IconSend, IconTag, IconUnread } from '@Components/Icon';\r\nimport { OverlayTrigger, Tooltip, Dropdown } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport GeneralService from '@Services/general';\r\nimport { contractStatusDesc, contractStatusClassName, dateToString, letterNameChar } from '@Utils/helpers';\r\nimport ContractStatus from '@Enums/contract-status.js';\r\nimport ToolUsb from '@Services/toolUsb';\r\n// import { setContract, updateContract, setCurrentSigner } from '@Redux/Actions/DetailContract';\r\nimport { setGlobalSigning } from '@Redux/Actions/ListContract';\r\nimport { setInstallToolModal } from '@Redux/Actions/InstallToolModal';\r\nimport ContractService from '@Services/contract';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n    <a\r\n        href=\"javascript:void(0)\"\r\n        className=\"three_dots\"\r\n        id=\"dropdownMenuButton\"\r\n        ref={ref}\r\n        onClick={e => {\r\n            e.stopPropagation();\r\n            onClick(e);\r\n        }}\r\n    >\r\n        {children}\r\n    </a>\r\n));\r\n\r\nconst ContractItem = ({ contract, index, selectedContracts, checkContracts, onCheck, showAction = true, showAvatar = false, showContractType = false, onUpdateReadStatus, onDeleteContracts, onCancelContracts, onDownloadContracts, onAttachTagContracts, isRequesting }) => {\r\n    const user = useSelector(state => state.auth.user);\r\n    const [isSigning, setIsSigning] = useState(false);\r\n    const { isCanceling, isGlobalSigning } = useSelector(state => state.listContracts);\r\n    const dispatch = useDispatch();\r\n\r\n    const history = useHistory();\r\n\r\n    const isContractCompleted = contract => {\r\n        return contract.signerDtos.filter(signer => signer.isSigned).length == contract.signerDtos.length;\r\n    };\r\n\r\n    const isSigned = contract => {\r\n        return contract.signerDtos.filter(signer => signer.isSigned).filter(signer => signer.email == user.email).length > 0;\r\n    };\r\n\r\n    const getSignersSigned = contract => {\r\n        return contract.signerDtos.filter(signer => signer.isSigned);\r\n    };\r\n\r\n    const RedirectToDetail = (contract, event) => {\r\n        if (!contract.wathched) {\r\n            onUpdateReadStatus(event, true, contract);\r\n        }\r\n        history.push(`/hop-dong/${contract.id}`);\r\n    };\r\n\r\n    const showExpired = contract => {\r\n        const createdDate = new Date(contract.createdTime);\r\n        const expiredDate = new Date(contract.expirationTime);\r\n        return (expiredDate - createdDate) / 86400000 < 91;\r\n    };\r\n    function listContractTag(event, tag) {\r\n        event.stopPropagation();\r\n        const params = {\r\n            tagId: tag.id,\r\n        };\r\n        Object.keys(params).forEach(key => {\r\n            if (!params[key]) {\r\n                delete params[key];\r\n            }\r\n        });\r\n        history.push('/hop-dong-theo-the?' + new URLSearchParams(params).toString());\r\n    }\r\n    // START SIGN\r\n    const onSendSign = async (value, fileName, contractSigned) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                const data = {\r\n                    contractId: contractSigned.id,\r\n                    pemCert: value.pemCert,\r\n                    signed: value.signed,\r\n                    base64CertificateChain: value.base64CertificateChain,\r\n                    fileName: fileName,\r\n                };\r\n                await ContractService.signContract(data);\r\n                resolve(true);\r\n            } catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n\r\n    const onDataToSign = async (data, contractSigned) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                const obj = {\r\n                    contractId: contractSigned.id,\r\n                    pemCert: data.pemCert,\r\n                    base64CertificateChain: data.base64CertificateChain,\r\n                };\r\n                const res = await ContractService.dataToSign(obj);\r\n                resolve(res);\r\n            } catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n\r\n    const signTool = async (data, contractSigned) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                const token = await handleInfor();\r\n                const obj = {\r\n                    dataToSign: data.dataToSign,\r\n                    taxCode: user.company.taxCode,\r\n                };\r\n                const res = await ToolUsb.signContract(token, obj);\r\n                // dispatch(setGlobalSigning(false));\r\n                resolve(res);\r\n            } catch (err) {\r\n                if (err == 'WRONG_TAX_CODE') {\r\n                    await ContractService.updateAuthorUser(contractSigned.id);\r\n                }\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loopSign = (dataToSign, contractSigned) => {\r\n        return new Promise(async (resolve, reject) => {\r\n            let count = 0;\r\n            let success = false;\r\n            let error = '';\r\n            while (count < 5) {\r\n                try {\r\n                    dispatch(setGlobalSigning(true));\r\n                    const resToSign = await onDataToSign(dataToSign.data, contractSigned);\r\n                    const resSignTool = await signTool(resToSign.data, contractSigned);\r\n                    const resSign = await onSendSign(resSignTool.data, resToSign.data.fileName, contractSigned);\r\n                    count = 5;\r\n                    success = true;\r\n                    error = '';\r\n                } catch (err) {\r\n                    error = err;\r\n                    success = false;\r\n                    if (err == 'WRONG_TAX_CODE' || err == 'CANCELLED_BY_USER') {\r\n                        count = 5;\r\n                        dispatch(setGlobalSigning(false));\r\n                    } else {\r\n                        count = count + 1;\r\n                    }\r\n                }\r\n            }\r\n            if (!success) {\r\n                dispatch(setGlobalSigning(false));\r\n                reject(error);\r\n            } else {\r\n                resolve(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const onSign = async (contractSigned, event) => {\r\n        event.stopPropagation();\r\n        if (!isSigning && !isGlobalSigning) {\r\n            if ((!isSigned(contractSigned) && (contractSigned.status == 'PROCESSING' || contractSigned.status == 'WAITINGFORPARTNER'))) {\r\n                try {\r\n                    setIsSigning(true);\r\n                    dispatch(setGlobalSigning(true));\r\n                    const token = await handleInfor();\r\n                    const dataToSign = await ToolUsb.getDataToSign(token);\r\n                    await loopSign(dataToSign, contractSigned);\r\n                    if (user) {\r\n                        const signerDtos = contractSigned.signerDtos.map(item => {\r\n                            if (item.email == user.email) {\r\n                                return { ...item, ...{ isSigned: true } };\r\n                            } else {\r\n                                return item;\r\n                            }\r\n                        });\r\n                    }\r\n                    dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contractSigned.title, type: 'SUCCESS_SIGN_CONTRACT', color: 'green' }))\r\n                } catch (err) {\r\n                    switch (err) {\r\n                        case 'WRONG_TAX_CODE':\r\n                            dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contractSigned.title, color: 'purple', type: 'ERROR_AUTHOR', message: 'Sai mã số thuế.' }));\r\n                            break;\r\n                        case 'CANCELLED_BY_USER':\r\n                            break;\r\n                        case 'NOT_TOOL':\r\n                            dispatch(setInstallToolModal({ isShow: true, userName: user.fullName }));\r\n                            break;\r\n                        case 'NOT_USBTOKEN':\r\n                            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ATTACH_USBTOKEN_SIGN' }));\r\n                            break;\r\n                        default:\r\n                            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\" }));\r\n                            break;\r\n                    }\r\n                } finally {\r\n                    dispatch(setGlobalSigning(false));\r\n                    setIsSigning(false);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const checkTool = () => {\r\n        return new Promise(async (resolve, reject) => {\r\n            ToolUsb.getToken()\r\n                .then((res) => {\r\n                    resolve(res);\r\n                })\r\n                .catch((err) => {\r\n                    reject(err);\r\n                })\r\n            setTimeout(() => {\r\n                reject('NOT_TOOL');\r\n            }, 1000);\r\n        })\r\n    }\r\n\r\n    const handleInfor = () => {\r\n        return new Promise(async (resolve, reject) => {\r\n            try {\r\n                // const resToken = await ToolUsb.getToken();\r\n                const resToken = await checkTool();\r\n                const token = resToken.data;\r\n                const checkUSB = await ToolUsb.getCheckUsb(token);\r\n                if (checkUSB.message.toUpperCase() == 'DISCONNECTED') {\r\n                    reject('NOT_USBTOKEN');\r\n                } else {\r\n                    resolve(token);\r\n                }\r\n            } catch (err) {\r\n                reject('NOT_TOOL');\r\n            }\r\n        });\r\n    };\r\n    // END SIGN\r\n    const isSelected = () => {\r\n        // return selectedContracts.filter(item => contract.id == item.id).length > 0;\r\n        return checkContracts.filter(item => contract.id == item.id).length > 0;\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{ pointerEvents: ((isCanceling && isSelected()) || isSigning) ? 'none' : '' }} onClick={e => RedirectToDetail(contract, e)} className={`contract_item ${contract.wathched ? '' : 'ci_unread'} row mx-0 ${contract.status == ContractStatus.CANCEL ? 'ci_cancel' : ''}`} key={`contract_${index}`}>\r\n                {(isSigning || (isCanceling && isSelected())) && <div className=\"item-contract-loader\"> <div className=\"loader-content\"><Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> {isSigning ? 'Đang ký...' : 'Đang hủy...'} </div></div>}\r\n                {showAction && (\r\n                    <>\r\n                        <div className=\"checkbox col-auto px-2 order-0 order-lg-0\">\r\n                            <div onClick={e => e.stopPropagation()} className=\"custom-control custom-checkbox d-inline-block\">\r\n                                <input type=\"checkbox\" className=\"custom-control-input\" id={`check${index}`} checked={checkContracts.filter(item => item.id == contract.id).length > 0} onChange={e => onCheck(e, contract, e.target.checked)} name=\"checkbox-all\" />\r\n                                <label className=\"custom-control-label\" htmlFor={`check${index}`}></label>\r\n                            </div>\r\n                            {contract.userCreate.id == user.id ? <IconReceive /> : <IconSend />}\r\n                        </div>\r\n                    </>\r\n                )}\r\n                {showAvatar && (\r\n                    <>\r\n                        <div className=\"ci_img go_cell col-auto pl-2 pr-3 order-0 d-none d-xl-block\">\r\n                            <div className=\"ci_img_wrap\">\r\n                                <img\r\n                                    src={contract.userCreate.avatarPath ? contract.userCreate.avatarPath : ''}\r\n                                    className=\"rounded-circle\"\r\n                                    onError={e => {\r\n                                        e.target.onerror = null;\r\n                                        e.target.remove();\r\n                                    }}\r\n                                    alt=\"\"\r\n                                    loading=\"lazy\"\r\n                                />\r\n                                <div className=\"img_alt\">\r\n                                    <span>{GeneralService.getLetterName(contract.userCreate.fullName)}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n                <div className=\"ci_people go_cell col pl-2 pl-xl-0 pr-0 order-4 order-sm-1 order-lg-1\">\r\n                    <div>\r\n                        {contract.userCreate.fullName}, ({contract.signerDtos.length - 1})\r\n                    </div>\r\n                    <div className=\"sign_status d-none d-lg-block\">\r\n                        {showContractType && (contract.type === 'CREATER' ? <IconReceive /> : <IconSend />)}\r\n                        {!showAction && <> &nbsp;</>}\r\n                        <span onClick={e => onSign(contract, e)} className={`ss_icon ${isSigned(contract) ? 'completed' : ''}`} style={{ cursor: (!isSigned(contract) && (contract.status == 'PROCESSING' || contract.status == 'WAITINGFORPARTNER')) ? \"\" : 'not-allowed' }}>\r\n                            <IconPencil />\r\n                        </span>\r\n                        <span className={isContractCompleted(contract) ? 'completed' : ''}>\r\n                            {getSignersSigned(contract).length}/{contract.signerDtos.length}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"people_list shadow d-none d-md-block\">\r\n                        {contract.signerDtos.map((partner, i) => (\r\n                            <React.Fragment key={i}>\r\n                                {/* {partner.email != contract.userCreate.email && ( */}\r\n                                <div className=\"row person_item\">\r\n                                    <div className=\"col-auto pr-0\">{partner.avatarPath ? <img src={partner.avatarPath ? partner.avatarPath : ''} className=\"rounded-circle person_img\" alt=\"\" loading=\"lazy\" /> : <div className=\"person_img_alt\">{letterNameChar(partner.fullName)}</div>}</div>\r\n                                    <div className=\"col pr-0 person_text\">\r\n                                        <div className=\"person_name\">{partner.fullName}</div>\r\n                                        <div className=\"person_email text-secondary\">{partner.email}</div>\r\n                                    </div>\r\n                                    {partner.isSigned ? (\r\n                                        <div className=\"col-auto ml-auto completed d-flex align-items-center\">\r\n                                            <div className=\"\">\r\n                                                {' '}\r\n                                                <IconPencil />\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        ''\r\n                                    )}\r\n                                </div>\r\n                                {/* )} */}\r\n                            </React.Fragment>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"ci_title go_cell col order-4 order-lg-2 pl-2 pl-lg-3 pr-2 pr-lg-3\">\r\n                    <div className=\"ci_name\">\r\n                        <span>{contract.title}</span> - {contract.content}\r\n                    </div>\r\n                    <div className=\"attachment align-items-center\">\r\n                        <IconFile />\r\n                        <span className=\"attachment_name\">{contract.fileName}</span>\r\n                    </div>\r\n                </div>\r\n                <div className={`ci_responses ${contract.wathched ? '' : 'ci_response_unread'} go_cell col-auto pl-0 order-2 order-lg-3 ml-auto`}>\r\n                    <div className=\"text-center\">\r\n                        <div className=\"ci_responses_count\">{contract.countCommnet}</div>\r\n                        <div className=\"ci_responses_text\">PHẢN HỒI</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ci_status go_cell col-auto text-center pl-0 pr-2 order-5 order-lg-4 ml-auto ml-lg-0\">\r\n                    <div className={`status_text ${contractStatusClassName(contract.status)}`}>{contractStatusDesc(contract.status)}</div>\r\n                    {showExpired(contract) && <div className={`${contract.status == ContractStatus.EXPIRED ? 'text-danger' : ''}`}>{dateToString(contract.expirationTime)}</div>}\r\n                </div>\r\n\r\n                {showAction && (\r\n                    <>\r\n                        <div className=\"ci_action col-auto text-right pr-2 order-6\">\r\n                            {contract.wathched ? (\r\n                                <OverlayTrigger overlay={<Tooltip>Đánh dấu là chưa đọc</Tooltip>} placement=\"top\">\r\n                                    {({ ref, ...triggerHandler }) => (\r\n                                        <a href=\"javascript:void(0)\" {...triggerHandler} onClick={e => onUpdateReadStatus(e, false, contract)} ref={ref}>\r\n                                            <IconUnread />\r\n                                        </a>\r\n                                    )}\r\n                                </OverlayTrigger>\r\n                            ) : (\r\n                                <OverlayTrigger overlay={<Tooltip>Đánh dấu là đã đọc</Tooltip>} placement=\"top\">\r\n                                    {({ ref, ...triggerHandler }) => (\r\n                                        <a href=\"javascript:void(0)\" {...triggerHandler} onClick={e => onUpdateReadStatus(e, true, contract)} ref={ref}>\r\n                                            <IconRead />\r\n                                        </a>\r\n                                    )}\r\n                                </OverlayTrigger>\r\n                            )}\r\n\r\n                            <OverlayTrigger overlay={<Tooltip> Tải hợp đồng </Tooltip>} placement=\"top\">\r\n                                {({ ref, ...triggerHandler }) => (\r\n                                    <a href=\"javascript:void(0)\" {...triggerHandler} onClick={e => onDownloadContracts(e, contract)} ref={ref}>\r\n                                        <IconDownload />\r\n                                    </a>\r\n                                )}\r\n                            </OverlayTrigger>\r\n                            {\r\n                                ((contract.status == 'WAITINGFORPARTNER' && !isSigned(contract)) || contract.status == \"PROCESSING\") &&\r\n                                <OverlayTrigger overlay={<Tooltip> Hủy hợp đồng </Tooltip>} placement=\"top\">\r\n                                    {({ ref, ...triggerHandler }) => (\r\n                                        <a href=\"javascript:void(0)\" {...triggerHandler} onClick={e => onCancelContracts(e, contract, true)} ref={ref}>\r\n                                            <IconDelete />\r\n                                        </a>\r\n                                    )}\r\n                                </OverlayTrigger>\r\n                            }\r\n\r\n                            <OverlayTrigger overlay={<Tooltip>Danh sách thẻ</Tooltip>} placement=\"top\">\r\n                                {({ ref, ...triggerHandler }) => (\r\n                                    <>\r\n                                        <span onClick={e => onAttachTagContracts(e, contract, true)}>\r\n                                            <a href=\"javascript:void(0)\" {...triggerHandler} ref={ref}>\r\n                                                <IconTag />\r\n                                            </a>\r\n                                        </span>\r\n                                    </>\r\n                                )}\r\n                            </OverlayTrigger>\r\n                        </div>\r\n                        <div className=\"ci_action_mobi col-auto order-3 text-center ml-auto mb-1 pl-1 pr-2\">\r\n                            <Dropdown>\r\n                                <Dropdown.Toggle as={CustomToggle}>\r\n                                    <IconDot />\r\n                                </Dropdown.Toggle>\r\n                                <Dropdown.Menu popperConfig={{ placement: 'right-end' }}>\r\n                                    {contract.wathched ? (\r\n                                        <Dropdown.Item href=\"javascript:void(0)\" onClick={e => onUpdateReadStatus(e, false, contract)}>\r\n                                            <IconUnread />\r\n                                            &ensp;&nbsp;Đánh dấu là chưa đọc\r\n                                        </Dropdown.Item>\r\n                                    ) : (\r\n                                        <Dropdown.Item href=\"javascript:void(0)\" onClick={e => onUpdateReadStatus(e, true, contract)}>\r\n                                            <IconRead />\r\n                                            &ensp;&nbsp;Đánh dấu là đã đọc\r\n                                        </Dropdown.Item>\r\n                                    )}\r\n                                    <Dropdown.Item href=\"javascript:void(0)\" onClick={e => onDownloadContracts(e, contract)}>\r\n                                        <IconDownload />\r\n                                        &ensp;&nbsp;Tải hợp đồng\r\n                                    </Dropdown.Item>\r\n                                    {\r\n                                        ((contract.status == 'WAITINGFORPARTNER' && !isSigned(contract)) || contract.status == \"PROCESSING\") &&\r\n                                        <Dropdown.Item href=\"javascript:void(0)\" onClick={e => onCancelContracts(e, contract, true)}>\r\n                                            <IconDownload />\r\n                                            &ensp;&nbsp;Hủy hợp đồng\r\n                                        </Dropdown.Item>\r\n                                    }\r\n                                    <Dropdown.Item href=\"javascript:void(0)\" onClick={e => onAttachTagContracts(e, contract, true)} data-toggle=\"modal\" data-target=\"#tagsModal\">\r\n                                        <IconTag />\r\n                                        &ensp;&nbsp;Danh sách thẻ\r\n                                    </Dropdown.Item>\r\n                                </Dropdown.Menu>\r\n                            </Dropdown>\r\n                        </div>\r\n                        <div className=\"sticky_tags\">\r\n                            {contract.tagDtos &&\r\n                                contract.tagDtos.map((tag, index) => (\r\n                                    <>\r\n                                        {index < 3 && (\r\n                                            <div style={{ background: `${tag.colorCode}`, cursor: 'pointer' }} onClick={e => listContractTag(e, tag)} className=\"st_item\" key={index}>\r\n                                                <span>{tag.name}</span>\r\n                                            </div>\r\n                                        )}\r\n                                    </>\r\n                                ))}\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default ContractItem;","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n// import { setContract, updateContract, setCurrentSigner } from '@Redux/Actions/DetailContract';\r\nimport ContractItem from '../ContractItem';\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n  <a\r\n    href=\"javascript:void(0)\"\r\n    className=\"three_dots\"\r\n    id=\"dropdownMenuButton\"\r\n    ref={ref}\r\n    onClick={e => {\r\n      e.stopPropagation();\r\n      onClick(e);\r\n    }}\r\n  >\r\n    {children}\r\n  </a>\r\n));\r\n\r\nconst ContractList = ({ contracts, selectedContracts, checkContracts, onCheck, showAction = true, showAvatar = false, showContractType = false, onUpdateReadStatus, onDeleteContracts, onCancelContracts, onDownloadContracts, onAttachTagContracts, isRequesting, isCanceling }) => {\r\n  const user = useSelector(state => state.auth.user);\r\n  // const [isSigning, setIsSigning] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const { isCreatingContract } = useSelector(state => state.createContract);\r\n\r\n  const history = useHistory();\r\n\r\n  const isContractCompleted = contract => {\r\n    return contract.signerDtos.filter(signer => signer.isSigned).length == contract.signerDtos.length;\r\n  };\r\n\r\n  const isSigned = contract => {\r\n    return contract.signerDtos.filter(signer => signer.isSigned).filter(signer => signer.email == user.email).length > 0;\r\n  };\r\n\r\n  const getSignersSigned = contract => {\r\n    return contract.signerDtos.filter(signer => signer.isSigned);\r\n  };\r\n  function listContractTag(event, tag) {\r\n    event.stopPropagation();\r\n    const params = {\r\n      tagId: tag.id,\r\n    };\r\n    Object.keys(params).forEach(key => {\r\n      if (!params[key]) {\r\n        delete params[key];\r\n      }\r\n    });\r\n    history.push('/hop-dong-theo-the?' + new URLSearchParams(params).toString());\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isRequesting ? (\r\n        <div className={`contract_item text-center p-3 mt-3`}>\r\n          <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" className=\"mr-3\" /> Đang tải dữ liệu...\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {isCreatingContract && (\r\n            <div className={`contract_item contract_item_sending text-center p-3 ${contracts && contracts.length > 0 ? '' : 'mt-3'}`} style={{ borderBottom: (contracts && contracts.length > 0) ? 0 : '1px solid #d9d9d9' }}>\r\n              <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Đang tạo hợp đồng....\r\n            </div>\r\n          )}\r\n          {contracts && contracts.length > 0 ? (\r\n            contracts.map((contract, index) => (\r\n              <ContractItem key={`contractItem_${contract.id}`} contract={contract} index={index} showAction={showAction} showAvatar={showAvatar} selectedContracts={selectedContracts} checkContracts={checkContracts} onCheck={onCheck} showContractType={showContractType} onUpdateReadStatus={onUpdateReadStatus} onDeleteContracts={onDeleteContracts} onCancelContracts={onCancelContracts} onDownloadContracts={onDownloadContracts} onAttachTagContracts={onAttachTagContracts} isRequesting={isRequesting} isCanceling={isCanceling} />\r\n            ))\r\n          ) : (\r\n            <>\r\n              {\r\n                !isCreatingContract &&\r\n                <div className=\"py-3\" style={{ textAlign: 'center', color: 'black' }}>\r\n                  Không tìm thấy hợp đồng nào\r\n                </div>\r\n              }\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default ContractList;\r\n","import { useState } from 'react';\r\nimport { BsCheck, BsCheckBox, BsX } from 'react-icons/bs';\r\nimport styles from './index.module.scss';\r\nconst colors = ['#d70606', '#066bd7', '#00a334', '#a41c99', '#ffc900', '#ff7900', '#ff0d9b', '#78be00', '#af5700', '#00bac4'];\r\n\r\nconst TagForm = ({ index, tagData, onCheckTag, onCancel, onSave, isSubmiting }) => {\r\n  const [isCreating, setIsCreating] = useState(!!tagData);\r\n  const [tag, setTag] = useState(\r\n    tagData\r\n      ? tagData\r\n      : {\r\n        name: '',\r\n        colorCode: '#ddd',\r\n      },\r\n  );\r\n  function onColorChange(colorCode) {\r\n    setTag({\r\n      ...tag,\r\n      colorCode: colorCode,\r\n    });\r\n  }\r\n\r\n  function onNameChange(e) {\r\n    setTag({\r\n      ...tag,\r\n      name: e.target.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <form className=\"row checktag_item\">\r\n        <div className=\"col-auto px-2 d-flex align-items-center\">\r\n          <div className=\"checkbox\">\r\n            <div className=\"custom-control custom-checkbox d-inline-block\">\r\n              <input\r\n                type=\"checkbox\"\r\n                className=\"custom-control-input\"\r\n                id={`checktag${tag.id}`}\r\n                onChange={e => onCheckTag(e, tag.id)}\r\n                disabled={!isCreating}\r\n              />\r\n              <label className=\"custom-control-label\" htmlFor={`checktag${tag.id}`}></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-auto p-0 d-flex align-items-center color_select\">\r\n          <svg className=\"flip_hor\" fill={tag.colorCode} viewBox=\"0 0 24 24\" width=\"22px\" height=\"22px\">\r\n            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n            <path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\" />\r\n          </svg>\r\n          <div className={`color_palette shadow ${index == 0 ? 'bottom' : ''}`} style={{ left: isCreating ? 0 : -44 }}>\r\n            {colors.map(colorCode => {\r\n              return (\r\n                <div className={styles.colorItem} key={colorCode}>\r\n                  <span\r\n                    style={{ background: `${colorCode}` }}\r\n                    onClick={() => {\r\n                      onColorChange(colorCode);\r\n                    }}\r\n                  ></span>\r\n                  &nbsp;\r\n                  {colorCode == tag.colorCode ? (\r\n                    <>\r\n                      <BsCheck />\r\n                    </>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"col pl-2 d-flex align-items-center\">\r\n          <input className=\"newtag_name form-control form-control-sm\" placeholder=\"Tên thẻ\" value={tag.name} onChange={e => onNameChange(e)} />\r\n        </div>\r\n        <div className=\"col-auto pr-1\">\r\n          <a\r\n            className=\"tagedit_btn\"\r\n            href=\"javascript:void(0)\"\r\n            title=\"Hủy bỏ\"\r\n            onClick={() => {\r\n              onCancel(tag);\r\n            }}\r\n          >\r\n            <BsX />\r\n          </a>\r\n          <a href=\"javascript:void(0)\" className=\"tagedit_btn\" style={{ pointerEvents: !tag.name || tag.colorCode == \"#ddd\" || isSubmiting ? 'none' : \"\" }} title=\"Lưu lại\" onClick={() => onSave(tag)} >\r\n            <BsCheckBox />\r\n          </a>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\nexport default TagForm;\r\n","import { DefaultAPI } from \"@Utils/axios\";\r\nimport { TAGS } from \"@Enums/endpoints\";\r\nclass TagService {\r\n    static list = (params) => {\r\n        const url = TAGS.LIST_TAG;\r\n        return DefaultAPI.get(url, { params });\r\n    }\r\n    static add = (data) => {\r\n        const url = TAGS.ADD_TAG;\r\n        return DefaultAPI.post(url, data);\r\n    }\r\n    static edit = ( data) => {\r\n        const url = TAGS.EDIT_TAG;\r\n        return DefaultAPI.put(url, data);\r\n    }\r\n    static delete = (id) => {\r\n        const url = TAGS.DELETE_TAG.replace('{id}', id);\r\n        return DefaultAPI.delete(url);\r\n    }\r\n    static detail = (id) => {\r\n        const url = TAGS.DETAIL_TAG.replace('{id}', id);\r\n        return DefaultAPI.get(url);\r\n    }\r\n\r\n    static contractTag = (id) => {\r\n        const url = TAGS.LIST_CONTRACT_TAG.replace('{contractId}', id);\r\n        return DefaultAPI.get(url);\r\n    }\r\n\r\n   \r\n\r\n}\r\nexport default TagService;","import { DATA_ACTION } from '@Consts/action';\r\n\r\nfunction setLoadingData(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_LOADING_DATA,\r\n      payload: payload\r\n   }\r\n}\r\n\r\nfunction setStatistics(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_STATISTICS,\r\n      payload: payload\r\n   }\r\n}\r\n\r\nfunction setTags(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_TAGS,\r\n      payload: payload\r\n   }\r\n}\r\n\r\nfunction setReloadContract(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_RELOAD_CONTRACT,\r\n      payload: payload\r\n   }\r\n}\r\n\r\nfunction setReadyForReloadStatistics(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_READY_FOR_RELOAD_STATISTICS,\r\n      payload: payload\r\n   }\r\n}\r\nfunction setIsDisconnect(isDisconnect) {\r\n   return {\r\n      type: DATA_ACTION.SET_IS_DISCONNECT,\r\n      payload: isDisconnect\r\n   }\r\n}\r\nfunction setSumUnreadNotification(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_UNREAD_NOTIFICATION,\r\n      payload: payload\r\n   }\r\n}\r\nfunction setActiveTabNotification(payload) {\r\n   return {\r\n      type: DATA_ACTION.SET_ACTIVE_TAB_NOTIFICATION,\r\n      payload: payload\r\n   }\r\n}\r\nexport {\r\n   setLoadingData,\r\n   setStatistics,\r\n   setTags,\r\n   setReloadContract,\r\n   setReadyForReloadStatistics,\r\n   setIsDisconnect,\r\n   setSumUnreadNotification,\r\n   setActiveTabNotification\r\n}","import { ALERT_MODAL_ACTION as ACTION } from \"@Consts/action\";\r\n\r\nfunction setModal(status) {\r\n    return {\r\n        type: ACTION.SET_MODAL,\r\n        payload: status,\r\n    };\r\n}\r\n\r\nexport { setModal };\r\n","import React, { useState } from 'react';\r\nimport { IconEdit, IconAdd } from '@Components/Icon';\r\nimport TagForm from '../TagForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport TagService from '@Services/tag';\r\nimport { setTags } from '@Redux/Actions/Data';\r\nimport { setModal } from '@Redux/Actions/AlertModal';\r\nconst TagList = ({ onCheckTag, selectedTags }) => {\r\n  const tags = useSelector(state => state.data.tags);\r\n  const dispatch = useDispatch();\r\n\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [isSubmiting, setIsSubmiting] = useState(false);\r\n  const [editingTags, setEditingTags] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n\r\n  function getTags() {\r\n    TagService.list()\r\n      .then(res => {\r\n        const data = res.data.sort((a, b) => { return b.id - a.id });\r\n        dispatch(setTags(data));\r\n      })\r\n      .catch(err => {\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      });\r\n  }\r\n\r\n  function onSearchChange(event) {\r\n    setSearch(event.target.value);\r\n  }\r\n\r\n  function onStartEditTag(tag) {\r\n    const newTag = Object.assign({}, tag);\r\n    const newArray = [...editingTags, ...[newTag]];\r\n    setEditingTags(newArray);\r\n  }\r\n\r\n  function onCancel(tag) {\r\n    if (tag.id) {\r\n      const newArray = editingTags.filter(t => t.id != tag.id);\r\n      setEditingTags(newArray);\r\n    } else {\r\n      setIsCreating(false);\r\n    }\r\n  }\r\n\r\n  function addTag(tag) {\r\n    setIsSubmiting(true);\r\n    TagService.add(tag)\r\n      .then(res => {\r\n        getTags();\r\n        setIsCreating(false);\r\n        setIsSubmiting(false);\r\n      })\r\n      .catch(err => {\r\n        setIsCreating(false);\r\n        setIsSubmiting(false);\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      })\r\n  }\r\n\r\n  function updateTag(tag) {\r\n    TagService.edit({ id: tag.id, name: tag.name, colorCode: tag.colorCode })\r\n      .then(res => {\r\n        getTags();\r\n        const newArray = editingTags.filter(item => item.id != tag.id);\r\n        setEditingTags(newArray);\r\n      })\r\n      .catch(err => {\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      });\r\n  }\r\n\r\n  function onSave(tag) {\r\n    if (tag.id) {\r\n      updateTag(tag);\r\n    } else {\r\n      addTag(tag);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <div className=\"col px-1\">\r\n          <input\r\n            className=\"tag_search form-control form-control-sm mb-2\"\r\n            placeholder=\"Tìm kiếm thẻ\"\r\n            onChange={event => {\r\n              onSearchChange(event);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      {tags &&\r\n        tags.map((tag, index) => {\r\n          return (\r\n            <React.Fragment key={index}>\r\n              {tag.name.toUpperCase().indexOf(search.toUpperCase()) > -1 && (\r\n                <>\r\n                  {editingTags.length > 0 && editingTags.filter(item => item.id == tag.id).length > 0 ? (\r\n                    <>\r\n                      <TagForm key={index} index={index} tagData={tag} onCheckTag={onCheckTag} onCancel={onCancel} onSave={onSave} />\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div className=\"row checktag_item\" key={index}>\r\n                        <div className=\"col-auto px-2 d-flex align-items-center\">\r\n                          <div className=\"checkbox\">\r\n                            <div className=\"custom-control custom-checkbox d-inline-block\">\r\n                              <input\r\n                                key={`checkbox_${tag.id}`}\r\n                                type=\"checkbox\"\r\n                                className=\"custom-control-input\"\r\n                                id={`checktag${tag.id}`}\r\n                                defaultChecked={selectedTags.filter(id => id == tag.id).length > 0}\r\n                                onChange={e => onCheckTag(e, tag.id)}\r\n                              />\r\n                              <label className=\"custom-control-label\" htmlFor={`checktag${tag.id}`}></label>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-auto p-0 d-flex align-items-center\">\r\n                          <svg className=\"flip_hor\" viewBox=\"0 0 24 24\" fill={tag.colorCode} width=\"22px\" height=\"22px\">\r\n                            <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                            <path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\" />\r\n                          </svg>\r\n                        </div>\r\n                        <div className=\"col pl-2 d-flex align-items-center show-tag-name\" >\r\n                          <span>{tag.name}</span>\r\n                        </div>\r\n                        <div className=\"col-auto pr-1\">\r\n                          <a className=\"tagedit_btn\" href=\"javascript:void(0)\" title=\"Sửa thẻ\" onClick={() => onStartEditTag(tag)}>\r\n                            <IconEdit />\r\n                          </a>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </>\r\n              )}\r\n            </React.Fragment>\r\n          );\r\n        })}\r\n      {isCreating && <TagForm index={tags.length} tagData={null} onCheckTag={onCheckTag} onCancel={onCancel} isSubmiting={isSubmiting} onSave={onSave} />}\r\n      {!isCreating &&\r\n        <div className=\"row checktag_item quick_addtag\" onClick={() => setIsCreating(true)}>\r\n          <div className=\"col-auto px-2 d-flex align-items-center\">\r\n            <div className=\"checkbox\" style={{ visibility: 'hidden', opacity: '0' }}>\r\n              <div className=\"custom-control custom-checkbox d-inline-block\">\r\n                <input type=\"checkbox\" className=\"custom-control-input\" id=\"checktag1\" />\r\n                <label className=\"custom-control-label\" htmlFor=\"checktag1\"></label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-auto p-0 d-flex align-items-center\">\r\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-plus\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path fillRule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"></path>\r\n            </svg>\r\n          </div>\r\n          <div className=\"col pl-2 d-flex align-items-center\">\r\n            <span>Thêm thẻ</span>\r\n          </div>\r\n          <div className=\"col-auto pr-1\">\r\n            <a className=\"tagedit_btn\" href=\"javascript:void(0)\" title=\"Sửa thẻ\" style={{ visibility: 'hidden', opacity: '0' }}>\r\n              <IconAdd />\r\n            </a>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  );\r\n};\r\nexport default TagList;\r\n","import { DETAIL_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setContract(contract) {\r\n  return {\r\n    type: ACTION.SET_CONTRACT,\r\n    payload: contract,\r\n  };\r\n}\r\n\r\nfunction updateContract(contract) {\r\n  return {\r\n    type: ACTION.UPDATE_CONTRACT,\r\n    payload: contract,\r\n  };\r\n}\r\n\r\nfunction setComments(comments) {\r\n  return {\r\n    type: ACTION.SET_COMMENTS,\r\n    payload: comments,\r\n  };\r\n}\r\n\r\nfunction setNewComment(comment) {\r\n  return {\r\n    type: ACTION.SET_NEW_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\n\r\nfunction setStartComment(value) {\r\n  return {\r\n    type: ACTION.SET_START_COMMENT,\r\n    payload: value,\r\n  };\r\n}\r\n\r\nfunction createNewComment(comment) {\r\n  return {\r\n    type: ACTION.CREATE_NEW_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\n\r\nfunction addNewComment(comment) {\r\n  return {\r\n    type: ACTION.ADD_NEW_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\n\r\nfunction setFocusComment(comment) {\r\n  return {\r\n    type: ACTION.SET_FOCUS_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\nfunction setFocusSign(sign) {\r\n  return {\r\n    type: ACTION.SET_FOCUS_SIGN,\r\n    payload: sign,\r\n  };\r\n}\r\n\r\nfunction addNewNotification(notification) {\r\n  return {\r\n    type: ACTION.ADD_NEW_NOTIFICATION,\r\n    payload: notification,\r\n  };\r\n}\r\n\r\nfunction removeNotification(notifyId) {\r\n  return {\r\n    type: ACTION.REMOVE_NOTIFICATION,\r\n    payload: notifyId,\r\n  };\r\n}\r\n\r\nfunction setCurrentSigner(signer) {\r\n  return {\r\n    type: ACTION.SET_CURRENT_SIGNER,\r\n    payload: signer,\r\n  };\r\n}\r\n\r\nfunction addComment(comment) {\r\n  return {\r\n    type: ACTION.ADD_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\n\r\nfunction addChildComment(comment) {\r\n  return {\r\n    type: ACTION.ADD_CHILD_COMMENT,\r\n    payload: comment,\r\n  };\r\n}\r\n\r\nfunction setCurrentSignerToken(token) {\r\n  return {\r\n    type: ACTION.SET_CURRENT_SIGNER_TOKEN,\r\n    payload: token,\r\n  };\r\n}\r\n\r\nfunction setPreviewCurrentPage(page) {\r\n  return {\r\n    type: ACTION.SET_PREVIEW_CURRENT_PAGE,\r\n    payload: page,\r\n  };\r\n}\r\n\r\nfunction setPreviewTotalPages(totalPages) {\r\n  return {\r\n    type: ACTION.SET_PREVIEW_TOTAL_PAGES,\r\n    payload: totalPages,\r\n  };\r\n}\r\n\r\nfunction setPdfCurrentPage(page) {\r\n  return {\r\n    type: ACTION.SET_PDF_CURRENT_PAGE,\r\n    payload: page,\r\n  };\r\n}\r\n\r\nfunction setPdfTotalPages(totalPages) {\r\n  return {\r\n    type: ACTION.SET_PDF_TOTAL_PAGES,\r\n    payload: totalPages,\r\n  };\r\n}\r\n\r\nfunction resetData() {\r\n  return {\r\n    type: ACTION.RESET_DATA,\r\n  };\r\n}\r\n\r\nfunction setContractTags(tags) {\r\n  return {\r\n    type: ACTION.SET_CONTRACT_TAGS,\r\n    payload: tags,\r\n  };\r\n}\r\nfunction setNotificationsUnread(notificationsUnread) {\r\n  return {\r\n    type: ACTION.SET_NOTIFICATIONS_UNREAD,\r\n    payload: notificationsUnread,\r\n  };\r\n}\r\n\r\nfunction updateComments(data) {\r\n  return {\r\n    type: ACTION.UPDATE_COMMENTS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction updateNotifications(data) {\r\n  return {\r\n    type: ACTION.UPDATE_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setShowSignerModal(isShowSignerModal) {\r\n  return {\r\n    type: ACTION.SET_SHOW_SIGNER_MODAL,\r\n    payload: isShowSignerModal,\r\n  };\r\n}\r\n\r\nfunction setCanceling(isCanceling) {\r\n  return {\r\n    type: ACTION.SET_CANCELING,\r\n    payload: isCanceling,\r\n  }\r\n}\r\n\r\nfunction setLoadedAllPageDetail(isLoadedAllPageDetail) {\r\n  return {\r\n    type: ACTION.SET_LOADED_ALL_PAGE_DETAIL,\r\n    payload: isLoadedAllPageDetail,\r\n  }\r\n}\r\n\r\nfunction setLoadedAllPagePreviewDetail(isLoadedAllPagePreviewDetail) {\r\n  return {\r\n    type: ACTION.SET_LOADED_ALL_PAGE_PREVIEW_DETAIL,\r\n    payload: isLoadedAllPagePreviewDetail,\r\n  }\r\n}\r\n\r\nfunction setIsDisconnect(isDisconnect) {\r\n  return {\r\n    type: ACTION.SET_IS_DISCONNECT,\r\n    payload: isDisconnect\r\n  }\r\n}\r\n\r\nfunction setFocusRealtimeComment(comment) {\r\n  return {\r\n    type: ACTION.SET_FOCUS_REALTIME_COMMENT,\r\n    payload: comment\r\n  }\r\n}\r\n\r\nexport {\r\n  setContract,\r\n  updateContract,\r\n  setComments,\r\n  setNewComment,\r\n  addNewComment,\r\n  setStartComment,\r\n  createNewComment,\r\n  setFocusComment,\r\n  addNewNotification,\r\n  removeNotification,\r\n  setCurrentSigner,\r\n  setCurrentSignerToken,\r\n  addComment,\r\n  addChildComment,\r\n  setPreviewCurrentPage,\r\n  setPreviewTotalPages,\r\n  setPdfCurrentPage,\r\n  setPdfTotalPages,\r\n  resetData,\r\n  setContractTags,\r\n  setNotificationsUnread,\r\n  updateComments,\r\n  updateNotifications,\r\n  setShowSignerModal,\r\n  setFocusSign,\r\n  setCanceling,\r\n  setLoadedAllPageDetail,\r\n  setLoadedAllPagePreviewDetail,\r\n  setIsDisconnect,\r\n  setFocusRealtimeComment\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ContractService from '@Services/contract';\r\nimport TagList from '../TagList';\r\nimport SimpleBar from \"simplebar-react\";\r\nimport styles from \"./index.module.scss\";\r\nimport { setContractTags } from '@Redux/Actions/DetailContract';\r\nimport { setTags } from '@Redux/Actions/Data';\r\nimport TagService from '@Services/tag';\r\nimport { setModal } from '@Redux/Actions/AlertModal';\r\nimport { checkDevice } from '../../../Utils/helpers';\r\nimport { useLocation } from 'react-router-dom';\r\nfunction generateSelectedTags(contracts, tags) {\r\n  const array = [];\r\n  if (contracts) {\r\n    contracts.forEach(contract => {\r\n      if (contract.tagDtos) {\r\n        contract.tagDtos.forEach(tag => {\r\n          if (array.filter(c => c.id == tag.id).length == 0 && tags.filter(t => t.id == tag.id).length > 0) {\r\n            array.push(tag);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  return array.map(c => c.id);\r\n}\r\n\r\nfunction TagModal({ show = false, onHide = null, contracts = [], getContracts }) {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state => state.auth.user);\r\n  const { contract } = useSelector(state => state.detailContract);\r\n  const tags = useSelector(state => state.data.tags);\r\n  const location = useLocation();\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  function getTitle() {\r\n    let titleModal = 'Quản lý thẻ';\r\n    if (contracts && contracts.length > 0) {\r\n      if (contracts.length > 1) {\r\n        titleModal = 'Gắn thẻ';\r\n      } else {\r\n        titleModal = `Gắn thẻ: ${contracts[0].title}`;\r\n      }\r\n    }\r\n    return titleModal;\r\n  }\r\n  function getTags() {\r\n    TagService.list()\r\n      .then(res => {\r\n        const data = res.data.sort((a, b) => { return b.id - a.id });\r\n        dispatch(setTags(data));\r\n      })\r\n      .catch(err => {\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!tags || tags.length == 0) {\r\n      if (user) {\r\n        if (contract && contract.id) {\r\n          getTags();\r\n        }\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setShowModal(show);\r\n    if (show && tags && tags.length > 0) {\r\n      setSelectedTags(generateSelectedTags(contracts, tags));\r\n    } else {\r\n      setSelectedTags([]);\r\n    }\r\n  }, [show]);\r\n\r\n  function onCheckTag(e, id) {\r\n    if (e.target.checked) {\r\n      selectedTags.push(id);\r\n      setSelectedTags(selectedTags);\r\n    } else {\r\n      const newSelectedTags = selectedTags.filter(a => a != id);\r\n      setSelectedTags(newSelectedTags);\r\n    }\r\n  }\r\n\r\n  function onAddTag(data) {\r\n    ContractService.attachTag(data)\r\n      .then(res => {\r\n        if (getContracts) {\r\n          getContracts();\r\n          getTags();\r\n        } else {\r\n          const tagsArr = tags.filter(item => {\r\n            if (data.tagListId.filter(id => item.id == id).length > 0) {\r\n              return item;\r\n            }\r\n          });\r\n          dispatch(setContractTags(tagsArr));\r\n        }\r\n        onHide(true);\r\n      })\r\n      .catch(err => {\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      });\r\n  }\r\n\r\n  function onRemoveTag(data) {\r\n    ContractService.removeTag(data)\r\n      .then(res => {\r\n        if (getContracts) {\r\n          getContracts();\r\n          getTags();\r\n        } else {\r\n          const tagsArr = contracts[0].tagDtos.filter(item => {\r\n            if (data.tagListId.filter(id => item.id == id).length == 0) {\r\n              return item;\r\n            }\r\n          });\r\n          dispatch(setContractTags(tagsArr));\r\n        }\r\n        onHide(true);\r\n      })\r\n      .catch(err => {\r\n        dispatch(setModal({ isShow: true, message: err }));\r\n      });\r\n  }\r\n\r\n  function assignTags() {\r\n    const generalTags = generateSelectedTags(contracts, tags);\r\n    if (generalTags.length > 0) {\r\n      const oldTag = [];\r\n      generalTags.forEach(tagId => {\r\n        if ((selectedTags.filter(i => i == tagId)).length == 0)\r\n          oldTag.push(tagId)\r\n      });\r\n      const oldData = {\r\n        tagListId: oldTag,\r\n        contractListId: contracts.map(item => item.id),\r\n      };\r\n      if (oldTag.length > 0) {\r\n        onRemoveTag(oldData)\r\n      }\r\n      const data = {\r\n        tagListId: selectedTags,\r\n        contractListId: contracts.map(item => item.id),\r\n      };\r\n\r\n      if (selectedTags.length > 0) {\r\n        onAddTag(data);\r\n      }\r\n    } else {\r\n      if (selectedTags.length == 0) {\r\n        onHide(true);\r\n      } else {\r\n        const data = {\r\n          tagListId: selectedTags,\r\n          contractListId: contracts.map(item => item.id),\r\n        };\r\n        onAddTag(data);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal show={showModal} onHide={onHide} dialogClassName=\"modal_site modal-dialog-centered modal-dialog-scrollable\">\r\n        <Modal.Header className=\"d-block text-center\">\r\n          <Modal.Title className=\" h5 si_name\" style={{ color: '#0d7aca', fontWeight: 400 }}>\r\n            {getTitle()}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <SimpleBar className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\">\r\n            <div className=\"container-fluid\">\r\n              <TagList onCheckTag={onCheckTag} contracts={contracts} selectedTags={selectedTags} />\r\n            </div>\r\n          </Modal.Body>\r\n        </SimpleBar>\r\n\r\n        {/* {!checkDevice() ? <SimpleBar className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\">\r\n            <div className=\"container-fluid\">\r\n              <TagList onCheckTag={onCheckTag} contracts={contracts} selectedTags={selectedTags} />\r\n            </div>\r\n          </Modal.Body>\r\n        </SimpleBar> :\r\n          <div className={`${styles.max_height_tags}`}>\r\n            <Modal.Body className=\"body-modal-tags\">\r\n              <div className=\"container-fluid\">\r\n                <TagList onCheckTag={onCheckTag} contracts={contracts} selectedTags={selectedTags} />\r\n              </div>\r\n            </Modal.Body>\r\n          </div>} */}\r\n\r\n        <Modal.Footer className=\"d-block new_contract_nav d-block text-center text-uppercase\">\r\n          <button type=\"button\" className=\"btn btn_outline_main mx-2 mx-sm-3\" onClick={onHide}>\r\n            {(contracts && contracts.length > 0) ? 'HỦY BỎ' : 'HOÀN TẤT'}\r\n          </button>\r\n          {contracts.length == 0 ? (\r\n            <></>\r\n          ) : (\r\n            <button type=\"submit\" className=\"btn btn_new mx-2 mx-sm-3\" onClick={() => assignTags()}>\r\n              LƯU LẠI\r\n            </button>\r\n          )}\r\n        </Modal.Footer>\r\n        {/* </>} */}\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TagModal;\r\n","function DefaultFooter() {\r\n   return (\r\n      <>\r\n         <div id=\"site_footer\">\r\n            <span>&copy; 2021 Công ty TNHH Dịch Vụ Công Nghệ Trực Tuyến</span>\r\n         </div>\r\n      </>\r\n   )\r\n}\r\nexport default DefaultFooter;","import { Modal } from \"react-bootstrap\";\r\nconst ConfirmModal = ({ show, contractsName, userName = '', onHide, onSubmit }) => {\r\n\r\n    return (\r\n        <Modal show={show} onHide={onHide} contentClassName=\"modal_confirm modal_site\">\r\n            <Modal.Header className=\"bg_site_cancel\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel_cancel\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-bell\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z\" />\r\n                    </svg>\r\n                </h5>\r\n                <button onClick={onHide} type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <div class=\"header_arrow border_top_site_cancel\"></div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div class=\"text-center\">\r\n                    <h3 class=\"head_title\">Xác nhận hủy Hợp đồng</h3>\r\n                </div>\r\n                <p>Kính chào Quý khách hàng: <b>{userName}</b>.</p>\r\n                <p>Để xác nhận hủy <b>“{contractsName}”</b>.\r\n                    Quý khách vui lòng ấn nút hủy Hợp đồng.</p>\r\n                <div class=\"text-center\">\r\n                    <button type=\"button\" onClick={onSubmit} class=\"btn btn-primary btn_pri1 mx-auto\">Hủy Hợp đồng</button>\r\n                    <i class=\"d-block mt-3\">Cảm ơn quý khách đã sử dụng dịch vụ <b class=\"text-site\"><a href=\"https://mcontract.vn/\" target=\"_blank\">MContract</a></b>.</i>\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    )\r\n    // return <>\r\n    //     <Modal show={show} onHide={onHide}>\r\n    //         <Modal.Body>\r\n    //             <p>{message}</p>\r\n    //             <div className=\"text-right mt-3\">\r\n    //                 <button type=\"button\" className=\"btn btn-primary px-3 btn-sm mr-2\" onClick={onSubmit}>Có</button>\r\n    //                 <button type=\"button\" className=\"btn btn-outline-secondary px-3 btn-sm\" onClick={onHide}>Hủy</button>\r\n    //             </div>\r\n    //         </Modal.Body>\r\n    //     </Modal>\r\n    // </>\r\n}\r\nexport default ConfirmModal","import { useEffect, useState } from 'react';\r\nimport ContractActions from '../ContractActions';\r\nimport ContractList from '../ContractList';\r\nimport { TagModal } from '@Containers/Tag';\r\nimport DefaultFooter from '@Containers/Layout/Footer';\r\nimport SimpleBar from 'simplebar-react';\r\nimport ContractService from '@Services/contract';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setListContracts, setReadyForReloading, setIsCanceling } from '@Redux/Actions/ListContract';\r\nimport * as JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\nimport JSZipUtils from 'jszip-utils';\r\nimport * as Axios from 'axios';\r\nimport { setReadyForReloadStatistics } from '@Redux/Actions/Data';\r\nimport ConfirmModal from '@Components/ConfirmModal';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\n\r\nconst Pagination = ({ data, onPageChanged }) => {\r\n  const [arrPage, setArrPage] = useState([]);\r\n  useEffect(() => {\r\n    arrangPage();\r\n  }, [data])\r\n  const arrangPage = () => {\r\n    if (data.totalPages <= 5) {\r\n      let arr = [];\r\n      for (let i = 1; i <= data.totalPages; i++) {\r\n        arr.push(i);\r\n      }\r\n      setArrPage(arr);\r\n      return arr;\r\n    } else {\r\n      if (data.currentPage <= 3) {\r\n        setArrPage([1, 2, 3, 4, 5]);\r\n      } else if (data.currentPage > data.totalPages - 3) {\r\n        setArrPage([data.totalPages - 4, data.totalPages - 3, data.totalPages - 2, data.totalPages - 1, data.totalPages]);\r\n      } else {\r\n        setArrPage([data.currentPage - 2, data.currentPage - 1, data.currentPage, data.currentPage + 1, data.currentPage + 2]);\r\n      }\r\n    }\r\n  }\r\n  return <>\r\n    {arrPage.map((item, i) => {\r\n      return (\r\n        <>\r\n          <li key={i} className={`page-item ${data.currentPage === (item - 1) ? 'active' : ''}`}>\r\n            <a\r\n              className=\"page-link\"\r\n              style={{ cursor: 'pointer' }}\r\n              onClick={() => onPageChanged(item - 1)}\r\n            >\r\n              {item}\r\n            </a>\r\n          </li>\r\n        </>\r\n      )\r\n    })}\r\n  </>\r\n  // let elements = [];\r\n  // for (let i = 0; i < data.totalPages; i++) {\r\n  //   elements.push(\r\n  //     <li key={i} className={`page-item ${data.currentPage === i ? 'active' : ''}`}>\r\n  //       <a\r\n  //         className=\"page-link\"\r\n  //         style={{ cursor: 'pointer' }}\r\n  //         onClick={() => onPageChanged(i)}\r\n  //       >\r\n  //         {i + 1}\r\n  //       </a>\r\n  //     </li>\r\n  //   )\r\n  // }\r\n  // return <>{elements}</>\r\n}\r\nconst ContractTable = ({ query, showAction = true, showTag = true }) => {\r\n  const user = useSelector(state => state.auth.user);\r\n  const { contracts, pageSize, totalPages, totalItems, currentPage, isReadyForReloading, isCanceling } = useSelector(state => state.listContracts);\r\n  const dispatch = useDispatch();\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const [selectedContracts, setSelectedContracts] = useState([]);\r\n  const [checkContracts, setCheckContracts] = useState([]);\r\n  const [showTagModal, setShowTagModal] = useState(false);\r\n  const [isRowContract, setRowContract] = useState(false);\r\n\r\n  const paginationData = {\r\n    pageSize: pageSize,\r\n    totalPages: totalPages,\r\n    totalItems: totalItems,\r\n    currentPage: currentPage\r\n  }\r\n  let zip = new JSZip();\r\n\r\n  const getContracts = async (page = null) => {\r\n    try {\r\n      const params = {\r\n        size: pageSize,\r\n        currentPage: page == null ? currentPage : page,\r\n        // sortByDate: 'DESC',\r\n        ...query,\r\n      };\r\n      const res = await ContractService.getContract(params);\r\n      if (page != null && page != currentPage) {\r\n        setSelectedContracts([]);\r\n        setCheckContracts([]);\r\n      } else {\r\n        setSelectedContracts(res.data.filter(c => selectedContracts.filter(sC => sC.id == c.id).length > 0));\r\n        setCheckContracts(res.data.filter(c => checkContracts.filter(sC => sC.id == c.id).length > 0));\r\n      }\r\n      dispatch(\r\n        setListContracts({\r\n          contracts: res.data.map(item => {\r\n            if (item.tagDtos && item.tagDtos.length > 0) {\r\n              item.tagDtos = item.tagDtos.reverse();\r\n            }\r\n            return item;\r\n          }),\r\n          pageSize: pageSize,\r\n          totalPages: res.totalPage,\r\n          currentPage: res.pageIndex,\r\n          totalItems: res.total,\r\n        }),\r\n      );\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setIsRequesting(false);\r\n      if (isReadyForReloading) {\r\n        dispatch(setReadyForReloading(false));\r\n      }\r\n    }\r\n  };\r\n\r\n  const getFile = fileUrl => {\r\n    return new Promise((resolve, reject) => {\r\n      Axios.get(fileUrl, { responseType: 'blob' })\r\n        .then(res => {\r\n          resolve(res.data);\r\n        })\r\n        .catch(err => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n        });\r\n    });\r\n  };\r\n\r\n  const onDownloadContracts = (event, contract = null) => {\r\n    if (contract) {\r\n      event.stopPropagation();\r\n    }\r\n    const data = {\r\n      ids: contract ? [contract.id] : selectedContracts.map(item => item.id),\r\n    };\r\n\r\n    if (data.ids.length == 0) {\r\n      return false;\r\n    }\r\n    ContractService.dowloadContract(data)\r\n      .then(async res => {\r\n        let fileDownload = res.data.fileInformations;\r\n        if (fileDownload.length == 1) {\r\n          const blob = await getFile(fileDownload[0].path);\r\n          const objectUrl = URL.createObjectURL(blob);\r\n          const link = document.createElement('a');\r\n          link.href = objectUrl;\r\n          link.download = fileDownload[0].name;\r\n          link.click();\r\n        } else {\r\n          let count = 0;\r\n          fileDownload.forEach(url => {\r\n            JSZipUtils.getBinaryContent(url.path, function (err, data) {\r\n              if (err) {\r\n                throw err;\r\n              }\r\n              zip.file(`${count + 1}_${url.name}`, data, { binary: true });\r\n              count++;\r\n              if (count == fileDownload.length) {\r\n                zip.generateAsync({ type: 'blob' }).then(function (content) {\r\n                  saveAs(content, 'contracts.zip');\r\n                });\r\n              }\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Xóa danh sách hợp đồng\r\n   * @param {*} contract Hợp đồng cần xóa (Truyền khi chỉ muốn xóa một HĐ)\r\n   * @returns\r\n   */\r\n  const onDeleteContracts = (contract = null) => {\r\n    const data = {\r\n      contractIdList: contract != null ? [contract.id] : selectedContracts.map(item => item.id),\r\n    };\r\n\r\n    if (data.contractIdList.length == 0) {\r\n      return false;\r\n    }\r\n    ContractService.deleteContract(data)\r\n      .then(res => {\r\n        getContracts();\r\n        dispatch(setReadyForReloadStatistics(true));\r\n      })\r\n      .catch(err => {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      });\r\n  };\r\n\r\n  const onCancelContracts = (event, contract = null, isRow = false) => {\r\n    if (contract) {\r\n      event.stopPropagation();\r\n    }\r\n    if (isRow && contract) {\r\n      setSelectedContracts([contract]);\r\n    } else {\r\n      if (!isRow && contract) {\r\n        setSelectedContracts([contract]);\r\n        setCheckContracts([contract]);\r\n      }\r\n    }\r\n    if (!contract && selectedContracts.length == 0) {\r\n      return false;\r\n    }\r\n    setShowConfirmModal(true);\r\n  }\r\n\r\n  // const checkHaveSigned = (contractList) => {\r\n  //   for (let i = 0; i < contractList.length; i++) {\r\n  //     if (contractList[i].status == 'EXPIRED' || contractList[i].status == 'COMPLETE' || contractList[i].status == 'AUTHENTICATIONFAIL' || contractList[i].status == 'CANCEL') {\r\n  //       return true;\r\n  //     }\r\n  //     if (contractList[i].signerDtos.filter(item => (item.email == user.email && item.isSigned)).length > 0) {\r\n  //       return true;\r\n  //     }\r\n  //   }\r\n  //   return false;\r\n  // }\r\n\r\n  /**\r\n   * Hủy danh sách hợp đồng\r\n   * @param {*} contract \r\n   * @returns \r\n   */\r\n  const handelCancelContracts = () => {\r\n    setShowConfirmModal(false);\r\n    dispatch(setIsCanceling(true));\r\n    const data = {\r\n      contractList: selectedContracts.map(item => item.id),\r\n    };\r\n\r\n    ContractService.cancelContracts(data)\r\n      .then(res => {\r\n        getContracts();\r\n        dispatch(setIsCanceling(false));\r\n        dispatch(setReadyForReloadStatistics(true));\r\n        dispatch(addToast({ id: 'cancelContract_123456', type: 'SUCCESS_CANCEL_CONTRACT' }));\r\n      })\r\n      .catch(err => {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n        dispatch(setIsCanceling(false));\r\n      });\r\n  };\r\n\r\n  const onHandleCloseCancel = () => {\r\n    dispatch(setIsCanceling(false));\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  /**\r\n   * Cập nhật trạng thái đã đọc\r\n   * @param {boolean} status Trạng thái đọc muốn set\r\n   * @param {number} contractId ID của contract muốn cập nhật trạng thái đọc (Không truyền khi cập nhật cho nhiều contract đã chọn)\r\n   */\r\n  function onUpdateReadStatus(event = null, status, contract = null) {\r\n    if (event && contract) {\r\n      event.stopPropagation();\r\n    }\r\n    const data = {\r\n      contractIdList: contract != null ? [contract.id] : selectedContracts.map(item => item.id),\r\n      status: status,\r\n    };\r\n    if (data.contractIdList.length == 0) {\r\n      return false;\r\n    }\r\n\r\n    ContractService.updateWatched(data)\r\n      .then(res => {\r\n        getContracts();\r\n      });\r\n  }\r\n\r\n  const onAttachTagContracts = (event, contract = null, isRow = false) => {\r\n    if (contract) {\r\n      event.stopPropagation();\r\n    }\r\n    if (!isRow && contract) {\r\n      setCheckContracts([contract])\r\n      setSelectedContracts([contract]);\r\n    } else {\r\n      if (isRow && contract) {\r\n        setSelectedContracts([contract]);\r\n      }\r\n    }\r\n    setShowTagModal(true);\r\n  };\r\n\r\n  const onPageChanged = i => {\r\n    if (i < totalPages) {\r\n      getContracts(i);\r\n    }\r\n  };\r\n\r\n  const onCheckAll = data => {\r\n    const checked = data.value;\r\n    const filter = data.filter;\r\n    if (checked) {\r\n      if (filter) {\r\n        const arr = contracts.filter(item => item[filter.key] === filter.value);\r\n        setSelectedContracts(arr);\r\n        setCheckContracts(arr);\r\n      } else {\r\n        setCheckContracts(contracts);\r\n        setSelectedContracts(contracts);\r\n      }\r\n    } else {\r\n      setSelectedContracts([]);\r\n      setCheckContracts([]);\r\n    }\r\n  };\r\n\r\n  const onCheck = (event, contract, checked) => {\r\n    event.stopPropagation();\r\n    if (checked) {\r\n      const arr = [...selectedContracts, ...[contract]];\r\n      setSelectedContracts(arr);\r\n      const checkArr = [...checkContracts, ...[contract]];\r\n      setCheckContracts(checkArr);\r\n    } else {\r\n      const arr = selectedContracts.filter(item => item.id != contract.id);\r\n      setSelectedContracts(arr);\r\n      const checkArr = checkContracts.filter(item => item.id != contract.id);\r\n      setCheckContracts(checkArr);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShowTagModal(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isReadyForReloading) {\r\n      getContracts();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isReadyForReloading]);\r\n\r\n  useEffect(() => {\r\n    setIsRequesting(true);\r\n    getContracts(0);\r\n    // eslint-disable-next-line\r\n  }, [query]);\r\n\r\n  return (\r\n    <>\r\n      {showAction && contracts && contracts.length > 0 && (\r\n        <ContractActions\r\n          contracts={contracts}\r\n          paginationData={paginationData}\r\n          selectedContracts={selectedContracts}\r\n          checkContracts={checkContracts}\r\n          onCheckAll={onCheckAll}\r\n          onDownloadContracts={onDownloadContracts}\r\n          onUpdateReadStatus={onUpdateReadStatus}\r\n          onDeleteContracts={onDeleteContracts}\r\n          onCancelContracts={onCancelContracts}\r\n          onAttachTagContracts={onAttachTagContracts}\r\n          onPageChanged={onPageChanged}\r\n        />\r\n      )}\r\n      <SimpleBar id=\"page_content \" className=\"page-content-doc\">\r\n        <div className={`contract_area ${showAction && 'contract_area_doc'} pr-2`}>\r\n          <div className=\"container-fluid h-100 px-24px\">\r\n            <ContractList\r\n              contracts={contracts}\r\n              paginationData={paginationData}\r\n              selectedContracts={selectedContracts}\r\n              checkContracts={checkContracts}\r\n              isRequesting={isRequesting}\r\n              showCheckbox={showAction}\r\n              showTag={showTag}\r\n              onCheck={onCheck}\r\n              onDownloadContracts={onDownloadContracts}\r\n              onUpdateReadStatus={onUpdateReadStatus}\r\n              onDeleteContracts={onDeleteContracts}\r\n              onCancelContracts={onCancelContracts}\r\n              onAttachTagContracts={onAttachTagContracts}\r\n            />\r\n\r\n          </div>\r\n        </div>\r\n        {\r\n          paginationData.totalPages > 1 &&\r\n          <div className=\"pt-3 pagination-mobile\">\r\n            <div className=\"pagination_area text-right\">\r\n              <ul className=\"pagination mb-0 float-right\">\r\n                {paginationData.totalPages > 1 && (paginationData.currentPage + 1) > 1 ?\r\n                  <li className=\"page-item\">\r\n                    <a\r\n                      className=\"page-link\"\r\n                      style={{ cursor: 'pointer' }}\r\n                      onClick={() => onPageChanged(paginationData.currentPage - 1)}\r\n                    >\r\n                      ←\r\n                    </a>\r\n                  </li>\r\n                  : ''\r\n                }\r\n                <Pagination data={paginationData} onPageChanged={onPageChanged} />\r\n                {paginationData.totalPages > 1 && (paginationData.currentPage + 1) < paginationData.totalPages ?\r\n                  <li className=\"page-item\">\r\n                    <a\r\n                      className=\"page-link\"\r\n                      style={{ cursor: 'pointer' }}\r\n                      onClick={() => onPageChanged(paginationData.currentPage + 1)}\r\n                    >\r\n                      →\r\n                    </a>\r\n                  </li>\r\n                  : ''\r\n                }\r\n              </ul>\r\n              <span className=\"float-right d-none d-md-block\">1 - {paginationData.pageSize} trong tổng số {paginationData.totalItems}</span>\r\n              <div className=\"clearfix\"></div>\r\n            </div>\r\n          </div>\r\n        }\r\n        <DefaultFooter />\r\n      </SimpleBar>\r\n      <TagModal show={showTagModal} contracts={selectedContracts} getContracts={getContracts} onHide={handleClose} ></TagModal>\r\n      <ConfirmModal show={showConfirmModal} contractsName={selectedContracts.map(item => item.title).join(', ')} userName={user.fullName} onHide={onHandleCloseCancel} onSubmit={handelCancelContracts} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContractTable;\r\n","import { CREATE_CONTRACT_ACTION } from '@Consts/action';\r\n\r\nfunction setStep(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_STEP,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setFile(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_FILE,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setSigners(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_SIGNERS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setPreviewCurrentPage(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_PREVIEW_CURRENT_PAGE,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setPreviewTotalPages(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_PREVIEW_TOTAL_PAGES,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setPdfCurrentPage(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_PDF_CURRENT_PAGE,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setPdfTotalPages(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_PDF_TOTAL_PAGES,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction updateSigner(signer) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.UPDATE_SIGNER,\r\n    payload: signer,\r\n  };\r\n}\r\n\r\nfunction updateSignerPosition(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.UPDATE_SIGNER_POSITION,\r\n    payload: data,\r\n  };\r\n}\r\n\r\n\r\nfunction setCreatingContract(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_CREATING_CONTRACT,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setReadyForCreating(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_READY_FOR_CREATING,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setInformation(data) {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.SET_INFORMATION,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction resetCreateContract() {\r\n  return {\r\n    type: CREATE_CONTRACT_ACTION.RESET_DATA\r\n  }\r\n}\r\n\r\nexport { setStep, setFile, setSigners, setPreviewCurrentPage, setPreviewTotalPages, setPdfCurrentPage, setPdfTotalPages, updateSigner, updateSignerPosition, setCreatingContract, setReadyForCreating, setInformation, resetCreateContract };\r\n","import { IconPlus } from \"@Components/Icon\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport { ContractCreateForm } from \"@Containers/Contract\";\r\nimport SimpleBar from 'simplebar-react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { resetCreateContract } from \"@Redux/Actions/CreateContract\";\r\n\r\nexport default function ContractCreateButton() {\r\n  const dispatch = useDispatch();\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const onCloseModal = (isReset = true) => {\r\n    if (isReset) {\r\n      dispatch(resetCreateContract());\r\n    }\r\n    setShowModal(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button className=\"btn btn_new\" onClick={() => setShowModal(true)}>\r\n        <IconPlus />\r\n        <span>Tạo hợp đồng</span>\r\n      </button>\r\n      <Modal show={showModal} onHide={() => onCloseModal()} className=\"create-contract\" dialogClassName=\"modal_full m-0 my-sm-0 mx-sm-auto\">\r\n        <Modal.Body className=\"p-0\">\r\n          <ContractCreateForm onCloseModal={() => onCloseModal()} />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.3db27ed4.svg\";","import { useState } from 'react';\r\nimport { ContractCreateFormFile, ContractCreateFormSigner, ContractCreateFormDesign, ContractCreateFormSubject } from '@Containers/Contract';\r\nimport logo from '@/assets/images/logo.svg';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setReloadContract } from '@Redux/Actions/Data';\r\nimport * as Axios from 'axios';\r\nimport { get } from '@Utils/cookie';\r\nimport { setStep, setFile } from '@Redux/Actions/CreateContract';\r\n\r\nconst API_BASE_URL = 'https://mcontract.vn/api';\r\n\r\nconst ContractCreateFormStep = ({ step, ...props }) => {\r\n  switch (step) {\r\n    case 1:\r\n      return <ContractCreateFormFile {...props} />;\r\n    case 2:\r\n      return <ContractCreateFormSigner {...props} />;\r\n    case 3:\r\n      return <ContractCreateFormDesign {...props} />;\r\n    case 4:\r\n      return <ContractCreateFormSubject {...props} />;\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n\r\nconst ContractCreateForm = ({ onCloseModal }) => {\r\n  const { currentStep, signers, file } = useSelector(state => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const moveToStep = step => {\r\n    dispatch(setStep(step));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"new_contract\">\r\n        <div className=\"row new_contract_header mx-0\">\r\n          <div className=\"close_btn\">\r\n            <a onClick={onCloseModal} style={{ cursor: 'pointer' }}>\r\n              &times;\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"col-auto d-none d-lg-block\">\r\n            <img className=\"img-fluid py-3 py-lg-3 pl-3 pl-lg-3 pr-0\" src={logo} alt=\"\" loading=\"lazy\" />\r\n          </div>\r\n\r\n          <div className=\"col\">\r\n            <h1 className=\"m-3 text-uppercase text-center\">Tạo hợp đồng</h1>\r\n\r\n            <div className=\"mb-3 large_steps sw sw-theme-arrows sw-justified\">\r\n              <ul className=\"nav\">\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link inactive ${currentStep == 1 ? 'active' : currentStep > 1 ? 'done' : ''}`} onClick={() => moveToStep(1)}>\r\n                    <b>Bước 1</b>\r\n                    <p className=\"m-0\">Tải lên hợp đồng</p>\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link inactive ${currentStep == 2 ? 'active' : currentStep > 2 ? 'done' : ''} ${!file.pdf ? 'disable-step' : ''}`} disabled={!file.pdf} onClick={() => (!!file.pdf ? moveToStep(2) : null)}>\r\n                    <b>Bước 2</b>\r\n                    <p className=\"m-0\">Chọn đối tác</p>\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link inactive ${currentStep == 3 ? 'active' : currentStep > 3 ? 'done' : ''} ${signers.length <= 1 ? 'disable-step' : ''}`} disabled={signers.length <= 1} onClick={() => (signers.length > 1 ? moveToStep(3) : null)}>\r\n                    <b>Bước 3</b>\r\n                    <p className=\"m-0\">Thiết kế hợp đồng</p>\r\n                  </a>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <a className={`nav-link inactive text-center ${currentStep == 4 ? 'active' : currentStep > 4 ? 'done' : ''} ${signers.filter(signer => signer.position.page).length <= 1 ? 'disable-step' : ''}`} disabled={signers.filter(signer => signer.position.page).length <= 1} onClick={() => (signers.filter(signer => signer.position.page).length > 1 ? moveToStep(4) : null)}>\r\n                    <b>Bước 4</b>\r\n                    <p className=\"m-0\">Hoàn tất và gửi</p>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"small_steps\">\r\n              <div className=\"progress\">\r\n                {currentStep == 1 && <div className=\"progress-bar w-25\" role=\"progressbar\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>}\r\n                {currentStep == 2 && <div className=\"progress-bar w-50\" role=\"progressbar\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>}\r\n                {currentStep == 3 && <div className=\"progress-bar w-75\" role=\"progressbar\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>}\r\n                {currentStep == 4 && <div className=\"progress-bar w-100\" role=\"progressbar\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>}\r\n              </div>\r\n              {currentStep == 1 && <h3>Bước 1: Tải lên hợp đồng</h3>}\r\n              {currentStep == 2 && <h3>Bước 2: Chọn đối tác</h3>}\r\n              {currentStep == 3 && <h3>Bước 3: Thiết kế hợp đồng</h3>}\r\n              {currentStep == 4 && <h3>Bước 4: Hoàn tất và gửi</h3>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <ContractCreateFormStep step={currentStep} onCloseModal={onCloseModal} />\r\n        <div className=\"row new_contract_footer py-2 mx-auto\">\r\n          <div className=\"col-md-auto col-lg text-center text-md-right\">HỖ TRỢ KỸ THUẬT</div>\r\n          <div className=\"col-md col-lg text-center\">\r\n            Email: <a href=\"mailto:support@mcontract.vn\">support@mcontract.vn</a>\r\n          </div>\r\n          <div className=\"col-md-auto col-lg text-center text-md-left\">\r\n            Hotline: <a href=\"tel:0867746979\">086 774 6979</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ContractCreateForm;\r\n","export default __webpack_public_path__ + \"static/media/pdf.a1559afc.svg\";","export default __webpack_public_path__ + \"static/media/word.53e4d051.webp\";","import pdf from '@/assets/images/pdf.svg';\r\nimport word from '@/assets/images/word.webp';\r\nimport { IconUpload, IconOtherUpload } from '@Components/Icon';\r\nimport { setFile, setStep } from '@Redux/Actions/CreateContract';\r\nimport * as Axios from 'axios';\r\nimport { useCallback, useState } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setModal } from '@Redux/Actions/AlertModal';\r\nimport { addToast } from \"@Redux/Actions/AlertToast\";\r\nconst API_BASE_URL = 'https://mcontract.vn/api';\r\n\r\nconst ContractCreateFormFile = () => {\r\n  const { file, currentStep } = useSelector(state => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const { handleSubmit, setValue } = useForm({\r\n    defaultValues: {\r\n      file: file.origin ? file.origin : null,\r\n    },\r\n  });\r\n\r\n  const getFile = formData => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const res = await Axios.post(`${API_BASE_URL}/file-uploads/file-convert`, formData, {\r\n          responseType: 'blob',\r\n          crossDomain: true,\r\n          withCredentials: true,\r\n        });\r\n        resolve(res.data);\r\n      } catch (err) {\r\n        reject(err);\r\n      } finally {\r\n        setIsRequesting(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const uploadFile = async file => {\r\n    try {\r\n      const docTypes = ['DOC', 'DOCX'];\r\n      if (Math.floor((file.size / 1024) / 1024) > 200) {\r\n        dispatch(setModal({ isShow: true, message: \"Vui lòng không upload file quá 200MB!\" }));\r\n        return;\r\n      }\r\n      setIsRequesting(true);\r\n      const splitFile = file.name.split('.');\r\n      const fileType = splitFile[splitFile.length - 1];\r\n      const fileName = splitFile[0];\r\n      if (docTypes.indexOf(fileType.toUpperCase()) < 0) {\r\n        setFiles(file, file, fileType, fileName);\r\n      } else {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        const res = await getFile(formData);\r\n        const arr = file.name.split('.');\r\n        const newFile = new File([res], `${arr[0]}.pdf`, { type: 'application/pdf' });\r\n        Object.assign(newFile, { path: `${arr[0]}.pdf` });\r\n        setFiles(file, newFile, fileType, fileName);\r\n      }\r\n    } catch (err) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n\r\n  const setFiles = (origin, pdf, fileType, fileName) => {\r\n    dispatch(\r\n      setFile({\r\n        type: fileType,\r\n        fileName: fileName,\r\n        origin: {\r\n          name: origin.name,\r\n          path: origin.path,\r\n          size: origin.size,\r\n          uploadTime: new Date().getTime(),\r\n          url: URL.createObjectURL(origin),\r\n        },\r\n        pdf: {\r\n          name: pdf.name,\r\n          path: pdf.path,\r\n          size: pdf.size,\r\n          uploadTime: new Date().getTime(),\r\n          url: URL.createObjectURL(pdf),\r\n        },\r\n      }),\r\n    );\r\n  }\r\n\r\n  const onDrop = useCallback(files => {\r\n    if (files.length > 0) {\r\n      uploadFile(files[0]);\r\n    } else {\r\n      setValue('file', null);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({ maxFiles: 1, accept: '.doc, .docx,.pdf', onDrop });\r\n\r\n  const onSubmit = () => {\r\n    dispatch(\r\n      setStep(2),\r\n    );\r\n  };\r\n\r\n  const getFileDate = ms => {\r\n    const date = new Date(ms);\r\n    return `${('0' + date.getHours()).slice(-2)}:${('0' + date.getMinutes()).slice(-2)} ${('0' + date.getDate()).slice(-2)}/${('0' + (date.getMonth() + 1)).slice(-2)}/${date.getFullYear()}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"new_contract_body\">\r\n        <div className={`ncbody_wrap ncbody_wrap_step1 m-3 my-4 m-md-5 text-center ${file.origin ? 'has_ncnav' : ''}`}>\r\n          <div className=\"top_border\"></div>\r\n          <div className=\"nc_body_content\">\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              {!file.origin ? (\r\n                <>\r\n                  {isRequesting ? (\r\n                    <>\r\n                      {' '}\r\n                      <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....{' '}\r\n                    </>\r\n                  ) : (\r\n                    <div {...getRootProps()}>\r\n                      <input hidden name=\"file\" {...getInputProps()} type=\"file\" />\r\n                      <label style={{ cursor: 'pointer' }} className=\"mb-0\">\r\n                        <div className=\"mb-3 mb-sm-4 mt-4 mt-sm-5\">\r\n                          <IconUpload style={{ fontSize: '95px', color: '#2c62d6' }} />\r\n                        </div>\r\n                        <h4 style={{ fontStyle: 'italic', color: '#212529' }} className=\"font-weight-normal px-3 mb-4 mb-sm-5\">\r\n                          Kéo thả hoặc bấm vào đây để tải lên hợp đồng của bạn\r\n                          <br />\r\n                          (.doc, .docx, .pdf)\r\n                        </h4>\r\n                      </label>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div {...getRootProps()}>\r\n                    {isRequesting ? (\r\n                      <>\r\n                        {' '}\r\n                        <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....{' '}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"uploaded_file text-center text-md-left m-4 m-md-5\">\r\n                          <img className={`file_icon float-md-left mt-2 mt-md-0 mr-md-3 ${file.type == 'pdf' ? 'img-pdf' : 'img-word'}`} src={file.type == 'pdf' ? pdf : word} alt=\"\" loading=\"lazy\" />\r\n                          <div className=\"file_info float-md-left show-file-upload\">\r\n                            <p className=\"mt-2 mb-1 text-uppercase show-file-name\">\r\n                              <b style={{ color: \"#212529\" }} alt={file.fileName}>{file.fileName}</b>\r\n                            </p>\r\n                            <p className=\"mb-1 text-uppercase\">{Math.floor(file.origin.size / 1024)} KB</p>\r\n                            <p className=\"mb-1\">{getFileDate(file.origin.uploadTime)}</p>\r\n                          </div>\r\n                          <div className=\"file_change float-md-right text-center mt-3 mr-md-3\">\r\n                            <input disabled={isRequesting} type=\"file\" hidden name=\"file\" id=\"contract_file\" {...getInputProps()} />\r\n                            <label className=\"file_change_btn mb-0\" href=\"javascript:void(0)\" style={{ cursor: 'pointer' }}>\r\n                              <span className=\"file_change_icon\">\r\n                                <IconOtherUpload />\r\n                              </span>\r\n                              <span className=\"mt-1 mb-2 mb-md-0\">Tải lên bản khác</span>\r\n                            </label>\r\n                          </div>\r\n                          <div className=\"clearfix\"></div>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </form>\r\n          </div>\r\n          <div className=\"lefttop_corner\"></div>\r\n          <div className=\"leftbottom_corner\"></div>\r\n          <div className=\"righttop_corner\"></div>\r\n          <div className=\"rightbottom_corner\"></div>\r\n        </div>\r\n      </div>\r\n      {file.pdf && (\r\n        <div className=\"new_contract_nav text-center py-3\">\r\n          <button className=\"btn btn_outline_site mx-2 mx-sm-3 d-none\">QUAY LẠI</button>\r\n          <button disabled={isRequesting} className=\"btn btn_site mx-2 mx-sm-3\" onClick={handleSubmit(onSubmit)}>\r\n            TIẾP TỤC\r\n          </button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContractCreateFormFile;\r\n","import { FieldArray, Formik, Field } from 'formik';\r\nimport * as yup from 'yup';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { IconPersonPlus, IconPersonX } from '../../../Components/Icon';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSigners, setStep } from '@Redux/Actions/CreateContract';\r\nimport React from 'react';\r\n\r\ndeclare module 'yup' {\r\n  interface ArraySchema<T> {\r\n    uniqueEmail(message: string): ArraySchema<T>;\r\n  }\r\n}\r\n\r\nyup.addMethod(yup.array, 'uniqueEmail', function (message, _mapper = (a: any) => a.email) {\r\n  return this.test('uniqueEmail', message, function (list: any) {\r\n    return list.length === new Set(list.map((a: any) => a.email)).size;\r\n  });\r\n});\r\n\r\nconst schema = yup.object().shape({\r\n  signers: yup\r\n    .array()\r\n    .of(\r\n      yup.object().shape({\r\n        fullName: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/g, 'Họ và tên không hợp lệ')\r\n          .required('Đây là trường bắt buộc'),\r\n        email: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})(([^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+(\\.[^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))([\\s]{0,})$/g, 'Email không hợp lệ')\r\n          .required('Đây là trường bắt buộc'),\r\n        taxCode: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})([0-9]{10}(|-[0-9]{3}))([\\s]{0,})$/g, 'Mã số thuế không hợp lệ')\r\n          .required('Đăng là trường bắt buộc'),\r\n      }),\r\n    )\r\n    .uniqueEmail('Email không được trùng nhau.')\r\n    // .required()\r\n    .min(1, 'Mời nhập tối thiểu một đối tác cần ký trong hợp đồng'),\r\n});\r\n\r\nconst ContractCreateFormSigner = () => {\r\n  const { user } = useSelector((state: any) => state.auth);\r\n  const { signers } = useSelector((state: any) => state.createContract);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const initialValues =\r\n    signers.filter((signer: any) => signer.email == user.email).length == 0\r\n      ? {\r\n        signers: [\r\n          ...[\r\n            {\r\n              index: 0,\r\n              fullName: user.fullName,\r\n              email: user.email,\r\n              taxCode: user.company.taxCode,\r\n            },\r\n          ],\r\n          ...signers,\r\n        ],\r\n      }\r\n      : { signers: signers };\r\n\r\n  const submitFn = async (values: any) => {\r\n    const newSigners = values.signers.map((signer: any) => {\r\n      if (signer.position) {\r\n        return signer;\r\n      } else {\r\n        return {\r\n          ...signer,\r\n          ...{\r\n            position: {\r\n              x: 0,\r\n              y: 0,\r\n              percentX: 0,\r\n              percentY: 0,\r\n              page: null,\r\n            },\r\n          },\r\n        };\r\n      }\r\n    });\r\n\r\n    dispatch(setSigners(newSigners));\r\n    dispatch(setStep(3));\r\n  };\r\n\r\n  const addItem = (values: any, setFieldTouched: any, push: any, _errors: any) => {\r\n    let hasError = false;\r\n    values.signers.forEach((item: any, index: number) => {\r\n      Object.keys(item).forEach(key => {\r\n        setFieldTouched(`signers.${index}.${key}`, true);\r\n        if (key == 'email') {\r\n          if (!/^([\\s]{0,})(([^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+(\\.[^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))([\\s]{0,})$/g.test(item.email)) {\r\n            hasError = true;\r\n          }\r\n          if (\r\n            item.email &&\r\n            values.signers.filter((e: any, i: any) => {\r\n              return index != i && e.email == item.email;\r\n            }).length > 0\r\n          ) {\r\n            hasError = true;\r\n          }\r\n        }\r\n        if (key == 'taxCode') {\r\n          if (!/^([\\s]{0,})([0-9]{10}(|-[0-9]{3}))([\\s]{0,})$/g.test(item.taxCode)) {\r\n            hasError = true;\r\n          }\r\n        }\r\n        if (key == 'fullName') {\r\n          if (!item['fullName']) {\r\n            hasError = true;\r\n          } else {\r\n            if (!/^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/.test(item.fullName)) {\r\n              hasError = true;\r\n            }\r\n          }\r\n        }\r\n        // if (!item[key]) {\r\n        //   hasError = true;\r\n        // }\r\n      });\r\n    });\r\n    if (!hasError) {\r\n      push({ index: values.signers.length, fullName: '', email: '', taxCode: '' });\r\n    }\r\n  };\r\n\r\n  const removeItem = (values: any, remove: any, resetForm: any, index: any, replace: any) => {\r\n    if (values.signers.length > 2) {\r\n      remove(index);\r\n    } else {\r\n      replace(index, {\r\n        index: index,\r\n        fullName: '',\r\n        email: '',\r\n        taxCode: '',\r\n      });\r\n    }\r\n  };\r\n  const onFocus = (event: any) => {\r\n    event.target.setAttribute('autocomplete', 'off');\r\n  }\r\n  return (\r\n    <>\r\n\r\n      <Formik initialValues={initialValues} validationSchema={schema} onSubmit={submitFn} autoComplete=\"off\">\r\n        {({ values, touched, errors, setFieldTouched, resetForm, handleSubmit, submitCount, setValues }: any) => (\r\n          <>\r\n            {/* <input type=\"password\" name=\"password\" autoComplete=\"new-password\" hidden></input> */}\r\n            <div className=\"new_contract_body\">\r\n              <div className=\"ncbody_wrap m-3 my-4 m-md-5 text-center has_ncnav\">\r\n                <div className=\"top_border\"></div>\r\n\r\n                <div className=\"nc_body_content\">\r\n                  {/* <!-- Different content between steps (Step 2) --> */}\r\n                  <PerfectScrollbar className=\"partner_wrap p-4\">\r\n                    <div className=\"container-fluid\">\r\n                      <FieldArray name=\"signers\">\r\n                        {arrayHelpers => (\r\n                          <div>\r\n                            {values.signers.length > 0 &&\r\n                              values.signers.map((signer: any, index: number) => (\r\n                                <React.Fragment key={index}>\r\n                                  <div className={`partner_area row border rounded py-3 mb-3 ${index < 1 ? 'd-none' : ''}`} key={index}>\r\n                                    <div className=\"col pr-3\">\r\n                                      <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.fullName`} className={`form-control mb-3 ${(touched.signers?.[index]?.fullName || submitCount > 0) && errors.signers?.[index]?.fullName ? 'is-invalid' : ''}`} placeholder=\"Họ và tên\" />\r\n                                      <div className=\"row\">\r\n                                        <div className=\"col-12 col-sm pr-sm-0 mb-3 mb-sm-0\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.email`} className={`form-control ${(touched.signers?.[index]?.email || submitCount > 0) && errors.signers?.[index]?.email ? 'is-invalid' : ''}`} placeholder=\"Địa chỉ email\" />\r\n                                        </div>\r\n                                        <div className=\"col-12 col-sm pl-sm-3\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.taxCode`} className={`form-control ${(touched.signers?.[index]?.taxCode || submitCount > 0) && errors.signers?.[index]?.taxCode ? 'is-invalid' : ''}`} placeholder=\"Mã số thuế\" />\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-auto pl-0 d-flex align-items-center\">\r\n                                      <a className=\"remove_partner_btn\" onClick={() => removeItem(values, arrayHelpers.remove, resetForm, index, arrayHelpers.replace)} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Xóa đối tác này\">\r\n                                        <IconPersonX />\r\n                                      </a>\r\n                                    </div>\r\n                                  </div>\r\n                                </React.Fragment>\r\n                              ))}\r\n\r\n                            {!!errors.signers && typeof errors.signers == 'string' ? <div className=\"text-danger mb-3\">{errors.signers}</div> : <></>}\r\n                            {values.signers.length < 5 ? (\r\n                              <div className=\"text-center\">\r\n                                <a className={`btn btn_outline_site add_partner ${values.signers.length == 5 ? 'disabled' : ''}`} onClick={() => addItem(values, setFieldTouched, arrayHelpers.push, errors)}>\r\n                                  <IconPersonPlus style={{ fontSize: '27px' }} />\r\n                                  &nbsp;&nbsp;\r\n                                  <span>THÊM NGƯỜI KÝ</span>\r\n                                </a>\r\n                              </div>\r\n                            ) : (\r\n                              <></>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </FieldArray>\r\n                    </div>\r\n                  </PerfectScrollbar>\r\n                  {/* <!-- End Different content between steps --> */}\r\n                </div>\r\n                <div className=\"lefttop_corner\"></div>\r\n                <div className=\"leftbottom_corner\"></div>\r\n                <div className=\"righttop_corner\"></div>\r\n                <div className=\"rightbottom_corner\"></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"new_contract_nav text-center py-3\">\r\n              <button className=\"btn btn_outline_site mx-2 mx-sm-3\" onClick={() => dispatch(setStep(1))}>\r\n                QUAY LẠI\r\n              </button>\r\n              <button className=\"btn btn_site mx-2 mx-sm-3\" type=\"submit\" onClick={handleSubmit}>\r\n                TIẾP TỤC\r\n              </button>\r\n            </div>\r\n\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContractCreateFormSigner;\r\n","import React, { DragEvent, SyntheticEvent, useEffect, useRef, useState } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { setPdfCurrentPage, setPdfTotalPages, setPreviewCurrentPage, updateSignerPosition } from '@Redux/Actions/CreateContract';\r\nimport { IconLeftAngle, IconPencil, IconSign, IconRightAngle } from '../../../../Components/Icon';\r\nimport styles from './index.module.scss';\r\nimport { checkDevice } from '../../../../Utils/helpers';\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst ColumnPDF = ({ simplebarRef, setLoadedPDF }: any) => {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const { user } = useSelector((state: any) => state.auth);\r\n  const {\r\n    file,\r\n    signers,\r\n    pdf: { currentPage, totalPages },\r\n    preview,\r\n  } = useSelector((state: any) => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const [width, setWidth] = useState(681);\r\n  const previewRef: any = useRef(preview);\r\n  const pageRefs: any = useRef({});\r\n  const inputRef: any = useRef({});\r\n\r\n  function onDocumentLoadSuccess({ numPages }: any) {\r\n    dispatch(setPdfTotalPages(numPages));\r\n    setLoaded(true);\r\n   \r\n    const el = document.querySelector('.preview-pdf-overlay') as HTMLElement;\r\n    if (checkDevice()) {\r\n      setWidth(el.offsetWidth - 18);\r\n    } else {\r\n      setWidth(el.offsetWidth - 33);\r\n    }\r\n  }\r\n  function onDocumentLoadError() {\r\n    setLoaded(true);\r\n  }\r\n\r\n  function onSubmitPage(e: SyntheticEvent) {\r\n    e.preventDefault();\r\n    const page = parseInt(inputRef.current.value);\r\n    if (currentPage != page) {\r\n      dispatch(setPdfCurrentPage(page));\r\n    }\r\n  }\r\n\r\n  function goNextPage() {\r\n    dispatch(setPdfCurrentPage(currentPage + 1));\r\n    dispatch(setPreviewCurrentPage(currentPage + 1));\r\n  }\r\n\r\n  function goPreviousPage() {\r\n    dispatch(setPdfCurrentPage(currentPage - 1));\r\n    dispatch(setPreviewCurrentPage(currentPage - 1));\r\n  }\r\n\r\n  function onOverlayScroll() {\r\n    const page = getCurrentPage();\r\n    if (page != previewRef.current.currentPage) {\r\n      dispatch(setPdfCurrentPage(page));\r\n      dispatch(setPreviewCurrentPage(page));\r\n    }\r\n  }\r\n\r\n  const onDrop = (e: DragEvent) => {\r\n    const index = parseInt(e.dataTransfer.getData('index'));\r\n    let draggableElement = e.target as HTMLElement;\r\n    if (draggableElement.classList.contains('signature_inpreview')) {\r\n      draggableElement = draggableElement.parentElement as HTMLElement;\r\n    } else if (draggableElement.classList.contains('fn_close') || draggableElement.classList.contains('mx-auto')) {\r\n      draggableElement = draggableElement.parentElement?.parentElement as HTMLElement;\r\n    } else if (draggableElement.classList.contains('signer_name') || draggableElement.classList.contains('signer_icon')) {\r\n      draggableElement = draggableElement.parentElement?.parentElement?.parentElement as HTMLElement;\r\n    } else if (draggableElement.tagName == 'svg') {\r\n      draggableElement = draggableElement.parentElement?.parentElement?.parentElement?.parentElement as HTMLElement;\r\n    } else if (draggableElement.tagName == 'path') {\r\n      draggableElement = draggableElement.parentElement?.parentElement?.parentElement?.parentElement?.parentElement as HTMLElement;\r\n    }\r\n    const draggableRect = draggableElement.getBoundingClientRect();\r\n    const pageElement = draggableElement.querySelector('.pdf-page canvas') as HTMLElement;\r\n    if (pageElement) {\r\n      const pageRect = pageElement.getBoundingClientRect();\r\n      const page = parseInt(draggableElement.getAttribute('data-page') as string);\r\n      let x = e.clientX - draggableRect.x - Math.floor(draggableElement.offsetWidth * (10 / 100));\r\n      let y = e.clientY - draggableRect.y - Math.floor(draggableElement.offsetHeight * (4.5 / 100));\r\n      if (x < pageRect.x - draggableRect.x) x = pageRect.x - draggableRect.x;\r\n      if (x > draggableRect.width - Math.floor(draggableRect.width * (1 / 5)) - (pageRect.x - draggableRect.x)) x = draggableRect.width - Math.floor(draggableRect.width * (1 / 5)) - (pageRect.x - draggableRect.x);\r\n      if (y < 0) y = 0;\r\n      if (y > draggableElement.scrollHeight - 89) y = draggableElement.scrollHeight - 89;\r\n\r\n      const percentX = (x / draggableRect.width) * 100;\r\n      const percentY = (y / draggableRect.height) * 100;\r\n\r\n      const position = {\r\n        page: page,\r\n        x: x,\r\n        y: y,\r\n        percentX: percentX,\r\n        percentY: percentY,\r\n      };\r\n\r\n      dispatch(\r\n        updateSignerPosition({\r\n          index: index,\r\n          position: position,\r\n        }),\r\n      );\r\n    }\r\n  };\r\n\r\n  const onDragOver = (e: DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const onDragStart = (e: DragEvent, index: number) => {\r\n    e.dataTransfer?.setData('index', index.toString());\r\n  };\r\n\r\n  function getCurrentPage() {\r\n    const pages = pageRefs.current;\r\n    let page = 1;\r\n    Object.keys(pages).forEach((pageNumber: string) => {\r\n      const ele = pages[pageNumber];\r\n      if (ele) {\r\n        if (simplebarRef.current.contentWrapperEl.scrollTop + 10 >= ele.offsetTop) {\r\n          page = parseInt(pageNumber);\r\n        }\r\n      }\r\n    });\r\n\r\n    return page;\r\n  }\r\n\r\n  function moveToCurrentPage() {\r\n    const target: any = pageRefs.current[`${currentPage}`];\r\n    let container: any;\r\n    if (!checkDevice()) {\r\n      container = simplebarRef.current.contentWrapperEl;\r\n    } else {\r\n      container = document.getElementById('showPDFCreate');\r\n    }\r\n    if (target && isElementOutsideView(target, container)) {\r\n      container.scrollTo(0, target.offsetTop - 10);\r\n    }\r\n  }\r\n\r\n  function isElementOutsideView(element: any, container: any) {\r\n    if (element.offsetTop > container.scrollTop - 10) {\r\n      return true;\r\n    }\r\n    if (element.offsetTop <= container.scrollTop - element.offsetHeight) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function resetSignerPosition(index: number) {\r\n    dispatch(\r\n      updateSignerPosition({\r\n        index: index,\r\n        position: {\r\n          x: 0,\r\n          y: 0,\r\n          percentX: 0,\r\n          percentY: 0,\r\n          page: null,\r\n        },\r\n      }),\r\n    );\r\n  }\r\n  function onLoadedPage(e: any, pageIndex: any) {\r\n    if (pageIndex + 1 == totalPages) {\r\n      setLoadedPDF(true);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    inputRef.current.value = currentPage;\r\n    if (simplebarRef && simplebarRef.current) {\r\n      moveToCurrentPage();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    previewRef.current = preview;\r\n  }, [preview]);\r\n\r\n  useEffect(() => {\r\n    if (simplebarRef && simplebarRef.current) {\r\n      if (simplebarRef.current.contentWrapperEl) {\r\n        simplebarRef.current.contentWrapperEl.addEventListener('scroll', onOverlayScroll);\r\n      }\r\n      return () => {\r\n        if (simplebarRef.current && simplebarRef.current.contentWrapperEl) {\r\n          simplebarRef.current.contentWrapperEl.removeEventListener('scroll', null);\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"col-md-9 col-lg-10 col-xl-8 doc_preview px-2\">\r\n      <div className=\"preview_nav d-none d-md-flex mb-2 row\">\r\n        <form className=\"col pages_nums form-inline text-left d-inline-block\" onSubmit={e => onSubmitPage(e)}>\r\n          <span className=\"ml-2\">\r\n            Trang&nbsp;\r\n            <input id=\"input-page\" type=\"text\" ref={inputRef} className=\"form-control form-control-sm text-center px-2 py-1 mx-1\" defaultValue={currentPage} />/{totalPages}\r\n          </span>\r\n          <button type=\"submit\" className=\"btn\"></button>\r\n        </form>\r\n        <div className=\"col nav_btn ml-auto text-right\">\r\n          <button className={`btn ${styles.btnControlPage}`} type=\"button\" title=\"Trang trước\" disabled={currentPage <= 1} onClick={goPreviousPage}>\r\n            <IconLeftAngle />\r\n          </button>\r\n          <button className={`btn ${styles.btnControlPage}`} type=\"button\" title=\"Trang tiếp theo\" disabled={currentPage == totalPages} onClick={goNextPage}>\r\n            <IconRightAngle />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"preview_body p-2 preview-contain\">\r\n        <SimpleBar className=\"preview-pdf-overlay\" id=\"showPDFCreate\" ref={simplebarRef}>\r\n          <Document loading={() => <div className=\"loader-pdf-create\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n            {loaded &&\r\n              Array.from(new Array(totalPages), (el, index) => (\r\n                <div key={`page_${index + 1}`} className=\"pdf-page-container create-page-contain\" data-page={index + 1} id={`pdf-page-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)} onDrop={(e: DragEvent) => onDrop(e)} onDragOver={(e: DragEvent) => onDragOver(e)}>\r\n                  <Page loading=\"\" onLoadSuccess={e => onLoadedPage(e, index)} className=\"pdf-page spliter-page\" width={width} pageNumber={index + 1} />\r\n                  {signers\r\n                    .filter((signer: any) => signer.position?.page == index + 1)\r\n                    .map((item: any, index: number) => {\r\n                      return (\r\n                        <div\r\n                          className={`signature_inpreview right-item-${item.index} ${item.email == user.email ? '' : 'me'} shadow-sm draggable dropped`}\r\n                          title={`${item.email == user.email ? 'Chữ ký của tôi' : `Chữ ký đối tác: ${item.fullName}`} `}\r\n                          style={{ left: `${item.position.x}px`, top: `${item.position.y}px` }}\r\n                          key={`right-item-${item.index}`}\r\n                          id={`right-item-${item.index}`}\r\n                          data-index={item.index}\r\n                          onDragStart={(e: DragEvent) => onDragStart(e, item.index)}\r\n                          draggable=\"true\"\r\n                        >\r\n                          <div className=\"fn_close\" title=\"Xóa\" onClick={() => resetSignerPosition(item.index)}>\r\n                            ×\r\n                          </div>\r\n                          <div className=\"mx-auto\">\r\n                            <div className=\"signer_icon\">\r\n                              <IconSign />\r\n                            </div>\r\n                            <div className=\"signer_name\">{item.fullName}</div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              ))}\r\n          </Document>\r\n        </SimpleBar>\r\n\r\n        {/* {!checkDevice() ? (\r\n          <SimpleBar className=\"preview-pdf-overlay\" id=\"showPDFCreate\" ref={simplebarRef}>\r\n            <Document loading={() => <div className=\"loader-pdf-create\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n              {loaded &&\r\n                Array.from(new Array(totalPages), (el, index) => (\r\n                  <div key={`page_${index + 1}`} className=\"pdf-page-container create-page-contain\" data-page={index + 1} id={`pdf-page-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)} onDrop={(e: DragEvent) => onDrop(e)} onDragOver={(e: DragEvent) => onDragOver(e)}>\r\n                    <Page loading=\"\" className=\"pdf-page spliter-page\" width={width} pageNumber={index + 1} />\r\n                    {signers\r\n                      .filter((signer: any) => signer.position?.page == index + 1)\r\n                      .map((item: any, index: number) => {\r\n                        return (\r\n                          <div\r\n                            className={`signature_inpreview right-item-${item.index} ${item.email == user.email ? '' : 'me'} shadow-sm draggable dropped`}\r\n                            title={`${item.email == user.email ? 'Chữ ký của tôi' : `Chữ ký đối tác: ${item.fullName}`} `}\r\n                            style={{ left: `${item.position.x}px`, top: `${item.position.y}px` }}\r\n                            key={`right-item-${item.index}`}\r\n                            id={`right-item-${item.index}`}\r\n                            data-index={item.index}\r\n                            onDragStart={(e: DragEvent) => onDragStart(e, item.index)}\r\n                            draggable=\"true\"\r\n                          >\r\n                            <div className=\"fn_close\" title=\"Xóa\" onClick={() => resetSignerPosition(item.index)}>\r\n                              ×\r\n                            </div>\r\n                            <div className=\"mx-auto\">\r\n                              <div className=\"signer_icon\">\r\n                                <IconSign />\r\n                              </div>\r\n                              <div className=\"signer_name\">{item.fullName}</div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                ))}\r\n            </Document>\r\n          </SimpleBar>\r\n        ) : (\r\n          <div className=\"preview-pdf-overlay\" id=\"showPDFCreate\" ref={simplebarRef}>\r\n            <Document loading={() => <div className=\"loader-pdf-create\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n              {loaded &&\r\n                Array.from(new Array(totalPages), (el, index) => (\r\n                  <div key={`page_${index + 1}`} className=\"pdf-page-container create-page-contain\" data-page={index + 1} id={`pdf-page-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)} onDrop={(e: DragEvent) => onDrop(e)} onDragOver={(e: DragEvent) => onDragOver(e)}>\r\n                    <Page loading=\"\" className=\"pdf-page spliter-page\" width={width} pageNumber={index + 1} />\r\n                    {signers\r\n                      .filter((signer: any) => signer.position?.page == index + 1)\r\n                      .map((item: any, index: number) => {\r\n                        return (\r\n                          <div\r\n                            className={`signature_inpreview right-item-${item.index} ${item.email == user.email ? '' : 'me'} shadow-sm draggable dropped`}\r\n                            title={`${item.email == user.email ? 'Chữ ký của tôi' : `Chữ ký đối tác: ${item.fullName}`} `}\r\n                            style={{ left: `${item.position.x}px`, top: `${item.position.y}px` }}\r\n                            key={`right-item-${item.index}`}\r\n                            id={`right-item-${item.index}`}\r\n                            data-index={item.index}\r\n                            onDragStart={(e: DragEvent) => onDragStart(e, item.index)}\r\n                            draggable=\"true\"\r\n                          >\r\n                            <div className=\"fn_close\" title=\"Xóa\" onClick={() => resetSignerPosition(item.index)}>\r\n                              ×\r\n                            </div>\r\n                            <div className=\"mx-auto\">\r\n                              <div className=\"signer_icon\">\r\n                                <IconSign />\r\n                              </div>\r\n                              <div className=\"signer_name\">{item.fullName}</div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                  </div>\r\n                ))}\r\n            </Document>\r\n          </div>\r\n        )} */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ColumnPDF;\r\n","import React, { useRef, useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { IconPencil } from '../../../../Components/Icon';\r\nimport styles from './index.module.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { setPdfCurrentPage, setPreviewCurrentPage, setPreviewTotalPages } from '@Redux/Actions/CreateContract';\r\nimport { checkDevice } from '../../../../Utils/helpers';\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst ColumnPreview = () => {\r\n  const { user } = useSelector((state: any) => state.auth);\r\n  const {\r\n    file,\r\n    signers,\r\n    preview: { currentPage, totalPages },\r\n  } = useSelector((state: any) => state.createContract);\r\n  const dispatch = useDispatch();\r\n  const [width, setWidth] = useState(125);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const overlayRef: any = useRef({});\r\n  const previewRef: any = useRef({});\r\n  const pageRefs: any = useRef({});\r\n\r\n  function onDocumentLoadSuccess({ numPages }: any) {\r\n    dispatch(setPreviewTotalPages(numPages));\r\n    setLoaded(true);\r\n  }\r\n\r\n  function onDocumentLoadError() {\r\n    setLoaded(true);\r\n  }\r\n  function onClickPage(pageNumber: number) {\r\n    dispatch(setPreviewCurrentPage(pageNumber));\r\n    dispatch(setPdfCurrentPage(pageNumber));\r\n  }\r\n\r\n  function onClickSigner(e: any, index: number) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const signer: HTMLDivElement = document.getElementById(`right-item-${index}`) as HTMLDivElement;\r\n    const container: HTMLDivElement = !checkDevice() ? document.querySelector('#showPDFCreate .simplebar-content-wrapper') as HTMLDivElement : document.querySelector('#showPDFCreate') as HTMLDivElement;\r\n    if (signer && container) {\r\n      const newTop = (signer.parentElement as HTMLDivElement).offsetTop + signer.offsetTop - (container.offsetHeight / 2) + (signer.offsetHeight / 2);\r\n      container.scrollTop = newTop >= 0 ? newTop : 0;\r\n    }\r\n  }\r\n\r\n  function moveToCurrentPage() {\r\n    const target: any = pageRefs.current[`${currentPage}`];\r\n    let container: any = null;\r\n    if (!checkDevice()) {\r\n      container = overlayRef.current;\r\n    } else {\r\n      container = document.querySelector('.create-contract-preview');\r\n    }\r\n    if (target && container) {\r\n      container.scrollTo(0, target.offsetTop - (container.offsetHeight - target.offsetHeight - 36));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    moveToCurrentPage();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage]);\r\n\r\n  return (\r\n    <div className=\"col pages mt-3 pl-0 pr-2 d-none d-xl-block\">\r\n      <SimpleBar style={{ height: '100%', padding: '0 1rem' }} className=\"pdf-preview-overlay create-contract-preview\" ref={previewRef} scrollableNodeProps={{ ref: overlayRef }}>\r\n        <div className=\"pdf-spliter-container\">\r\n          <Document loading={() => <div className=\"loader-pdf-create-preview\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n            {loaded &&\r\n              Array.from(new Array(totalPages)).map((el, index) => (\r\n                <div key={`preview_pdf_${index + 1}`} className=\"pdf-page-container\" id={`pdf-preview-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)}>\r\n                  <Page loading=\"\" className={`pdf-page page-item mb-3 ${styles.spliterPage} ${index + 1 == currentPage ? `${styles.page_active}` : ''}`} width={width} pageNumber={index + 1} onClick={() => onClickPage(index + 1)}>\r\n                    <div className={styles.listSigner}>\r\n                      {signers.map((item: any) => {\r\n                        return (\r\n                          <React.Fragment key={`preview_pdf_signer_icon_${item.index}`}>\r\n                            {item.position.page == index + 1 && (\r\n                              <div id={`preview-create-${item.index}`} onClick={(e) => onClickSigner(e, item.index)} className={`${styles.signature_icon} ${item.email == user.email ? '' : `${styles.signature_icon_me}`}`}>\r\n                                <IconPencil />\r\n                              </div>\r\n                            )}\r\n                          </React.Fragment>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </Page>\r\n                </div>\r\n              ))}\r\n          </Document>\r\n        </div>\r\n      </SimpleBar>\r\n\r\n      {/* {!checkDevice() ? (\r\n        <SimpleBar style={{ height: '100%', padding: '0 1rem' }} className=\"pdf-preview-overlay create-contract-preview\" ref={previewRef} scrollableNodeProps={{ ref: overlayRef }}>\r\n          <div className=\"pdf-spliter-container\">\r\n            <Document loading={() => <div className=\"loader-pdf-create-preview\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n              {loaded &&\r\n                Array.from(new Array(totalPages)).map((el, index) => (\r\n                  <div key={`preview_pdf_${index + 1}`} className=\"pdf-page-container\" id={`pdf-preview-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)}>\r\n                    <Page loading=\"\" className={`pdf-page page-item mb-3 ${styles.spliterPage} ${index + 1 == currentPage ? `${styles.page_active}` : ''}`} width={width} pageNumber={index + 1} onClick={() => onClickPage(index + 1)}>\r\n                      <div className={styles.listSigner}>\r\n                        {signers.map((item: any) => {\r\n                          return (\r\n                            <React.Fragment key={`preview_pdf_signer_icon_${item.index}`}>\r\n                              {item.position.page == index + 1 && (\r\n                                <div id={`preview-create-${item.index}`} onClick={(e) => onClickSigner(e, item.index)} className={`${styles.signature_icon} ${item.email == user.email ? '' : `${styles.signature_icon_me}`}`}>\r\n                                  <IconPencil />\r\n                                </div>\r\n                              )}\r\n                            </React.Fragment>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </Page>\r\n                  </div>\r\n                ))}\r\n            </Document>\r\n          </div>\r\n        </SimpleBar>\r\n      ) : (\r\n        <div style={{ height: '100%', padding: '0 1rem' }} className=\"pdf-preview-overlay create-contract-preview\" ref={previewRef}>\r\n          <div className=\"pdf-spliter-container\">\r\n            <Document loading={() => <div className=\"loader-pdf-create\"></div>} file={file.pdf.url} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n              {loaded &&\r\n                Array.from(new Array(totalPages)).map((el, index) => (\r\n                  <div key={`preview_pdf_${index + 1}`} className=\"pdf-page-container\" id={`pdf-preview-${index + 1}`} ref={ele => (pageRefs.current[`${index + 1}`] = ele)}>\r\n                    <Page loading=\"\" className={`pdf-page page-item mb-3 ${styles.spliterPage} ${index + 1 == currentPage ? `${styles.page_active}` : ''}`} width={width} pageNumber={index + 1} onClick={(e) => onClickPage(index + 1)}>\r\n                      <div className={styles.listSigner}>\r\n                        {signers.map((item: any) => {\r\n                          return (\r\n                            <React.Fragment key={`preview_pdf_signer_icon_${item.index}`}>\r\n                              {item.position.page == index + 1 && (\r\n                                <div className={`${styles.signature_icon} ${item.email == user.email ? '' : `${styles.signature_icon_me}`}`} onClick={(e) => onClickSigner(e, item.index)} >\r\n                                  <IconPencil />\r\n                                </div>\r\n                              )}\r\n                            </React.Fragment>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </Page>\r\n                  </div>\r\n                ))}\r\n            </Document>\r\n          </div>\r\n        </div>\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\nexport default ColumnPreview;\r\n","import { Field, FieldArray, Formik } from 'formik';\r\nimport { DragEvent, SyntheticEvent, useEffect, useState } from 'react';\r\nimport { Form, Modal } from 'react-bootstrap';\r\nimport * as yup from 'yup';\r\nimport { IconPencilOutline, IconPersonPlus, IconPersonX } from '../../../../Components/Icon';\r\nimport styles from './index.module.scss';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setSigners, updateSignerPosition } from '@Redux/Actions/CreateContract';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { checkDevice } from '../../../../Utils/helpers';\r\n\r\ndeclare module 'yup' {\r\n  interface ArraySchema<T> {\r\n    uniqueEmail(property: string, message: string): ArraySchema<T>;\r\n  }\r\n}\r\nyup.addMethod(yup.array, 'uniqueEmail', function (message) {\r\n  return this.test('uniqueEmail', message, function (list: any) {\r\n    return list.length === new Set(list.map((a: any) => a.email)).size;\r\n  });\r\n});\r\n\r\nconst schema = yup.object().shape({\r\n  signers: yup\r\n    .array()\r\n    .of(\r\n      yup.object().shape({\r\n        fullName: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/, 'Họ và tên không hợp lệ')\r\n          .required('Đây là trường bắt buộc'),\r\n        email: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})(([^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+(\\.[^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))([\\s]{0,})$/g, 'Email không hợp lệ')\r\n          .required('Đây là trường bắt buộc'),\r\n        taxCode: yup\r\n          .string()\r\n          .matches(/^([\\s]{0,})([0-9]{10}(|-[0-9]{3}))([\\s]{0,})$/g, 'Mã số thuế không hợp lệ')\r\n          .required('Đăng là trường bắt buộc'),\r\n      }),\r\n    )\r\n    .uniqueEmail('Email không được trùng nhau.')\r\n    // .required()\r\n    .min(1, ''),\r\n});\r\n\r\nconst ColumnSigners = ({ simplebarRef, loadedPDF }: any) => {\r\n  const { user } = useSelector((state: any) => state.auth);\r\n  const { signers } = useSelector((state: any) => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const initialValues = {\r\n    signers: signers,\r\n  };\r\n\r\n  const [showSignerModal, setShowSignerModal] = useState(false);\r\n\r\n  const onSubmitSigners = (values: any) => {\r\n    const newSigners = values.signers.map((signer: any) => {\r\n      if (signer.position) {\r\n        return signer;\r\n      } else {\r\n        return {\r\n          ...signer,\r\n          ...{\r\n            position: {\r\n              x: 0,\r\n              y: 0,\r\n              percentX: 0,\r\n              percentY: 0,\r\n              page: null,\r\n            },\r\n          },\r\n        };\r\n      }\r\n    });\r\n    dispatch(setSigners(newSigners));\r\n    setShowSignerModal(false);\r\n  };\r\n\r\n  const addItem = (values: any, setFieldTouched: any, push: any, errors: any) => {\r\n    let hasError = false;\r\n    values.signers.forEach((item: any, index: number) => {\r\n      Object.keys(item).forEach(key => {\r\n        setFieldTouched(`signers.${index}.${key}`, true);\r\n        if (key == 'email') {\r\n          if (!/^([\\s]{0,})(([^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+(\\.[^<>()[\\]\\\\!#$%^&*.,;:àáãạảăắằẳẵặâấầẩẫậèéẹẻẽêềếểễệđìíĩỉịòóõọỏôốồổỗộơớờởỡợùúũụủưứừửữựỳỵỷỹýÀÁÃẠẢĂẮẰẲẴẶÂẤẦẨẪẬÈÉẸẺẼÊỀẾỂỄỆĐÌÍĨỈỊÒÓÕỌỎÔỐỒỔỖỘƠỚỜỞỠỢÙÚŨỤỦƯỨỪỬỮỰỲỴỶỸÝ\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))([\\s]{0,})$/g.test(item.email)) {\r\n            hasError = true;\r\n          }\r\n          if (\r\n            item.email &&\r\n            values.signers.filter((e: any, i: any) => {\r\n              return index != i && e.email == item.email;\r\n            }).length > 0\r\n          ) {\r\n            hasError = true;\r\n          }\r\n        }\r\n        if (key == 'taxCode') {\r\n          if (!/^([\\s]{0,})([0-9]{10}(|-[0-9]{3}))([\\s]{0,})$/g.test(item.taxCode)) {\r\n            hasError = true;\r\n          }\r\n        }\r\n        if (key == 'fullName') {\r\n          if (!item['fullName']) {\r\n            hasError = true;\r\n          } else {\r\n            if (!/^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/.test(item.fullName)) {\r\n              hasError = true;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n    if (!hasError) {\r\n      push({ index: values.signers.length, fullName: '', email: '', taxCode: '' });\r\n      setTimeout(() => {\r\n        const eleComment = document.getElementById(`singerCreate_${values.signers.length}`);\r\n        if (eleComment) {\r\n          eleComment.scrollIntoView({ block: 'center' });\r\n        }\r\n      }, 50)\r\n    }\r\n  };\r\n\r\n  const removeItem = (values: any, remove: any, resetForm: any, index: any, replace: any) => {\r\n    if (values.signers.length > 2) {\r\n      remove(index);\r\n    } else {\r\n      // resetForm(index);\r\n      replace(index, {\r\n        index: index,\r\n        fullName: '',\r\n        email: '',\r\n        taxCode: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  const onDragStart = (e: DragEvent, index: number) => {\r\n    e.dataTransfer?.setData('index', index.toString());\r\n  };\r\n\r\n  const onDragOver = (e: DragEvent) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const onDrop = (e: DragEvent) => {\r\n    const index = parseInt(e.dataTransfer.getData('index'));\r\n    dispatch(\r\n      updateSignerPosition({\r\n        index: index,\r\n        position: {\r\n          x: 0,\r\n          y: 0,\r\n          percentX: 0,\r\n          percentY: 0,\r\n          page: null,\r\n        },\r\n      }),\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n  }, [loadedPDF])\r\n\r\n  return (\r\n    <>\r\n      {!checkDevice() ? (\r\n        <SimpleBar className={`col-12 col-md signers pl-2 pl-md-4 pr-2 pr-md-3 mt-2 mt-md-3 flex-row`} ref={simplebarRef} onDragOver={e => onDragOver(e)} onDrop={e => onDrop(e)}>\r\n          <button className=\"btn btn_outline_site add_signer align-items-center py-1 py-md-3 mb-3\" title=\"Thêm người ký\" onClick={() => setShowSignerModal(true)}>\r\n            <IconPersonPlus />\r\n          </button>\r\n          {signers\r\n            .filter((signer: any) => !signer.position?.page)\r\n            .map((item: any, index: number) => {\r\n              return (\r\n                <button\r\n                  className={`btn btn-block signer mb-3 align-items-center ${item.email == user.email ? styles.author_signature : ''} ${!loadedPDF ? 'pointer-none' : ''} draggable dropped`}\r\n                  key={`left-item-${item.index}`}\r\n                  id={`left-item-${item.index}`}\r\n                  data-index={item.index}\r\n                  style={{ transform: `translate(${item.position.x}px, ${item.position.y}px)` }}\r\n                  data-x={item.position.x}\r\n                  data-y={item.position.y}\r\n                  title={item.fullName}\r\n                  draggable=\"true\"\r\n                  onDragStart={(e: DragEvent) => onDragStart(e, item.index)}\r\n                >\r\n                  <div className=\"signer_icon mb-1\">\r\n                    <IconPencilOutline />\r\n                  </div>\r\n                  <div>\r\n                    <span className=\"signer_meta d-block\">{item.email == user.email ? 'Chữ ký của tôi' : 'Chữ ký đối tác'}</span>\r\n                    <span className=\"signer_name d-block\">{item.fullName}</span>\r\n                  </div>\r\n                  <div className=\"clearfix\"></div>\r\n                </button>\r\n              );\r\n            })}\r\n          <div className=\"rightspace_helper d-block d-md-none\"></div>\r\n        </SimpleBar>\r\n      ) : (\r\n        <>\r\n          <div className={`col-12 col-md signers has-device pl-2 pl-md-4 pr-2 pr-md-3 mt-2 mt-md-3 flex-row`} onDragOver={e => onDragOver(e)} onDrop={e => onDrop(e)}>\r\n            <button className=\"btn btn_outline_site add_signer align-items-center py-1 py-md-3 mb-3\" title=\"Thêm người ký\" onClick={() => setShowSignerModal(true)}>\r\n              <IconPersonPlus />\r\n            </button>\r\n            {signers\r\n              .filter((signer: any) => !signer.position?.page)\r\n              .map((item: any, index: number) => {\r\n                return (\r\n                  <button\r\n                    className={`btn btn-block signer mb-3 align-items-center ${item.email == user.email ? styles.author_signature : ''} ${!loadedPDF ? 'pointer-none' : ''} draggable dropped`}\r\n                    key={`left - item - ${item.index} `}\r\n                    id={`left - item - ${item.index} `}\r\n                    data-index={item.index}\r\n                    style={{ transform: `translate(${item.position.x}px, ${item.position.y}px)` }}\r\n                    data-x={item.position.x}\r\n                    data-y={item.position.y}\r\n                    title={item.fullName}\r\n                    draggable=\"true\"\r\n                    onDragStart={(e: DragEvent) => onDragStart(e, item.index)}\r\n                  >\r\n                    <div className=\"signer_icon mb-1\">\r\n                      <IconPencilOutline />\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"signer_meta d-block\">{item.email == user.email ? 'Chữ ký của tôi' : 'Chữ ký đối tác'}</span>\r\n                      <span className=\"signer_name d-block\">{item.fullName}</span>\r\n                    </div>\r\n                    <div className=\"clearfix\"></div>\r\n                  </button>\r\n                );\r\n              })}\r\n            <div className=\"rightspace_helper d-block d-md-none\"></div>\r\n          </div>\r\n        </>\r\n      )}\r\n      {/* Start Modal */}\r\n      <Modal\r\n        show={showSignerModal}\r\n        onHide={() => setShowSignerModal(false)}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        scrollable={true}\r\n        size=\"lg\"\r\n        id=\"signersModal\"\r\n        className=\"create-contract\"\r\n        backdropClassName=\"zIndex-1050\"\r\n        dialogClassName=\"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg\"\r\n      >\r\n        <Modal.Header className=\"d-block text-center\">\r\n          <h5 id=\"signersModalLabel\" className=\"modal-title text-uppercase\">\r\n            Chỉnh sửa đối tác ký hợp đồng\r\n          </h5>\r\n        </Modal.Header>\r\n        <Formik initialValues={initialValues} validationSchema={schema} onSubmit={onSubmitSigners}>\r\n          {({ handleSubmit, values, touched, errors, isSubmitting, setFieldTouched, resetForm }: any) => (\r\n            <>\r\n              <Form noValidate onSubmit={handleSubmit}>\r\n                <SimpleBar className={`${styles.max_height_signers} `}>\r\n                  <Modal.Body className={`${styles.signer_body} py-0 py-lg-4 px-lg-5`}>\r\n                    <div className=\"container-fluid\">\r\n                      <FieldArray name=\"signers\">\r\n                        {arrayHelpers => (\r\n                          <div>\r\n                            {values.signers.length > 0 &&\r\n                              (values.signers as Array<any>).map((signer, index) => (\r\n                                <div id={`singerCreate_${index}`} className={`partner_area row border rounded py-3 mb-3 ${index < 1 ? 'd-none' : ''} `} key={index}>\r\n                                  <div className=\"col pr-3\">\r\n                                    <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.fullName`} className={`form-control mb-3 ${touched.signers?.[index]?.fullName && (errors.signers?.[index] as any)?.fullName ? 'is-invalid' : ''}`} placeholder=\"Họ và tên\" />\r\n                                    <div className=\"row\">\r\n                                      <div className=\"col-12 col-sm pr-sm-0 mb-3 mb-sm-0\">\r\n                                        <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.email`} className={`form-control ${touched.signers?.[index]?.email && (errors.signers?.[index] as any)?.email ? 'is-invalid' : ''}`} placeholder=\"Địa chỉ email\" />\r\n                                      </div>\r\n                                      <div className=\"col-12 col-sm pl-sm-3\">\r\n                                        <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.taxCode`} className={`form-control ${touched.signers?.[index]?.taxCode && (errors.signers?.[index] as any)?.taxCode ? 'is-invalid' : ''}`} placeholder=\"Mã số thuế\" />\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-auto pl-0 d-flex align-items-center\">\r\n                                    <a className=\"remove_partner_btn\" onClick={() => removeItem(values, arrayHelpers.remove, resetForm, index, arrayHelpers.replace)} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Xóa đối tác này\">\r\n                                      <IconPersonX />\r\n                                    </a>\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n\r\n                            {!!errors.signers && typeof errors.signers == 'string' ? <div className=\"text-danger text-center mb-3\">{errors.signers}</div> : <></>}\r\n                            {values.signers.length < 5 ? (\r\n                              <div className=\"text-center\">\r\n                                <a className={`btn btn_outline_site add_partner ${values.signers.length == 5 ? 'disabled' : ''}`} onClick={() => addItem(values, setFieldTouched, arrayHelpers.push, errors)}>\r\n                                  <IconPersonPlus style={{ fontSize: 27 }} />\r\n                                  &nbsp;&nbsp;\r\n                                  <span>THÊM NGƯỜI KÝ</span>\r\n                                </a>\r\n                              </div>\r\n                            ) : (\r\n                              <></>\r\n                            )}\r\n                          </div>\r\n                        )\r\n                        }\r\n                      </FieldArray >\r\n                    </div >\r\n                  </Modal.Body >\r\n                </SimpleBar >\r\n\r\n                {/* {!checkDevice() ? (\r\n                  <SimpleBar className={`${styles.max_height_signers}`}>\r\n                    <Modal.Body className={`${styles.signer_body} py-0 py-lg-4 px-lg-5`}>\r\n                      <div className=\"container-fluid\">\r\n                        <FieldArray name=\"signers\">\r\n                          {arrayHelpers => (\r\n                            <div>\r\n                              {values.signers.length > 0 &&\r\n                                (values.signers as Array<any>).map((signer, index) => (\r\n                                  <div className={`partner_area row border rounded py-3 mb-3 ${index < 1 ? 'd-none' : ''}`} key={index}>\r\n                                    <div className=\"col pr-3\">\r\n                                      <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.fullName`} className={`form-control mb-3 ${touched.signers?.[index]?.fullName && (errors.signers?.[index] as any)?.fullName ? 'is-invalid' : ''}`} placeholder=\"Họ và tên\" />\r\n                                      <div className=\"row\">\r\n                                        <div className=\"col-12 col-sm pr-sm-0 mb-3 mb-sm-0\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.email`} className={`form-control ${touched.signers?.[index]?.email && (errors.signers?.[index] as any)?.email ? 'is-invalid' : ''}`} placeholder=\"Địa chỉ email\" />\r\n                                        </div>\r\n                                        <div className=\"col-12 col-sm pl-sm-3\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.taxCode`} className={`form-control ${touched.signers?.[index]?.taxCode && (errors.signers?.[index] as any)?.taxCode ? 'is-invalid' : ''}`} placeholder=\"Mã số thuế\" />\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-auto pl-0 d-flex align-items-center\">\r\n                                      <a className=\"remove_partner_btn\" onClick={() => removeItem(values, arrayHelpers.remove, resetForm, index, arrayHelpers.replace)} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Xóa đối tác này\">\r\n                                        <IconPersonX />\r\n                                      </a>\r\n                                    </div>\r\n                                  </div>\r\n                                ))}\r\n\r\n                              {!!errors.signers && typeof errors.signers == 'string' ? <div className=\"text-danger text-center mb-3\">{errors.signers}</div> : <></>}\r\n                              {values.signers.length < 5 ? (\r\n                                <div className=\"text-center\">\r\n                                  <a className={`btn btn_outline_site add_partner ${values.signers.length == 5 ? 'disabled' : ''}`} onClick={() => addItem(values, setFieldTouched, arrayHelpers.push, errors)}>\r\n                                    <IconPersonPlus style={{ fontSize: 27 }} />\r\n                                    &nbsp;&nbsp;\r\n                                    <span>THÊM NGƯỜI KÝ</span>\r\n                                  </a>\r\n                                </div>\r\n                              ) : (\r\n                                <></>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </FieldArray>\r\n                      </div>\r\n                    </Modal.Body>\r\n                  </SimpleBar>\r\n                ) : (\r\n                  <div className={`${styles.max_height_signers}`}>\r\n                    <Modal.Body className={`${styles.signer_body} py-0 py-lg-4 px-lg-5`}>\r\n                      <div className=\"container-fluid\">\r\n                        <FieldArray name=\"signers\">\r\n                          {arrayHelpers => (\r\n                            <div>\r\n                              {values.signers.length > 0 &&\r\n                                (values.signers as Array<any>).map((signer, index) => (\r\n                                  <div className={`partner_area row border rounded py-3 mb-3 ${index < 1 ? 'd-none' : ''}`} key={index}>\r\n                                    <div className=\"col pr-3\">\r\n                                      <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.fullName`} className={`form-control mb-3 ${touched.signers?.[index]?.fullName && (errors.signers?.[index] as any)?.fullName ? 'is-invalid' : ''}`} placeholder=\"Họ và tên\" />\r\n                                      <div className=\"row\">\r\n                                        <div className=\"col-12 col-sm pr-sm-0 mb-3 mb-sm-0\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.email`} className={`form-control ${touched.signers?.[index]?.email && (errors.signers?.[index] as any)?.email ? 'is-invalid' : ''}`} placeholder=\"Địa chỉ email\" />\r\n                                        </div>\r\n                                        <div className=\"col-12 col-sm pl-sm-3\">\r\n                                          <Field type=\"text\" autoComplete=\"off\" name={`signers.${index}.taxCode`} className={`form-control ${touched.signers?.[index]?.taxCode && (errors.signers?.[index] as any)?.taxCode ? 'is-invalid' : ''}`} placeholder=\"Mã số thuế\" />\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-auto pl-0 d-flex align-items-center\">\r\n                                      <a href=\"javascript:void(0)\" className=\"remove_partner_btn\" onClick={() => removeItem(values, arrayHelpers.remove, resetForm, index, arrayHelpers.replace)} data-toggle=\"tooltip\" data-placement=\"top\" title=\"Xóa đối tác này\">\r\n                                        <IconPersonX />\r\n                                      </a>\r\n                                    </div>\r\n                                  </div>\r\n                                ))}\r\n\r\n                              {!!errors.signers && typeof errors.signers == 'string' ? <div className=\"text-danger text-center mb-3\">{errors.signers}</div> : <></>}\r\n                              {values.signers.length < 5 ? (\r\n                                <div className=\"text-center\">\r\n                                  <a href=\"javascript:void(0)\" className={`btn btn_outline_site add_partner ${values.signers.length == 5 ? 'disabled' : ''}`} onClick={() => addItem(values, setFieldTouched, arrayHelpers.push, errors)}>\r\n                                    <IconPersonPlus style={{ fontSize: 27 }} />\r\n                                    &nbsp;&nbsp;\r\n                                    <span>THÊM NGƯỜI KÝ</span>\r\n                                  </a>\r\n                                </div>\r\n                              ) : (\r\n                                <></>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </FieldArray>\r\n                      </div>\r\n                    </Modal.Body>\r\n                  </div>\r\n                )} */}\r\n                < Modal.Footer className=\"new_contract_nav d-block text-center\" >\r\n                  <button type=\"button\" className=\"btn btn_outline_site mx-2 mx-sm-3\" onClick={() => setShowSignerModal(false)}>\r\n                    HỦY BỎ\r\n                  </button>\r\n                  <button type=\"submit\" className=\"btn btn_site mx-2 mx-sm-3\" disabled={isSubmitting}>\r\n                    LƯU LẠI\r\n                  </button>\r\n                </Modal.Footer >\r\n              </Form >\r\n            </>\r\n          )}\r\n        </Formik >\r\n      </Modal >\r\n      {/* End Modal */}\r\n    </>\r\n  );\r\n};\r\nexport default ColumnSigners;\r\n","import { setStep, updateSignerPosition } from '@Redux/Actions/CreateContract';\r\nimport interact from 'interactjs';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ColumnPDF from './ColumnPDF';\r\nimport ColumnPreview from './ColumnPreview';\r\nimport ColumnSigners from './ColumnSigners';\r\n\r\nconst ContractCreateFormDesign = () => {\r\n  const {\r\n    file,\r\n    signers,\r\n    currentStep,\r\n    preview: { currentPage, totalPages },\r\n  } = useSelector((state: any) => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const pdfSimpleBarRef = useRef<any>();\r\n  const signerSimpleBarRef = useRef<any>();\r\n\r\n  const signersRef = useRef(signers);\r\n\r\n  const onSubmit = () => {\r\n    dispatch(setStep(4));\r\n  };\r\n\r\n  const [loadedPDF, setLoadedPDF] = useState(false);\r\n\r\n  useEffect(() => {\r\n    signersRef.current = signers;\r\n  }, [signers]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"new_contract_body \">\r\n        <div className=\"ncbody_wrap m-3 my-4 m-md-5 text-center has_ncnav step3-wrap\">\r\n          <div className=\"top_border\"></div>\r\n          <div className=\"nc_body_content\">\r\n            <div className=\"container-fluid py-3 px-4 px-md-3\">\r\n              <div className=\"row helper_wrap\">\r\n                <ColumnSigners simplebarRef={signerSimpleBarRef} loadedPDF={loadedPDF} />\r\n                <ColumnPDF simplebarRef={pdfSimpleBarRef} setLoadedPDF={setLoadedPDF} />\r\n                <ColumnPreview />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"lefttop_corner\"></div>\r\n          <div className=\"leftbottom_corner\"></div>\r\n          <div className=\"righttop_corner\"></div>\r\n          <div className=\"rightbottom_corner\"></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"new_contract_nav text-center py-3\">\r\n        <button className=\"btn btn_outline_site mx-2 mx-sm-3\" onClick={() => dispatch(setStep(2))}>\r\n          QUAY LẠI\r\n        </button>\r\n        <button className=\"btn btn_site mx-2 mx-sm-3\" onClick={() => onSubmit()} disabled={signers.filter((signer: any) => signer.position.page).length < signers.length}>\r\n          TIẾP TỤC\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n  return <></>;\r\n};\r\n\r\nexport default ContractCreateFormDesign;\r\n","import { useForm } from 'react-hook-form';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setInformation, setReadyForCreating, setStep } from '@Redux/Actions/CreateContract';\r\nimport { useState } from 'react';\r\nconst ContractCreateFormSubject = ({ onCloseModal }) => {\r\n  const [counter, setCounter] = useState(512);\r\n  const user = useSelector(state => state.auth.user);\r\n  const { file, signers, information, currentStep, isCreatingContract } = useSelector(state => state.createContract);\r\n  const dispatch = useDispatch();\r\n  const {\r\n    handleSubmit,\r\n    getValues,\r\n    register,\r\n    setValue,\r\n    formState: { errors, isValid },\r\n  } = useForm({\r\n    defaultValues: information,\r\n  });\r\n  const preventText = event => {\r\n    if (event.target.innerText.length === 512 && event.keyCode != 8) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n  const pasteContent = event => {\r\n    event.preventDefault();\r\n    var text = event.clipboardData.getData(\"text/plain\");\r\n    document.execCommand(\"insertHTML\", false, text);\r\n  }\r\n  const counterLetter = e => {\r\n    // const contentContract = document.getElementById('step4_content');\r\n    const textArea = e.target;\r\n    if (textArea.scrollHeight > window.innerHeight - 590) {\r\n      textArea.style.height = 'auto';\r\n      textArea.style.height = textArea.scrollHeight + 'px';\r\n    } else {\r\n      textArea.style.height = 'calc(100vh - 590px)';\r\n    }\r\n    if (textArea.innerText.length > 0) {\r\n      setCounter(512 - textArea.innerText.length);\r\n      setValue('content', textArea.innerText);\r\n    } else {\r\n      setValue('content', '');\r\n      setCounter(512);\r\n    }\r\n  };\r\n  const hasAllSpace = () => {\r\n    return getValues('content').trim().length > 0;\r\n  }\r\n  const onSubmit = async values => {\r\n    dispatch(setInformation(values));\r\n    dispatch(setReadyForCreating(true));\r\n    onCloseModal(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"new_contract_body\">\r\n        <div className=\"ncbody_wrap m-3 my-4 m-md-5 text-center has_ncnav\">\r\n          <div className=\"top_border\"></div>\r\n          <div className=\"nc_body_content\">\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n              <div className=\"container-fluid sending py-4 px-3 px-md-4\">\r\n                <div className=\"form-inline\">\r\n                  <div className=\"col-12 col-md-8 col-lg-9 mr-md-3 mb-3 px-0\">\r\n                    <input type=\"text\" autoComplete=\"off\" className={`form-control w-100 ${errors.title && 'is-invalid'}`} name=\"title\" placeholder=\"Tiêu đề\" title=\"Tiêu đề\" {...register('title', { required: 'Xin mời nhập tiêu đề', pattern: {\r\n                      value: /^([\\s]{0,})([^\\s.]+\\s?){1,}([\\s]{0,})$/g,\r\n                      message: 'Mời nhập tiêu đề'\r\n                    } })} />\r\n                    {/* <div className=\"text-danger text-left mb-1\" style={{height: '20px', fontSize: '14px'}}>{errors.title && errors.title.message}</div> */}\r\n                  </div>\r\n                  <div className=\"col mb-3 px-0\">\r\n                    <select className={`custom-select w-100 ${errors.numberOFExpirationDate && 'is-invalid'}`} title=\"Thời hạn ký\" name=\"numberOFExpirationDate\" {...register('numberOFExpirationDate', { required: 'Xin mời chọn thời gian ký' })}>\r\n                      <option value=\"\" disabled hidden>\r\n                        Thời hạn ký\r\n                      </option>\r\n                      <option value=\"1\">1 ngày</option>\r\n                      <option value=\"7\">1 tuần</option>\r\n                      <option value=\"30\">1 tháng</option>\r\n                      <option value=\"90\">3 tháng</option>\r\n                      <option value=\"18250\">Vô thời hạn</option>\r\n                    </select>\r\n                    {/* <div className=\"text-danger text-left mb-1\" style={{height: '20px', fontSize: '14px'}}>{errors.title && errors.numberOFExpirationDate.message}</div> */}\r\n                  </div>\r\n                </div>\r\n                <div className=\"wrap-typing\">\r\n                  <div onPaste={e => pasteContent(e)} onKeyDown={e => preventText(e)} id=\"step4_content\" contentEditable=\"true\" placeholder=\"Nội dung tin nhắn\" title=\"Nội dung tin nhắn\" className={`form-control editable-step4 overflow-hidden ${errors.content ? 'is-invalid' : ''}`} onInput={e => counterLetter(e)} {...register('content', { required: 'Xin mời nhập nội dung tin nhắn', maxLength: 512, validate: hasAllSpace })}></div>\r\n                  {counter < 512 && (\r\n                    <span id=\"count\" className=\"counter\">\r\n                      ({counter})\r\n                    </span>\r\n                  )}\r\n                  {/* <textarea id=\"step4_content\" onKeyUp={counterLetter} maxLength=\"512\" className={`form-control overflow-hidden ${errors.content && 'is-invalid'}`} placeholder=\"Nội dung tin nhắn\" title=\"Nội dung tin nhắn\" name=\"content\" {...register('content', { required: 'Xin mời nhập nội dung tin nhắn' })}></textarea> */}\r\n                  {/* {errors.content && <div className=\"text-danger text-left\">{errors.content.message}</div>} */}\r\n                </div>\r\n                <hr />\r\n                <p className=\"text-left mb-2 show-ellipsis\">\r\n                  Hợp đồng: <span className=\"text-site\">{file.origin.name}</span>\r\n                </p>\r\n                <hr style={{ marginTop: '12px' }} />\r\n                <p className=\"text-left mb-0\">\r\n                  Người nhận:{' '}\r\n                  {signers.map((signer, index) => (\r\n                    <>\r\n                      {signer.email != user.email && (\r\n                        <>\r\n                          <b>{signer.fullName} </b>\r\n                          <span className=\"text-secondary\">\r\n                            ({signer.email}){`${index < signers.length - 1 ? ', ' : ''}`}\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  ))}\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          <div className=\"lefttop_corner\"></div>\r\n          <div className=\"leftbottom_corner\"></div>\r\n          <div className=\"righttop_corner\"></div>\r\n          <div className=\"rightbottom_corner\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"new_contract_nav text-center py-3\">\r\n        <button className=\"btn btn_outline_site mx-2 mx-sm-3\" onClick={() => dispatch(setStep(currentStep - 1))}>\r\n          QUAY LẠI\r\n        </button>\r\n        <button className=\"btn btn_site mx-2 mx-sm-3\" onClick={handleSubmit(onSubmit)}>\r\n          {isCreatingContract ? (\r\n            <>\r\n              <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n            </>\r\n          ) : (\r\n            <>GỬI ĐI</>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContractCreateFormSubject;\r\n","import { Modal } from 'react-bootstrap';\r\nimport { useState } from 'react';\r\nimport { ContractCreateForm } from '@Containers/Contract';\r\nimport { IconBigPlus } from '@Components/Icon';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { resetCreateContract } from \"@Redux/Actions/CreateContract\";\r\nimport SimpleBar from 'simplebar-react';\r\nfunction ContractCreateButtonMobile(props) {\r\n  const dispatch = useDispatch();\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const onCloseModal = (isReset = true) => {\r\n    if (isReset) {\r\n      dispatch(resetCreateContract());\r\n    }\r\n    setShowModal(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button className=\"btn btn_site mnc_btn d-block d-lg-none\" onClick={() => setShowModal(true)}>\r\n        <IconBigPlus />\r\n      </button>\r\n      <SimpleBar>\r\n        <Modal show={showModal} onHide={() => onCloseModal()} className=\"create-contract\" dialogClassName=\"modal_full m-0 my-sm-0 mx-sm-auto\">\r\n          <Modal.Body className=\"p-0\">\r\n            <ContractCreateForm onCloseModal={() => onCloseModal()} />\r\n          </Modal.Body>\r\n        </Modal>\r\n      </SimpleBar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ContractCreateButtonMobile;\r\n","export default __webpack_public_path__ + \"static/media/logo_w.d504d50c.webp\";","export default function IconCancel() {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" className=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\r\n            {/* <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"></path> */}\r\n            <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n}\r\n","import { IconCalendar, IconDropdownFilter } from '@Components/Icon';\r\nimport { useEffect, useRef } from 'react';\r\nimport { Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport IconCancel from '@Components/Icon/IconCancel';\r\nimport { useState } from 'react';\r\nconst ContractFilter = props => {\r\n  const location = useLocation();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    setValue,\r\n    getValues,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const filter = useRef();\r\n  const close_af = useRef();\r\n  const history = useHistory();\r\n  function showAdvanceFilter() {\r\n    let extend_filter = document.getElementById('extend_filter');\r\n    extend_filter.style.display = 'none';\r\n    filter.current.classList.toggle('af_show');\r\n  }\r\n\r\n  const watchSearch = watch('search', '');\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mouseup', e => {\r\n      let extend_filter = document.getElementById('extend_filter');\r\n      let dp = document.getElementsByClassName('datepicker-dropdown')[0];\r\n      let container = filter.current;\r\n      if (container !== undefined && container !== null) {\r\n        if (!container.contains(e.target)) {\r\n          if (dp !== undefined && dp.contains(e.target)) {\r\n          } else {\r\n            container.classList.remove('af_show');\r\n            extend_filter.style.display = 'block';\r\n          }\r\n        }\r\n        if (close_af.current.contains(e.target)) {\r\n          container.classList.remove('af_show');\r\n          extend_filter.style.display = 'block';\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  function formatDate(value) {\r\n    if (value) {\r\n      const arr = value.split('/')\r\n      return arr[2] + '-' + arr[1] + '-' + arr[0];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  function onSubmit(value) {\r\n    let type = '';\r\n    if (value.contractSend) {\r\n      type = 'CREATER';\r\n    }\r\n    if (value.contractReceive) {\r\n      type = 'GUEST';\r\n    }\r\n    if (value.contractSend && value.contractReceive) {\r\n      type = '';\r\n    }\r\n    const params = {\r\n      search: value.search.trim(),\r\n      partner: value.partner.trim(),\r\n      topic: value.topic.trim(),\r\n      fromDate: formatDate(document.getElementById('from-date').value),\r\n      toDate: formatDate(document.getElementById('to-date').value),\r\n      type: type,\r\n    };\r\n    Object.keys(params).forEach(key => {\r\n      if (!params[key]) {\r\n        delete params[key];\r\n      }\r\n    });\r\n    history.push('/tim-kiem-hop-dong?' + new URLSearchParams(params).toString());\r\n  }\r\n\r\n  function deleteSearch(value) {\r\n    setValue('search', '');\r\n  }\r\n\r\n  useEffect(() => {\r\n    const { pathname } = location;\r\n    if (location.pathname.indexOf('tim-kiem-hop-dong') == -1) {\r\n      reset();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [location.pathname]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"filter_input\">\r\n        <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\r\n          <OverlayTrigger overlay={<Tooltip> Tìm kiếm</Tooltip>} placement=\"bottom\">\r\n            {({ ref, ...triggerHandler }) => (\r\n              <Button {...triggerHandler} type=\"submit\" ref={ref} variant=\"light\" className=\"position-absolute\" id=\"gosearch_btn\">\r\n                <IconDropdownFilter />\r\n              </Button>\r\n            )}\r\n          </OverlayTrigger>\r\n          <input\r\n            type=\"text\"\r\n            className=\"general_search form-control\"\r\n            name=\"search\"\r\n            placeholder=\"Tìm kiếm hợp đồng\"\r\n            aria-label=\"Recipient's username\"\r\n            aria-describedby=\"button-addon2\"\r\n            {...register('search')}\r\n          />\r\n          {watchSearch ? (\r\n            <>\r\n              <OverlayTrigger overlay={<Tooltip> Xóa tìm kiếm </Tooltip>} placement=\"bottom\">\r\n                {({ ref, ...triggerHandler }) => (\r\n                  <Button\r\n                    {...triggerHandler}\r\n                    ref={ref}\r\n                    variant=\"\"\r\n                    className=\"icon_delete\"\r\n                    onClick={() => {\r\n                      deleteSearch();\r\n                    }}\r\n                  >\r\n                    <IconCancel />\r\n                  </Button>\r\n                )}\r\n              </OverlayTrigger>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div className=\"right_gs\">\r\n            <OverlayTrigger overlay={<Tooltip> Tìm kiếm nâng cao </Tooltip>} placement=\"bottom\">\r\n              {({ ref, ...triggerHandler }) => (\r\n                <Button {...triggerHandler} ref={ref} variant=\"\" className=\"btn_more\" id=\"extend_filter\" onClick={showAdvanceFilter}>\r\n                  &#9660;\r\n                </Button>\r\n              )}\r\n            </OverlayTrigger>\r\n          </div>\r\n          {/* <!-- Advanced Filter --> */}\r\n          <div id=\"advanced_filter\" ref={filter} className=\"shadow animated-filter-grow-in\">\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"partnerInput\" className=\"col-auto col-form-label\">\r\n                Đối tác\r\n              </label>\r\n              <div className=\"col-sm\">\r\n                <input type=\"text\" className=\"form-control\" autoComplete=\"off\" id=\"partnerInput\" {...register('partner')} />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label htmlFor=\"subjectInput\" className=\"col-auto col-form-label\">\r\n                Chủ đề\r\n              </label>\r\n              <div className=\"col-sm\">\r\n                <input type=\"text\" className=\"form-control\" autoComplete=\"off\" id=\"subjectInput\" {...register('topic')} />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row input-daterange\">\r\n              <label htmlFor=\"subjectInput\" className=\"col-auto col-form-label pr-0\">\r\n                Thời gian\r\n              </label>\r\n              <div className=\"col-sm pr-3 pr-sm-1 pr-md-3 mb-2 mb-sm-0\">\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    id=\"fromDate\"\r\n                    type=\"text\"\r\n                    className=\"form-control datepicker-date\"\r\n                    id=\"from-date\"\r\n                    placeholder=\"Từ ngày\"\r\n                    aria-label=\"Từ ngày\"\r\n                    aria-describedby=\"button-addon2\"\r\n                    {...register('fromDate')}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text bg-transparent\" id=\"basic-addon2\">\r\n                      <IconCalendar />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-sm pl-3 pl-sm-1 pl-md-3\">\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control datepicker-date\"\r\n                    id=\"to-date\"\r\n                    placeholder=\"Đến ngày\"\r\n                    aria-label=\"Đến ngày\"\r\n                    aria-describedby=\"button-addon22\"\r\n                    {...register('toDate')}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text bg-transparent\" id=\"basic-addon22\">\r\n                      <IconCalendar />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <div className=\"custom-control custom-checkbox custom-control-inline mb-2 mb-sm-0\" style={{ marginRight: '30px' }}>\r\n                  <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheckFrom\" {...register('contractReceive')} />\r\n                  <label className=\"custom-control-label\" htmlFor=\"customCheckFrom\">\r\n                    Hợp đồng đến\r\n                  </label>\r\n                </div>\r\n                <div className=\"custom-control custom-checkbox custom-control-inline\">\r\n                  <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheckTo\" {...register('contractSend')} />\r\n                  <label className=\"custom-control-label\" htmlFor=\"customCheckTo\">\r\n                    Hợp đồng đi\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col text-right\">\r\n                <button type=\"submit\" className=\"btn btn_new mt-2\" ref={close_af}>\r\n                  Tìm kiếm\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/*  End Advanced Filter  */}\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContractFilter;\r\n","import { NOTIFICATION_ACTION } from '@Consts/action';\r\n\r\nfunction setNotifications(notifications) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.SET_NOTIFICATIONS,\r\n    payload: notifications,\r\n  };\r\n}\r\n\r\nfunction addNotification(notification) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.ADD_NOTIFICATION,\r\n    payload: notification,\r\n  };\r\n}\r\n\r\nfunction removeNotification(id) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.REMOVE_NOTIFICATION,\r\n    payload: id,\r\n  };\r\n}\r\n\r\nfunction updateAllNotifications(notifications) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.UPDATE_ALL_NOTIFICATIONS,\r\n    payload: notifications,\r\n  };\r\n}\r\n\r\nfunction setNewContractNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.SET_NEW_CONTRACT_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction updateNewContractNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.UPDATE_NEW_CONTRACT_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setCommentNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.SET_COMMENT_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction updateCommentNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.UPDATE_COMMENT_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction setExpireNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.SET_EXPIRE_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction updateExpireNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.UPDATE_EXPIRE_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\nfunction upDateStatusNotifications(data) {\r\n  return {\r\n    type: NOTIFICATION_ACTION.UPDATE_STATUS_NOTIFICATIONS,\r\n    payload: data,\r\n  };\r\n}\r\n\r\nexport { setNotifications, addNotification, removeNotification, updateAllNotifications, setNewContractNotifications, updateNewContractNotifications, setCommentNotifications, updateCommentNotifications, setExpireNotifications, updateExpireNotifications, upDateStatusNotifications };\r\n","declare var io: any;\r\n\r\nconst BASE_URL = 'https://mcontract.vn/notify';\r\n// const BASE_URL = 'wss://digital-signature.api.demo-amit.com/notify';\r\nconst NOTIFICATION_EVENT = 'notify';\r\n\r\n// interface EventData {\r\n//   contractId: number;\r\n//   contractName: number;\r\n//   type: string; // Phân biệt các loại notification\r\n//   detail: any; // Dữ liệu tùy theo type\r\n// }\r\n\r\nclass Socket {\r\n  connection: any;\r\n\r\n  startConnect(token: string, callback = () => {}) {\r\n    if (this.connection && this.connection.connected) {\r\n      callback();\r\n    } else {\r\n      this.connect(token, callback);\r\n    }\r\n  }\r\n\r\n  connect(token: string, callback = () => {}) {\r\n    this.connection = null;\r\n    const url = `${BASE_URL}?token=${token}`;\r\n    this.connection = io(url, {\r\n      transports: ['websocket'],\r\n      reconnection: true,\r\n      reconnectionAttempts: Infinity,\r\n      reconnectionDelay: 100,\r\n      reconnectionDelayMax: 500\r\n    });\r\n    this.connection.on('connect', () => {\r\n      callback();\r\n    });\r\n  }\r\n\r\n  onTimeout = (callback: (data: any) => void) => {\r\n    this.connection.on('timeout', (e: any) => {\r\n      callback(e);\r\n    });\r\n  };\r\n\r\n  onNotify = (callback: (data: any) => void) => {\r\n    this.connection.on(NOTIFICATION_EVENT, (e: any) => {\r\n      if (e.type) {\r\n        callback(e);\r\n      }\r\n    });\r\n  };\r\n\r\n  offNotify = () => {\r\n    this.connection.off(NOTIFICATION_EVENT, () => {});\r\n  };\r\n}\r\n\r\nexport default new Socket();\r\n","import { timeDesc } from '@Utils/helpers';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst NotificationTime = ({ notify }) => {\r\n  const [time, setTime] = useState(timeDesc(new Date(notify.createdTime)));\r\n  let timeout;\r\n  useEffect(() => {\r\n    const createdDate = new Date(notify.createdTime);\r\n    const today = new Date();\r\n    if (notify.type.toUpperCase() != 'EXPIRE') {\r\n      if (today.getDate() != createdDate.getDate()) {\r\n        const d = new Date(notify.createdTime);\r\n        setTime(('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' + d.getFullYear());\r\n      } else {\r\n        timeout = setInterval(() => {\r\n          setTime(timeDesc(new Date(notify.createdTime)));\r\n        }, 1000);\r\n        return () => {\r\n          clearInterval(timeout);\r\n        };\r\n      }\r\n    } else {\r\n      const d = new Date(notify.expiredTime);\r\n      setTime(('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' + d.getFullYear());\r\n    }\r\n  }, []);\r\n  return <>{time}</>;\r\n};\r\n\r\nexport default NotificationTime;","import NotificationTime from \"../NotificationTime\";\r\n\r\nfunction NotificationStatus({ notification }) {\r\n  switch (notification.type) {\r\n    case 'NEWCONTRACT':\r\n      return (\r\n        <>\r\n          <span>Đã gửi:</span> <span className=\"time\"> <NotificationTime key={`notification_time_${notification.id}`} notify={notification} /></span>\r\n        </>\r\n      );\r\n    case 'SIGN':\r\n      return (\r\n        <>\r\n          <span>Đã ký:</span> <span className=\"time\"><NotificationTime key={`notification_time_${notification.id}`} notify={notification} /></span>\r\n        </>\r\n      );\r\n    case 'COMMENT':\r\n      return (\r\n        <>\r\n          <span>Đã phản hồi:</span> <span className=\"time\"><NotificationTime key={`notification_time_${notification.id}`} notify={notification} /></span>\r\n        </>\r\n      );\r\n    case 'EXPIRE':\r\n      return (\r\n        <>\r\n          <span>Hết hạn vào:</span> <span className=\"time\"><NotificationTime key={`notification_time_${notification.id}`} notify={notification} /></span>\r\n        </>\r\n      );\r\n\r\n    default:\r\n      return <></>;\r\n  }\r\n}\r\nexport default NotificationStatus;","import { IconChatRightText, IconClockHistory, IconFileText, IconPencil } from '@Components/Icon';\r\n\r\nfunction NotificationIcon({ category }) {\r\n  switch (category) {\r\n    case 'NEWCONTRACT':\r\n      return (\r\n        <>\r\n          <IconFileText />\r\n        </>\r\n      );\r\n    case 'SIGN':\r\n      return (\r\n        <>\r\n          <IconPencil />\r\n        </>\r\n      );\r\n    case 'COMMENT':\r\n      return (\r\n        <>\r\n          <IconChatRightText />\r\n        </>\r\n      );\r\n    case 'EXPIRE':\r\n      return (\r\n        <>\r\n          <IconClockHistory />\r\n        </>\r\n      );\r\n    default:\r\n      return (\r\n        <>\r\n          <IconFileText />\r\n        </>\r\n      );\r\n  }\r\n}\r\n\r\nexport default NotificationIcon;","import { DefaultAPI, SignerAPI } from '@Utils/axios';\r\nimport { COMMENT } from '@Enums/endpoints';\r\n\r\nclass CommentService {\r\n  static list = contractId => {\r\n    const url = COMMENT.LIST.replace('{contractId}', contractId);\r\n    return DefaultAPI.get(url);\r\n  };\r\n\r\n  static create = data => {\r\n    const url = COMMENT.CREATE;\r\n    return DefaultAPI.post(url, data);\r\n  };\r\n\r\n  static listCommentSigner = token => {\r\n    const url = COMMENT.LIST_COMMENT_SIGNER;\r\n    return SignerAPI.get(url, {\r\n      headers: {\r\n        Signer: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  static createCommentSigner = (token, data) => {\r\n    const url = COMMENT.CREATE_COMMENT_SIGNER;\r\n    return DefaultAPI.post(url, data, {\r\n      headers: {\r\n        Signer: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  static markCommentUser = (commentId) => {\r\n    const url = COMMENT.MARKED_COMMENT_USER.replace('{commentId}', commentId);\r\n    return DefaultAPI.put(url);\r\n  };\r\n\r\n  static markCommentSigner = (token, commentId) => {\r\n    const url = COMMENT.MARKED_COMMENT_SIGNER.replace('{commentId}', commentId);\r\n    return SignerAPI.put(url, {}, {\r\n      headers: {\r\n        Signer: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n}\r\nexport default CommentService;\r\n","import NotificationStatus from '../NotificationStatus';\r\nimport { setCommentNotifications, setNewContractNotifications, setExpireNotifications } from '@Redux/Actions/Notification';\r\nimport NotificationIcon from '../NotificationIcon';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport {} from 'react-router-dom';\r\nimport { setFocusComment, setFocusSign } from '@Redux/Actions/DetailContract';\r\nimport { setPdfCurrentPage, setPreviewCurrentPage } from '@Redux/Actions/DetailContract';\r\nimport CommentService from '@Services/comment';\r\nimport GeneralService from '@Services/general';\r\nimport AuthService from '@Services/auth';\r\nimport { setReadyForReloadStatistics, setStatistics, setSumUnreadNotification } from '@Redux/Actions/Data';\r\nfunction NotificationItem({ notification }) {\r\n  const { notifications } = useSelector(selector => selector.notification.comment);\r\n  const { unreadNotification } = useSelector(state => state.data);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  function getContent(notification) {\r\n    switch (notification.type) {\r\n      case 'NEWCONTRACT':\r\n        return `${notification.contractContent}`;\r\n      case 'SIGN':\r\n        return `${notification.contractContent}`;\r\n      case 'COMMENT':\r\n        return `${notification.commentContent}`;\r\n      case 'EXPIRE':\r\n        return `${notification.contractContent}`;\r\n      default:\r\n        return `${notification.contractContent}`;\r\n    }\r\n  }\r\n\r\n  function onFocusComment(notify) {\r\n    const notifyData = {\r\n      id: notify.commentId,\r\n      content: notify.commentContent,\r\n      parentId: notify.commentParentId ? notify.commentParentId : null,\r\n      x: notify.commentX || null,\r\n      y: notify.commentY || null,\r\n      page: notify.commentPage || null,\r\n      signer: notify.signerId\r\n        ? {\r\n            id: notify.signerId ? notify.signerId : null,\r\n            fullName: notify.signerFullName ? notify.signerFullName : '',\r\n            email: notify.signerEmail ? notify.signerEmail : '',\r\n          }\r\n        : null,\r\n      user: notify.userId\r\n        ? {\r\n            id: notify.userId ? notify.userId : null,\r\n            fullName: notify.userName || '',\r\n            email: notify.userEmail || '',\r\n            avatarPath: notify.userAvatar,\r\n          }\r\n        : null,\r\n      childCommentDtos: [],\r\n      createdTime: new Date(notify.commentCreatedTime ? notify.commentCreatedTime : notify.createdTime).toISOString(),\r\n      isRead: notify.status ? notify.status : false,\r\n    };\r\n    if (notify.type == 'COMMENT' || notify.type == 'SIGN') {\r\n      if (notify.type == 'COMMENT') {\r\n        dispatch(setFocusComment(notifyData));\r\n      }\r\n      if (notify.type == 'SIGN') {\r\n        dispatch(setFocusSign(notifyData));\r\n      }\r\n      dispatch(setPdfCurrentPage(notifyData.page));\r\n      dispatch(setPreviewCurrentPage(notifyData.page));\r\n    }\r\n  }\r\n\r\n  async function markedSingle(notify) {\r\n    // if (notify.type == 'COMMENT' || notify.type == 'SIGN') {\r\n    //   onFocusComment(notify);\r\n    // }\r\n    if (!notify.status) {\r\n      await AuthService.markedNotification(notify.contractId, notify.id);\r\n      dispatch(setSumUnreadNotification(unreadNotification ? unreadNotification - 1 : 0));\r\n      const newArr = [\r\n        ...[],\r\n        ...notifications.map(n => {\r\n          if (n.id == notify.id) {\r\n            return { ...n, status: true };\r\n          }\r\n          return n;\r\n        }),\r\n      ];\r\n      switch (notify.type) {\r\n        case 'NEWCONTRACT':\r\n          dispatch(setNewContractNotifications({ notifications: newArr }));\r\n          break;\r\n        case 'COMMENT':\r\n          dispatch(setCommentNotifications({ notifications: newArr }));\r\n          break;\r\n        case 'SIGN':\r\n          dispatch(setCommentNotifications({ notifications: newArr }));\r\n          break;\r\n        case 'EXPIRE':\r\n          dispatch(setExpireNotifications({ notifications: newArr }));\r\n          break;\r\n      }\r\n      if (notify.type == 'COMMENT') {\r\n        await CommentService.markCommentUser(notify.commentId ? notify.commentId : notify.data.id);\r\n      }\r\n    }\r\n    switch (notify.type) {\r\n      case 'COMMENT':\r\n        history.push(`/hop-dong/${notify.contractId}?commentId=${notify.commentId}`);\r\n        break;\r\n      case 'SIGN':\r\n        history.push(`/hop-dong/${notify.contractId}?signerId=${notify.signerId ? notify.signerId : notify.userId}`);\r\n        break;\r\n      default:\r\n        history.push(`/hop-dong/${notify.contractId}`);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <a style={{ cursor: 'pointer' }} className={`noti_item ${notification.status ? '' : 'unread'}`} onClick={() => markedSingle(notification)}>\r\n      {/* <a style={{ cursor: 'pointer' }} to={`/hop-dong/${notification.contractId}`} className={`noti_item ${notification.status ? \"\" : \"unread\"}`} onClick={() => markedSingle(notification.id)}> */}\r\n      <div className=\"row mx-0 px-1\">\r\n        <div className=\"col-auto pr-0 pl-2\">\r\n          {notification.userAvatar ? (\r\n            <img\r\n              src={notification.userAvatar ? notification.userAvatar : ''}\r\n              className=\"rounded-circle person_img\"\r\n              onError={e => {\r\n                e.target.onerror = null;\r\n                // e.target.parentNode.innerHTML = (`<div class=\"pimg_alt\">${GeneralService.getLetterName(notification.userName ? notification.userName : notification.signerFullName)}</div> <div className=\"noti_sicon\">${<NotificationIcon key={`notification_icon_${notification.id}`} notification={notification.type} />}</div>`);\r\n              }}\r\n              alt=\"\"\r\n            />\r\n          ) : (\r\n            <div className=\"pimg_alt\">{GeneralService.getLetterName(notification.userName ? notification.userName : notification.signerFullName)}</div>\r\n          )}\r\n          <div className=\"noti_sicon\">\r\n            <NotificationIcon key={`notification_icon_${notification.id}`} notification={notification.type} />\r\n          </div>\r\n        </div>\r\n        <div className=\"col noti_text\">\r\n          <div>\r\n            <div className=\"noti_name\">\r\n              {notification.signerFullName ? notification.signerFullName : notification.userName} - {notification.contractName}\r\n            </div>\r\n            <div className=\"noti_content\">{getContent(notification)}</div>\r\n          </div>\r\n          <div className=\"noti_meta\">\r\n            <NotificationStatus key={`notification_status_${notification.id}`} notification={notification} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* </a> */}\r\n    </a>\r\n  );\r\n}\r\n\r\nexport default NotificationItem;\r\n","import { setCommentNotifications, updateCommentNotifications } from '@Redux/Actions/Notification';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setReadyForReloadStatistics, setStatistics, setSumUnreadNotification } from '@Redux/Actions/Data';\r\nimport AuthService from '@Services/auth';\r\nimport NotificationItem from '../NotificationItem';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\n\r\nconst NotificationComment = () => {\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const { comment, newContract, expire } = useSelector(state => state.notification);\r\n  const { unreadNotification } = useSelector(state => state.data);\r\n  const unReadRef = useRef(0);\r\n  const { currentPage, pageSize, totalItems, totalPage, notifications } = useSelector(selector => selector.notification.comment);\r\n  const dispatch = useDispatch();\r\n\r\n  const onScroll = e => {\r\n    if (!isRequesting) {\r\n      const contain = e.target;\r\n      if (contain.scrollHeight - contain.offsetHeight - contain.scrollTop < 50 && (currentPage < totalPage)) {\r\n        getNotifications(currentPage + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const markedAll = async () => {\r\n    try {\r\n      await AuthService.markedAllNotifications({});\r\n      const newArr = [...[], ...notifications.map(n => {\r\n        return { ...n, status: true };\r\n      })]\r\n      dispatch(setSumUnreadNotification((unReadRef.current ? unReadRef.current : 0) - (comment.totalUnread ? comment.totalUnread : 0)));\r\n      dispatch(setCommentNotifications({ totalUnread: 0, notifications: newArr }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Lấy danh sách Notification theo Page\r\n   * Default Page = 1\r\n   * Nếu page = 1 thì reset notifications trong redux\r\n   */\r\n  const getNotifications = async (page = 1) => {\r\n    try {\r\n      setIsRequesting(true);\r\n      const res = await AuthService.getNotificationType({ size: pageSize, currentPage: page });\r\n      const data = {\r\n        currentPage: page,\r\n        pageSize: pageSize,\r\n        totalItems: res.total || pageSize,\r\n        totalPage: res.totalPage || 1,\r\n        notifications: res.data || [],\r\n        totalUnread: res.totalUnread || 0\r\n      };\r\n      if (page <= 1) {\r\n        dispatch(setCommentNotifications(data));\r\n      } else {\r\n        dispatch(updateCommentNotifications(data));\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    unReadRef.current = unreadNotification ? unreadNotification : 0;\r\n  }, [unreadNotification]);\r\n\r\n  useEffect(() => {\r\n    // if (notifications.length == 0) {\r\n    getNotifications();\r\n    // }\r\n  }, []);\r\n  return (\r\n    <>\r\n      {currentPage > 0 && notifications.length > 0 ? (\r\n        <>\r\n          <PerfectScrollbar suppressScrollX=\"true\" onScroll={e => onScroll(e)}>\r\n            <div className=\"scrollnoti_wrapper\">\r\n              {notifications.map((noti, index) => {\r\n                return <NotificationItem notification={noti} key={`notification_${noti.id}`} />;\r\n              })}\r\n              {isRequesting && (\r\n                <div className=\"p-2\">\r\n                  <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                </div>\r\n              )}\r\n            </div>\r\n          </PerfectScrollbar>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"p-2\">Không có thông báo nào.</div>\r\n        </>\r\n      )}\r\n\r\n      {currentPage > 0 && notifications.length > 0 && (\r\n        <a href=\"javascript:void(0)\" className=\"markread\" onClick={() => markedAll('COMMENT')}>\r\n          Đánh dấu tất cả là đã đọc\r\n        </a>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationComment;\r\n","import { setExpireNotifications, updateExpireNotifications, upDateStatusNotifications } from '@Redux/Actions/Notification';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AuthService from '@Services/auth';\r\nimport NotificationItem from '../NotificationItem';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { setReadyForReloadStatistics, setStatistics, setSumUnreadNotification } from '@Redux/Actions/Data';\r\n\r\nconst NotificationExpire = () => {\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const { comment, newContract, expire } = useSelector(state => state.notification);\r\n  const { unreadNotification } = useSelector(state => state.data);\r\n  const { currentPage, pageSize, totalItems, totalPage, notifications } = useSelector(selector => selector.notification.expire);\r\n  const dispatch = useDispatch();\r\n  const unReadRef = useRef(0);\r\n\r\n  const onScroll = e => {\r\n    if (!isRequesting) {\r\n      const contain = e.target;\r\n      if (contain.scrollHeight - contain.offsetHeight - contain.scrollTop < 50 && (currentPage < totalPage)) {\r\n        getNotifications(currentPage + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const markedAll = async () => {\r\n    try {\r\n      await AuthService.markedAllNotifications({ type: 'EXPIRE' });\r\n      const newArr = [...[], ...notifications.map(n => {\r\n        return { ...n, status: true };\r\n      })]\r\n      dispatch(setSumUnreadNotification((unReadRef.current ? unReadRef.current : 0) - (expire.totalUnread ? expire.totalUnread : 0)));\r\n      dispatch(setExpireNotifications({ totalUnread: 0, notifications: newArr }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Lấy danh sách Notification theo Page\r\n   * Default Page = 1\r\n   * Nếu page = 1 thì reset notifications trong redux\r\n   */\r\n  const getNotifications = async (page = 1) => {\r\n    try {\r\n      setIsRequesting(true);\r\n      const res = await AuthService.getNotificationType({ type: 'EXPIRE', size: pageSize, currentPage: page });\r\n      const data = {\r\n        currentPage: page,\r\n        pageSize: pageSize,\r\n        totalItems: res.total || pageSize,\r\n        totalPage: res.totalPage || 1,\r\n        notifications: res.data || [],\r\n        totalUnread: res.totalUnread || 0\r\n      };\r\n      if (page <= 1) {\r\n        dispatch(setExpireNotifications(data));\r\n      } else {\r\n        dispatch(updateExpireNotifications(data));\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    unReadRef.current = unreadNotification ? unreadNotification : 0;\r\n  }, [unreadNotification]);\r\n  useEffect(() => {\r\n    // if (notifications.length == 0) {\r\n    getNotifications();\r\n    // }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {currentPage > 0 && notifications.length > 0 ? (\r\n        <>\r\n          <PerfectScrollbar suppressScrollX=\"true\" onScroll={e => onScroll(e)}>\r\n            <div className=\"scrollnoti_wrapper\">\r\n              {notifications.map((noti, index) => {\r\n                return <NotificationItem notification={noti} key={`notification_${noti.id}`} />;\r\n              })}\r\n              {isRequesting && (\r\n                <div className=\"p-2\">\r\n                  <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                </div>\r\n              )}\r\n            </div>\r\n          </PerfectScrollbar>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"p-2\">Không có thông báo nào.</div>\r\n        </>\r\n      )}\r\n\r\n      {currentPage > 0 && notifications.length > 0 && (\r\n        <a href=\"javascript:void(0)\" className=\"markread\" onClick={() => markedAll()}>\r\n          Đánh dấu tất cả là đã đọc\r\n        </a>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationExpire;\r\n","import { setNewContractNotifications, updateNewContractNotifications, upDateStatusNotifications } from '@Redux/Actions/Notification';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AuthService from '@Services/auth';\r\nimport NotificationItem from '../NotificationItem';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport PerfectScrollbar from 'react-perfect-scrollbar';\r\nimport { setReadyForReloadStatistics, setStatistics, setSumUnreadNotification } from '@Redux/Actions/Data';\r\n\r\nconst NotificationNewContract = () => {\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const { comment, newContract, expire } = useSelector(state => state.notification);\r\n  const { unreadNotification } = useSelector(state => state.data);\r\n  const { currentPage, pageSize, totalItems, totalPage, notifications } = useSelector(selector => selector.notification.newContract);\r\n  const dispatch = useDispatch();\r\n  const unReadRef = useRef(0);\r\n\r\n  const onScroll = e => {\r\n    if (!isRequesting) {\r\n      const contain = e.target;\r\n      if (contain.scrollHeight - contain.offsetHeight - contain.scrollTop < 50 && (currentPage < totalPage)) {\r\n        getNotifications(currentPage + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const markedAll = async () => {\r\n    try {\r\n      await AuthService.markedAllNotifications({ type: 'NEWCONTRACT' });\r\n      const newArr = [...[], ...notifications.map(n => {\r\n        return { ...n, status: true };\r\n      })]\r\n      dispatch(setSumUnreadNotification((unReadRef.current ? unReadRef.current : 0) - (newContract.totalUnread ? newContract.totalUnread : 0)));\r\n      dispatch(setNewContractNotifications({ totalUnread: 0, notifications: newArr }))\r\n      // dispatch(upDateStatusNotifications(notifications));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Lấy danh sách Notification theo Page\r\n   * Default Page = 1\r\n   * Nếu page = 1 thì reset notifications trong redux\r\n   */\r\n  const getNotifications = async (page = 1) => {\r\n    try {\r\n      setIsRequesting(true);\r\n      const res = await AuthService.getNotificationType({ type: 'NEWCONTRACT', size: pageSize, currentPage: page });\r\n      const data = {\r\n        currentPage: page,\r\n        pageSize: pageSize,\r\n        totalItems: res.total || pageSize,\r\n        totalPage: res.totalPage || 1,\r\n        notifications: res.data || [],\r\n        totalUnread: res.totalUnread || 0\r\n      };\r\n      if (page <= 1) {\r\n        dispatch(setNewContractNotifications(data));\r\n      } else {\r\n        dispatch(updateNewContractNotifications(data));\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    unReadRef.current = unreadNotification ? unreadNotification : 0;\r\n  }, [unreadNotification]);\r\n\r\n  useEffect(() => {\r\n    // if (notifications.length == 0) {\r\n    getNotifications();\r\n    // }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {currentPage > 0 && notifications.length > 0 ? (\r\n        <>\r\n          <PerfectScrollbar suppressScrollX=\"true\" onScroll={e => onScroll(e)}>\r\n            <div className=\"scrollnoti_wrapper\">\r\n              {notifications.map((noti, index) => {\r\n                return <NotificationItem notification={noti} key={`notification_${noti.id}`} />;\r\n              })}\r\n              {isRequesting && (\r\n                <div className=\"p-2\">\r\n                  <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                </div>\r\n              )}\r\n            </div>\r\n          </PerfectScrollbar>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"p-2\">Không có thông báo nào.</div>\r\n        </>\r\n      )}\r\n\r\n      {currentPage > 0 && notifications.length > 0 && (\r\n        <a href=\"javascript:void(0)\" className=\"markread\" onClick={() => markedAll()}>\r\n          Đánh dấu tất cả là đã đọc\r\n        </a>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationNewContract;\r\n","import { NEW_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setNewContracts(contracts) {\r\n    return {\r\n        type: ACTION.SET_NEW_CONTRACTS,\r\n        payload: contracts,\r\n    };\r\n}\r\n\r\nfunction setReadyForReloading(readyForReloading) {\r\n    return {\r\n        type: ACTION.SET_READY_FOR_RELOADING,\r\n        payload: readyForReloading\r\n    }\r\n}\r\nexport {\r\n    setNewContracts,\r\n    setReadyForReloading\r\n};","export class SOCKET_ACTION {\r\n  static JOIN_DASHBOARD = 1;\r\n  static JOIN_CONTRACT_DETAIL = 2;\r\n  static LEAVE_DASHBOARD = -1;\r\n  static LEAVE_CONTRACT_DETAIL = -2;\r\n}\r\n","import { setCommentNotifications, setExpireNotifications, setNewContractNotifications } from '@Redux/Actions/Notification';\r\nimport { get } from '@Utils/cookie';\r\nimport Socket from '@Utils/socket';\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport NotificationComment from './NotificationComment';\r\nimport NotificationExpire from './NotificationExpire';\r\nimport NotificationNewContract from './NotificationNewContract';\r\nimport { setReadyForReloadStatistics, setStatistics, setSumUnreadNotification } from '@Redux/Actions/Data';\r\nimport { setReadyForReloading as setReadyForReloadNewContract } from '@Redux/Actions/NewContract';\r\nimport { setReadyForReloading as setReadyForReloadListContract } from '@Redux/Actions/ListContract';\r\nimport { SOCKET_ACTION } from '@Enums/socket';\r\nimport ContractService from '@Services/contract';\r\nimport AuthService from '@Services/auth';\r\n\r\nfunction NotificationDropdown() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state => state.auth.user);\r\n  const { comment, newContract, expire } = useSelector(state => state.notification);\r\n  const { unreadNotification } = useSelector(state => state.data);\r\n  const unReadRef = useRef(0);\r\n  const { currentPage } = useSelector(state => state.notification.comment);\r\n  const commentRef = useRef(comment);\r\n  const newContractRef = useRef(newContract);\r\n  const expireRef = useRef(expire);\r\n  const [notyLatest, setNotyLatest] = useState(null);\r\n\r\n  const getNewestNotify = () => {\r\n    const commentNotify = commentRef.current.notifications[0] || null;\r\n    const newContractNotify = newContractRef.current.notifications[0] || null;\r\n    const expireNotify = expireRef.current.notifications[0] || null;\r\n    const arr = [commentNotify, newContractNotify, expireNotify].filter(n => !!n);\r\n    if (arr.length > 0) {\r\n      const c = arr.sort((a, b) => {\r\n        return new Date(b.createdTime).getTime() - new Date(a.createdTime).getTime();\r\n      });\r\n      setNotyLatest(c[0]);\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const addNewNotification = (notify, array) => {\r\n    const newArray = [...[notify], ...array];\r\n    // eslint-disable-next-line default-case\r\n    switch (notify.type) {\r\n      case 'NEWCONTRACT':\r\n        if (newArray > newContractRef.current.pageSize) {\r\n          newArray.pop();\r\n        }\r\n        break;\r\n      case 'COMMENT':\r\n        if (newArray > commentRef.current.pageSize) {\r\n          newArray.pop();\r\n        }\r\n        break;\r\n      case 'SIGN':\r\n        if (newArray > commentRef.current.pageSize) {\r\n          newArray.pop();\r\n        }\r\n        break;\r\n      case 'EXPIRE':\r\n        if (newArray > expireRef.current.pageSize) {\r\n          newArray.pop();\r\n        }\r\n        break;\r\n    }\r\n    return newArray;\r\n  };\r\n\r\n  const onDropdownToggle = isShow => {\r\n    if (document.querySelector('#notiTabContent .tab-pane.active')) {\r\n      document.querySelector('#notiTabContent .tab-pane.active').classList.remove('active');\r\n      document.querySelector('#notiTabContent .tab-pane').className = document.querySelector('#notiTabContent .tab-pane').className + ' show active';\r\n    }\r\n    if (document.querySelector('#notiTab a.active')) {\r\n      document.querySelector('#notiTab a.active').classList.remove('active');\r\n      document.querySelector('#notiTab a').className = document.querySelector('#notiTab a').className + ' active';\r\n    }\r\n    if (isShow) {\r\n      setNotyLatest(null);\r\n      getNewestNotify();\r\n    } else {\r\n      setNotyLatest(null);\r\n    }\r\n  };\r\n\r\n  const getNotiReply = async () => {\r\n    const res = await AuthService.getNotificationType({ size: 15, currentPage: 1 });\r\n    const data = {\r\n      currentPage: currentPage,\r\n      pageSize: 15,\r\n      totalItems: res.total || 15,\r\n      totalPage: res.totalPage || 1,\r\n      notifications: res.data || [],\r\n    };\r\n    dispatch(setCommentNotifications(data));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = get('digital_signature_token');\r\n    Socket.startConnect(token, () => {\r\n      Socket.connection.emit('notify', {\r\n        type: SOCKET_ACTION.JOIN_DASHBOARD,\r\n      });\r\n      Socket.connection.on('disconnect', () => {\r\n        getNotiReply();\r\n      });\r\n    });\r\n    Socket.onNotify(e => {\r\n      if (e && e.type && e.isDashboard) {\r\n        // eslint-disable-next-line default-case\r\n        if (e.type == 'NEWCONTRACT' || e.type == 'SIGN' || e.type == 'COMMENT' || e.type == 'EXPIRE') {\r\n          dispatch(setSumUnreadNotification(unReadRef.current + 1));\r\n        }\r\n        switch (e.type) {\r\n          case 'NEWCONTRACT':\r\n            if (newContractRef.current.notifications.filter(item => item.id == e.id).length == 0) {\r\n              const arrayNewContract = addNewNotification(e, newContractRef.current.notifications);\r\n              dispatch(\r\n                setNewContractNotifications({\r\n                  currentPage: newContractRef.current.currentPage,\r\n                  totalItems: newContractRef.current.totalItems + 1,\r\n                  totalPage: Math.ceil((newContractRef.current.totalItems + 1) / newContractRef.current.pageSize),\r\n                  pageSize: newContractRef.current.pageSize,\r\n                  notifications: arrayNewContract,\r\n                  totalUnread: newContractRef.current.totalUnread + 1,\r\n                }),\r\n              );\r\n            }\r\n            break;\r\n          case 'SIGN':\r\n            if (user.id != (e.userId ? e.userId : e.signerId)) {\r\n              if (commentRef.current.notifications.filter(item => item.id == e.id).length == 0) {\r\n                const arraySign = addNewNotification(e, commentRef.current.notifications);\r\n                dispatch(\r\n                  setCommentNotifications({\r\n                    currentPage: commentRef.current.currentPage,\r\n                    totalItems: commentRef.current.totalItems + 1,\r\n                    totalPage: Math.ceil((commentRef.current.totalItems + 1) / commentRef.current.pageSize),\r\n                    pageSize: commentRef.current.pageSize,\r\n                    notifications: arraySign,\r\n                    totalUnread: commentRef.current.totalUnread + 1,\r\n                  }),\r\n                );\r\n              }\r\n            }\r\n            break;\r\n          case 'COMMENT':\r\n            if (commentRef.current.notifications.filter(item => item.id == e.id).length == 0) {\r\n              const arrayComment = addNewNotification(e, commentRef.current.notifications);\r\n              dispatch(\r\n                setCommentNotifications({\r\n                  currentPage: commentRef.current.currentPage,\r\n                  totalItems: commentRef.current.totalItems + 1,\r\n                  totalPage: Math.ceil((commentRef.current.totalItems + 1) / commentRef.current.pageSize),\r\n                  pageSize: commentRef.current.pageSize,\r\n                  notifications: arrayComment,\r\n                  totalUnread: commentRef.current.totalUnread + 1,\r\n                }),\r\n              );\r\n            }\r\n            break;\r\n          case 'EXPIRE':\r\n            if (expireRef.current.notifications.filter(item => item.id == e.id).length == 0) {\r\n              const arrayExpire = addNewNotification(e, expireRef.current.notifications);\r\n              dispatch(\r\n                setExpireNotifications({\r\n                  currentPage: expireRef.current.currentPage,\r\n                  totalItems: expireRef.current.totalItems + 1,\r\n                  totalPage: Math.ceil((expireRef.current.totalItems + 1) / expireRef.current.pageSize),\r\n                  pageSize: expireRef.current.pageSize,\r\n                  notifications: arrayExpire,\r\n                  totalUnread: expireRef.current.totalUnread + 1,\r\n                }),\r\n              );\r\n            }\r\n            break;\r\n        }\r\n      }\r\n      dispatch(setReadyForReloadNewContract(true));\r\n      dispatch(setReadyForReloadListContract(true));\r\n      dispatch(setReadyForReloadStatistics(true));\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      Socket.connection.removeListener('notify');\r\n      Socket.connection.removeListener('disconnect');\r\n      Socket.connection.emit('notify', {\r\n        type: SOCKET_ACTION.LEAVE_DASHBOARD,\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    unReadRef.current = unreadNotification ? unreadNotification : 0;\r\n  }, [unreadNotification]);\r\n\r\n  useEffect(() => {\r\n    commentRef.current = comment;\r\n    newContractRef.current = newContract;\r\n    expireRef.current = expire;\r\n  }, [comment, newContract, expire]);\r\n\r\n  return (\r\n    <>\r\n      <Dropdown className={`noti_icon custom-dropdown`} onToggle={onDropdownToggle}>\r\n        <Dropdown.Toggle as={CustomToggle}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"#fff\" className=\"bi bi-bell\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z\" />\r\n          </svg>\r\n          {/* <span className=\"mobi_count\">{getTotalUnread() ? getTotalUnread() : 0}</span> */}\r\n          <span className=\"mobi_count\">{unreadNotification ? unreadNotification : 0}</span>\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu className=\"dropdown-menu-right p-0\" renderOnMount={true}>\r\n          <div className=\"notification_body shadow animated-grow-in\">\r\n            <ul className=\"nav nav-fill\" id=\"notiTab\" role=\"tablist\">\r\n              <li className=\"nav-item\">\r\n                <a className={`nav-link ${notyLatest ? (notyLatest.type == 'NEWCONTRACT' ? 'active' : '') : 'active'}`} id=\"newctr-tab\" data-toggle=\"tab\" href=\"#newctr\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">\r\n                  Hợp đồng mới ({newContract.totalUnread ? newContract.totalUnread : 0})\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <a className={`nav-link ${notyLatest && (notyLatest.type == 'COMMENT' || notyLatest.type == 'SIGN') ? 'active' : ''}`} id=\"responses-tab\" data-toggle=\"tab\" href=\"#responses\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">\r\n                  Phản hồi ({comment.totalUnread ? comment.totalUnread : 0})\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <a className={`nav-link ${notyLatest && notyLatest.type == 'EXPIRE' ? 'active' : ''}`} id=\"expiry-tab\" data-toggle=\"tab\" href=\"#expiry\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\">\r\n                  Sắp hết hạn ({expire.totalUnread ? expire.totalUnread : 0})\r\n                </a>\r\n              </li>\r\n            </ul>\r\n            <div className=\"tab-content\" id=\"notiTabContent\">\r\n              <div key=\"NEWCONTRACT_tab_key\" className={`tab-pane fade show ${notyLatest ? (notyLatest.type == 'NEWCONTRACT' ? 'active' : '') : 'active'}`} id=\"newctr\" role=\"tabpanel\" aria-labelledby=\"newctr-tab\">\r\n                <NotificationNewContract />\r\n              </div>\r\n              <div key=\"COMMENT_tab_key\" className={`tab-pane fade show ${notyLatest && (notyLatest.type == 'COMMENT' || notyLatest.type == 'SIGN') ? 'active' : ''}`} id=\"responses\" role=\"tabpanel\" aria-labelledby=\"responses-tab\">\r\n                <NotificationComment />\r\n              </div>\r\n              <div key=\"EXPIRE_tab_key\" className={`tab-pane fade show ${notyLatest && notyLatest.type == 'EXPIRE' ? 'active' : ''}`} id=\"expiry\" role=\"tabpanel\" aria-labelledby=\"expiry-tab\">\r\n                <NotificationExpire />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    </>\r\n  );\r\n}\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n  <a\r\n    href=\"\"\r\n    ref={ref}\r\n    onClick={e => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n    id=\"notification_center\"\r\n  >\r\n    {children}\r\n  </a>\r\n));\r\nexport default NotificationDropdown;\r\n","import logo from \"@/assets/images/logo_w.webp\";\r\nimport { IconLogout, IconSetting, IconSupport } from \"@Components/Icon\";\r\nimport ContractFilter from \"@Containers/Contract/ContractFilter\";\r\nimport NotificationDropdown from \"@Containers/Layout/NotificationDropdown\";\r\nimport AuthService from \"@Services/auth\";\r\nimport { remove } from \"@Utils/cookie\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { letterNameChar } from '@Utils/helpers';\r\nimport { addToast } from \"@Redux/Actions/AlertToast\";\r\n\r\nfunction DefaultHeader() {\r\n   const information = useSelector((state) => state.auth.user);\r\n   const dispatch = useDispatch();\r\n   function handleLogout() {\r\n      AuthService.logout()\r\n         .then((res) => {\r\n            remove('digital_signature_token');\r\n            remove('digital_signature_refresh_token');\r\n            remove('digital_signature_token_type');\r\n            window.location.href = '/dang-nhap';\r\n         })\r\n         .catch((err) => {\r\n            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n         });\r\n   }\r\n\r\n   useEffect(() => {\r\n   }, []);\r\n\r\n   return (\r\n      <>\r\n         <header id=\"page_header\" className=\"position-relative\">\r\n            <div className=\"container-fluid\">\r\n               <div className=\"row\">\r\n                  <div className=\"col-auto order-0 pr-0 pr-md-3\">\r\n                     <NavLink to=\"/trang-chu\" className=\"logo_wrap d-flex align-items-center h-100\">\r\n                        <img className=\"header_logo img-fluid\" src={logo} alt=\"\" loading=\"lazy\" />\r\n                     </NavLink>\r\n                  </div>\r\n                  <div className=\"col-12 col-md order-2 order-md-1 search_wrapper\">\r\n                     <ContractFilter />\r\n                  </div>\r\n                  <div className=\"col-auto order-1 order-md-2 ml-auto d-flex align-items-center\">\r\n                     <NotificationDropdown />\r\n                     <div className=\"account_area ml-2\">\r\n                        <Dropdown className=\"dropdow-setting-custom\">\r\n                           <Dropdown.Toggle as={CustomToggle}>\r\n                              <span className=\"mr-1 d-none d-lg-inline\">{information.fullName}</span>\r\n                              {information.avatarPath ?\r\n                                 <img src={information.avatarPath ? information.avatarPath : \"\"} alt=\"\" loading=\"lazy\" onError={(e) => { e.target.onerror = null; e.target.remove() }} className=\"rounded-circle account_img\" />\r\n                                 : <div className=\"avatar-alt\">{letterNameChar(information.fullName)}</div>\r\n                              }\r\n                           </Dropdown.Toggle>\r\n                           <Dropdown.Menu className=\"dropdown-menu dropdown-menu-right shadow\">\r\n                              <Dropdown.Item as={Link} to=\"/tra-cuu\">\r\n                                 <IconSupport />\r\n                                 <span>Hỗ trợ</span>\r\n                              </Dropdown.Item>\r\n                              <Dropdown.Item as={Link} to=\"/thong-tin-ca-nhan\">\r\n                                 <IconSetting />\r\n                                 <span>Cài đặt</span>\r\n                              </Dropdown.Item>\r\n                              <Dropdown.Item onClick={handleLogout}>\r\n                                 <IconLogout />\r\n                                 <span>Đăng xuất</span>\r\n                              </Dropdown.Item>\r\n                           </Dropdown.Menu>\r\n                        </Dropdown>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </header>\r\n      </>\r\n   );\r\n}\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n   <a\r\n      className=\"account_menu\"\r\n      href=\"\"\r\n      ref={ref}\r\n      onClick={(e) => {\r\n         e.preventDefault();\r\n         onClick(e);\r\n      }}\r\n   >\r\n      {children}\r\n   </a>\r\n));\r\nexport default DefaultHeader;\r\n","import React from 'react';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { useSelector } from 'react-redux';\r\nimport { IconCalendar2X, IconCancelDocument, IconFileCheck } from '@Components/Icon';\r\nimport { NavLink, useHistory, useLocation } from \"react-router-dom\";\r\nfunction NavFilter(props) {\r\n  const statistics = useSelector(state => state.data.statistics);\r\n  const desktopMenu = useSelector(state => state.menu.menu);\r\n  const mobileMenu = desktopMenu.filter(m => m.id <= 4);\r\n  const otherMenu = desktopMenu.filter(m => m.id > 4);\r\n  const tags = useSelector(state => state.data.tags);\r\n  const history = useHistory();\r\n  const mapIconMenu = data => {\r\n    switch (data.toLowerCase()) {\r\n      case 'tất cả hợp đồng':\r\n        return (\r\n          <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-list-task\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z\" />\r\n            <path d=\"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z\" />\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z\"\r\n            />\r\n          </svg>\r\n        );\r\n      case 'chờ xử lí':\r\n        return (\r\n          <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-list-task\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z\" />\r\n            <path d=\"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z\" />\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z\"\r\n            />\r\n          </svg>\r\n        );\r\n      case 'chờ đối tác':\r\n        return (\r\n          <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-list-task\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z\" />\r\n            <path d=\"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z\" />\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z\"\r\n            />\r\n          </svg>\r\n        );\r\n      case 'sai xác thực':\r\n        return (\r\n          <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-shield-x\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M5.443 1.991a60.17 60.17 0 0 0-2.725.802.454.454 0 0 0-.315.366C1.87 7.056 3.1 9.9 4.567 11.773c.736.94 1.533 1.636 2.197 2.093.333.228.626.394.857.5.116.053.21.089.282.11A.73.73 0 0 0 8 14.5c.007-.001.038-.005.097-.023.072-.022.166-.058.282-.111.23-.106.525-.272.857-.5a10.197 10.197 0 0 0 2.197-2.093C12.9 9.9 14.13 7.056 13.597 3.159a.454.454 0 0 0-.315-.366c-.626-.2-1.682-.526-2.725-.802C9.491 1.71 8.51 1.5 8 1.5c-.51 0-1.49.21-2.557.491zm-.256-.966C6.23.749 7.337.5 8 .5c.662 0 1.77.249 2.813.525a61.09 61.09 0 0 1 2.772.815c.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.191 11.191 0 0 1-2.418 2.3 6.942 6.942 0 0 1-1.007.586c-.27.124-.558.225-.796.225s-.526-.101-.796-.225a6.908 6.908 0 0 1-1.007-.586 11.192 11.192 0 0 1-2.417-2.3C2.167 10.331.839 7.221 1.412 3.024A1.454 1.454 0 0 1 2.415 1.84a61.11 61.11 0 0 1 2.772-.815z\"\r\n            />\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M6.146 6.146a.5.5 0 0 1 .708 0L8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 0 1 0-.708z\"\r\n            />\r\n          </svg>\r\n        );\r\n      case 'hoàn thành':\r\n        return <IconFileCheck />;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const getStatusCount = status => {\r\n    let count = 0;\r\n    if (statistics) {\r\n      if (status == 'ALL') {\r\n        statistics.forEach(s => {\r\n          count += s.count;\r\n        });\r\n      } else {\r\n        const arr = statistics.filter(s => s.status == status);\r\n        if (arr.length > 0) {\r\n          count += arr[0].count;\r\n        }\r\n      }\r\n    }\r\n    return count;\r\n  };\r\n\r\n  const mapIconOtherMenu = data => {\r\n    switch (data.toLowerCase()) {\r\n      case 'hủy bỏ':\r\n        return <IconCancelDocument />;\r\n      case 'hết hạn':\r\n        return <IconCalendar2X />;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n  function listContractTag(tag) {\r\n    const params = {\r\n      tagId: tag.id\r\n    };\r\n    Object.keys(params).forEach(key => {\r\n      if (!params[key]) {\r\n        delete params[key];\r\n      }\r\n    });\r\n    history.push('/hop-dong-theo-the?' + new URLSearchParams(params).toString());\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"nav_mobi\" className=\"container-fluid d-block d-lg-none\">\r\n        <div className=\"row\">\r\n          {mobileMenu.map((menu, index) => (\r\n            <React.Fragment key={index}>\r\n              {\r\n                menu.status != 'TOTAL' &&\r\n                <div className=\"col p-0\">\r\n                  <NavLink to={menu.path} exact={true} className=\"text-center nm_item\">\r\n                    {mapIconMenu(`${menu.title}`)}\r\n                    <span className=\"mobi_count\">{getStatusCount(menu.status)}</span>\r\n                    <br />\r\n                    <span>{menu.title}</span>\r\n                  </NavLink>\r\n                </div>\r\n              }\r\n            </React.Fragment>\r\n          )\r\n          )}\r\n          <div className=\"col p-0\">\r\n            <Dropdown>\r\n              <Dropdown.Toggle as={CustomToggle}>\r\n                <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-three-dots\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"\r\n                  />\r\n                </svg>\r\n                <span className=\"mobi_count\">{tags ? tags.length + 2 : 2}</span>\r\n                <br />\r\n                <span>Khác</span>\r\n              </Dropdown.Toggle>\r\n              <Dropdown.Menu className=\"dropdown-menu-right dropdown-menu-other shadow\" popperConfig={{ placement: 'end-top' }}>\r\n                {tags &&\r\n                  tags.map((tag, index) => (\r\n                    <a onClick={() => listContractTag(tag)} className=\"dropdown-item\" key={index}>\r\n                      <svg className=\"flip_hor\" viewBox=\"0 0 24 24\" fill={tag.colorCode} width=\"22px\" height=\"22px\">\r\n                        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                        <path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\" />\r\n                      </svg>\r\n                      <span>{tag.name}</span>\r\n                    </a>\r\n                  ))}\r\n                {otherMenu.map((menu, index) => (\r\n                  <NavLink className=\"dropdown-item\" to={menu.path} key={index}>\r\n                    {mapIconOtherMenu(menu.title)}\r\n                    <span>\r\n                      {menu.title} ({getStatusCount(menu.status)})\r\n                    </span>\r\n                  </NavLink>\r\n                ))}\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => {\r\n  return (\r\n    <a\r\n      href=\"\"\r\n      ref={ref}\r\n      onClick={e => {\r\n        e.preventDefault();\r\n        onClick(e);\r\n      }}\r\n      className=\"text-center nm_item\"\r\n    >\r\n      {children}\r\n    </a>\r\n  );\r\n});\r\nexport default NavFilter;\r\n","import { IconCancelDocument, IconCheckDocument, IconClock, IconDocuments, IconFailDocument, IconFailShield, IconHourclass, IconPlus, IconTag } from \"@Components/Icon\";\r\nimport { ContractCreateButton } from \"@Containers/Contract\";\r\nimport { TagModal } from \"@Containers/Tag\";\r\nimport { useEffect, useState } from \"react\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { NavLink, useHistory, useLocation } from \"react-router-dom\";\r\n\r\nfunction SidebarIcon({ iconName }) {\r\n   switch (iconName) {\r\n      case \"DOCUMENTS\":\r\n         return <IconDocuments />;\r\n      case \"CLOCK\":\r\n         return <IconClock />;\r\n      case \"HOURCLASS\":\r\n         return <IconHourclass />;\r\n      case \"FAIL_SHIELD\":\r\n         return <IconFailShield />;\r\n      case \"CHECK_DOCUMENT\":\r\n         return <IconCheckDocument />;\r\n      case \"FAIL_DOCUMENT\":\r\n         return <IconFailDocument />;\r\n      case \"CANCEL_DOCUMENT\":\r\n         return <IconCancelDocument />;\r\n      default:\r\n         return <></>;\r\n   }\r\n}\r\n\r\nfunction SideBar(props) {\r\n   const statistics = useSelector((state) => state.data.statistics);\r\n   const menus = useSelector((state) => state.menu.menu);\r\n   const tags = useSelector((state) => state.data.tags);\r\n   const { pathname, search } = useLocation();\r\n\r\n   const pathActive = [\"/\", \"/trang-chu\"];\r\n   const history = useHistory();\r\n\r\n   // [ \"/dashboard/policy\", \"/dashboard/policy-detail\", \"/dashboard/security\", \"/account-info\"];\r\n   // const pathActive = [];\r\n\r\n   const [show, setShow] = useState(false);\r\n\r\n   const handleClose = () => setShow(false);\r\n\r\n   const handleShow = () => setShow(true);\r\n   const statisStatus = (value) => {\r\n      // if (value == \"ALL\") {\r\n      //    let sum = 0;\r\n      //    for (let i = 0; i < statistics.length; i++) {\r\n      //       sum = sum + statistics[i].count;\r\n      //    }\r\n      //    return sum;\r\n      // } else {\r\n      for (let i = 0; i < statistics.length; i++) {\r\n         if (statistics[i].status === value) {\r\n            return statistics[i].count;\r\n         }\r\n         // }\r\n      }\r\n      return 0;\r\n   };\r\n\r\n   function listContractTag(tag) {\r\n      const params = {\r\n         tagId: tag.id\r\n      };\r\n      Object.keys(params).forEach(key => {\r\n         if (!params[key]) {\r\n            delete params[key];\r\n         }\r\n      });\r\n      history.push('/hop-dong-theo-the?' + new URLSearchParams(params).toString());\r\n   }\r\n\r\n   function isActiveTag(tag) {\r\n      const params = new URLSearchParams(search);\r\n      return params.get('tagId') == tag.id\r\n   }\r\n\r\n   return (\r\n      <>\r\n         <aside id=\"left_sidebar\">\r\n            <div className=\"text-center\">\r\n               <ContractCreateButton />\r\n            </div>\r\n            <PerfectScrollbar>\r\n               <ul className=\"list-unstyled\">\r\n                  <li className=\"sidebar_item\">\r\n                     <NavLink exact to=\"/trang-chu\" isActive={() => pathActive.includes(pathname)}>\r\n                        <span className=\"si_icon\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-house-door\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z\" />\r\n                           </svg>\r\n                        </span>\r\n                        <span className=\"si_name\">Trang chủ</span>\r\n                     </NavLink>\r\n                  </li>\r\n                  {menus.map((menu, index) => (\r\n                     <li className=\"sidebar_item\" key={index}>\r\n                        <NavLink to={menu.path}>\r\n                           <span className=\"si_icon\">\r\n                              <SidebarIcon iconName={menu.icon} />\r\n                           </span>\r\n                           <span className=\"si_name\">{menu.title}</span>\r\n                           {statistics && <span className=\"si_count\">{statisStatus(menu.status)}</span>}\r\n                        </NavLink>\r\n                     </li>\r\n                  ))}\r\n               </ul>\r\n               <hr />\r\n               <h4>DANH SÁCH THẺ</h4>\r\n               <ul className=\"list-unstyled tags_list\">\r\n                  {tags &&\r\n                     tags.map((tag, index) => (\r\n                        <li onClick={() => listContractTag(tag)} className=\"sidebar_item\" key={index}>\r\n                           <NavLink exact to={`/hop-dong-theo-the?tagId=${tag.id}`} isActive={() => isActiveTag(tag)} >\r\n                              <span className=\"si_icon\">\r\n                                 <IconTag fill={tag.colorCode} width=\"20px\" height=\"20px\" />\r\n                              </span>\r\n                              <span className=\"si_name\">{tag.name}</span>\r\n                              <span className=\"si_count\">{tag.countContract || 0}</span>\r\n                           </NavLink>\r\n                        </li>\r\n                     ))}\r\n                  <li className=\"sidebar_item tag_add\">\r\n                     <a href=\"javascript:void(0);\" onClick={handleShow}>\r\n                        <span className=\"si_icon\">\r\n                           <IconPlus width=\"24\" height=\"24\" />\r\n                        </span>\r\n                        <span className=\"si_name\">Quản lý thẻ</span>\r\n                     </a>\r\n                     <TagModal show={show} onHide={handleClose}></TagModal>\r\n                  </li>\r\n               </ul>\r\n            </PerfectScrollbar>\r\n         </aside>\r\n      </>\r\n   );\r\n}\r\n\r\nexport default SideBar;\r\n","import ContractCreateButtonMobile from '@Containers/Contract/ContractCreateButtonMobile';\r\nimport { TagModal } from '@Containers/Tag';\r\nimport { resetCreateContract, setCreatingContract, setReadyForCreating } from '@Redux/Actions/CreateContract';\r\nimport { setReadyForReloadStatistics, setStatistics, setTags, setSumUnreadNotification } from '@Redux/Actions/Data';\r\nimport ContractService from '@Services/contract';\r\nimport TagService from '@Services/tag';\r\nimport * as Axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport DefaultHeader from './Header';\r\nimport NavFilter from './NavFilter';\r\nimport SideBar from './Sidebar';\r\nimport { setReadyForReloading as setReadyForReloadNewContract } from '@Redux/Actions/NewContract';\r\nimport { setReadyForReloading as setReadyForReloadListContract } from '@Redux/Actions/ListContract';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport AuthService from '@Services/auth';\r\n\r\nconst API_BASE_URL = 'https://mcontract.vn/api';\r\n\r\nfunction DefaultLayout(props) {\r\n  const { statistics, readyForReloadStatistics } = useSelector(state => state.data);\r\n  const { file, signers, information, isReadyForCreating } = useSelector(state => state.createContract);\r\n  const dispatch = useDispatch();\r\n\r\n  const getBinaryFile = url => {\r\n    return new Promise(async (resolve, reject) => {\r\n      Axios.get(url, {\r\n        responseType: 'blob',\r\n        crossDomain: true,\r\n        withCredentials: true,\r\n      })\r\n        .then(res => {\r\n          const binary = new File([res.data], file.pdf.name, { type: 'application/pdf' });\r\n          resolve(binary);\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n\r\n  const createContract = async () => {\r\n    try {\r\n      dispatch(setCreatingContract(true));\r\n      const formData = new FormData();\r\n      const binary = await getBinaryFile(file.pdf.url);\r\n      formData.append('title', information.title);\r\n      formData.append('content', information.content);\r\n      formData.append('numberOFExpirationDate', information.numberOFExpirationDate);\r\n      const signerData = signers.map(signer => {\r\n        return {\r\n          fullName: signer.fullName.trim(),\r\n          email: (signer.email.trim()).toLowerCase(),\r\n          taxCode: signer.taxCode.trim(),\r\n          x: signer.position.percentX,\r\n          y: signer.position.percentY,\r\n          page: signer.position.page,\r\n        };\r\n      });\r\n      formData.append('signers', new Blob([JSON.stringify(signerData)], { type: 'application/json' }));\r\n      formData.append('file', binary);\r\n      const res = await ContractService.addContract(formData);\r\n      if (!res.data.isValidTaxcode) {\r\n        dispatch(addToast({ id: res.data.id, contractName: res.data.title, color: 'purple', type: 'ERROR_AUTHOR', isCreateContract: true, message: 'Sai mã số thuế.' }));\r\n      }\r\n      dispatch(setReadyForReloadNewContract(true));\r\n      dispatch(setReadyForReloadListContract(true));\r\n      dispatch(setReadyForReloadStatistics(true));\r\n      dispatch(setCreatingContract(false));\r\n      dispatch(setReadyForCreating(false));\r\n      dispatch(resetCreateContract());\r\n    } catch (err) {\r\n      console.error(err);\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), color: 'red', type: err.errorCode }));\r\n      dispatch(setCreatingContract(false));\r\n    }\r\n  };\r\n\r\n  const getStatistics = async () => {\r\n    try {\r\n      const res = await ContractService.getStatisContract();\r\n      dispatch(setStatistics(res.data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      dispatch(setReadyForReloadStatistics(false));\r\n    }\r\n  };\r\n\r\n  const getTags = async () => {\r\n    try {\r\n      const res = await TagService.list();\r\n      const data = res.data.sort((a, b) => {\r\n        return b.id - a.id;\r\n      });\r\n      dispatch(setTags(data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const getSumUnreadNotification = async () => {\r\n    try {\r\n      const res = await AuthService.getUnreadNotification({});\r\n      dispatch(setSumUnreadNotification(res.totalUnread));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getTags();\r\n    getStatistics();\r\n    getSumUnreadNotification();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isReadyForCreating) {\r\n      createContract();\r\n    }\r\n  }, [isReadyForCreating]);\r\n\r\n  useEffect(() => {\r\n    if (readyForReloadStatistics) {\r\n      getStatistics();\r\n    }\r\n  }, [readyForReloadStatistics]);\r\n  return (\r\n    <>\r\n      <SimpleBar style={{ height: '100vh' }}>\r\n        <DefaultHeader />\r\n        <main id=\"site_content\">\r\n          <SideBar />\r\n\r\n          <div id=\"page_wrapper\">{props.children}</div>\r\n        </main>\r\n        <TagModal contracts={[]} />\r\n        <ContractCreateButtonMobile />\r\n        <NavFilter />\r\n      </SimpleBar>\r\n    </>\r\n  );\r\n}\r\nexport default DefaultLayout;\r\n","import { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router';\r\nimport AuthService from '@Services/auth';\r\nimport { useLocation } from 'react-router-dom';\r\nconst publicRoutes = ['/cap-nhat-thong-tin'];\r\nconst validRoutes = [\r\n  '/dang-nhap',\r\n  '/dang-ki',\r\n  '/dang-nhap/ma-xac-thuc',\r\n  '/dang-ki/ma-xac-thuc',\r\n  '/hop-dong',\r\n  '/ky-hop-dong',\r\n  '/cap-nhat-thong-tin',\r\n  '/trang-chu',\r\n  '/thong-tin-ca-nhan',\r\n  '/tra-cuu',\r\n  '/tra-cuu/dieu-khoan',\r\n  '/tra-cuu/chinh-sach',\r\n  '/tat-ca-hop-dong',\r\n  '/cho-xu-ly',\r\n  '/cho-doi-tac',\r\n  '/sai-xac-thuc',\r\n  '/hoan-thanh',\r\n  '/het-han',\r\n  '/huy-bo',\r\n  '/tim-kiem-hop-dong',\r\n  '/hop-dong-theo-the',\r\n];\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  const isAuthenticated = AuthService.isAuthenticated();\r\n  const user = useSelector(state => state.auth.user);\r\n  const location = useLocation();\r\n  if (!isAuthenticated) {\r\n    return <Redirect to=\"/dang-nhap\" />;\r\n  } else {\r\n    if (!user || !user.fullName) {\r\n      return <Redirect to=\"/cap-nhat-thong-tin\" />;\r\n    } else {\r\n      if (publicRoutes.indexOf(rest.path) > -1) {\r\n        return <Redirect to=\"/trang-chu\" />;\r\n      }\r\n    }\r\n  }\r\n  if (location.pathname != '/' && validRoutes.indexOf(location.pathname) === -1) {\r\n    return <Redirect to=\"/trang-chu\" />\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\nexport default PrivateRoute;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { IconChatYellow } from '@Components/Icon';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport CommentService from '@Services/comment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addComment, addChildComment, setComments, setPreviewCurrentPage, setPdfCurrentPage, setFocusComment, setFocusSign, setNewComment, updateNotifications, updateComments, setFocusRealtimeComment } from '@Redux/Actions/DetailContract';\r\nimport GeneralService from '@Services/general';\r\nimport ContractService from '@Services/contract';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\n\r\nconst commentPositionPercent = (pageNumber, x, y) => {\r\n  const page = document.querySelector(`#showPDFSign .pdf-page[data-page-number=\"${pageNumber}\"]`);\r\n  return {\r\n    percentX: (x / page.offsetWidth) * 100,\r\n    percentY: (y / page.offsetHeight) * 100,\r\n  };\r\n};\r\n\r\nconst getDate = ms => {\r\n  const date = new Date(ms);\r\n  return `${('0' + date.getHours()).slice(-2)}:${('0' + date.getMinutes()).slice(-2)} - ${('0' + date.getDate()).slice(-2)}/${('0' + (date.getMonth() + 1)).slice(-2)}/${date.getFullYear()}`;\r\n};\r\n\r\nconst Comment = ({ comment, index, child = false, contract, currentSignerToken, setTabKey }) => {\r\n  const [counter, setCounter] = useState(512);\r\n  const {\r\n    notifications,\r\n    comments,\r\n    currentSigner,\r\n    pdf: { currentPage },\r\n  } = useSelector(state => state.detailContract);\r\n  const user = useSelector(state => state.auth.user);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [isReply, setIsReply] = useState(false);\r\n  const [isReling, setIsReling] = useState('');\r\n  const [contentComment, setContentComment] = useState('');\r\n  const location = useLocation();\r\n  let textareaRef = useRef(null);\r\n\r\n  const submitReplyComment = async event => {\r\n    event.preventDefault();\r\n    if (textareaRef.current.innerText.length < 513) {\r\n      try {\r\n        setIsReling(true);\r\n        const data = {\r\n          contractId: contract.id,\r\n          content: textareaRef.current.innerText.substring(0, 511),\r\n          parentId: comment.parentId ? comment.parentId : comment.id,\r\n          page: null,\r\n          x: null,\r\n          y: null,\r\n        };\r\n        const res = user ? await CommentService.create(data) : await CommentService.createCommentSigner(currentSignerToken, data);\r\n        const newData = Object.assign(res.data, {\r\n          isRead: true,\r\n          user: user ? user : null,\r\n          signer: currentSigner ? currentSigner : null,\r\n          isPosPDF: true\r\n        });\r\n        dispatch(setFocusComment(newData));\r\n        if (location.search && location.search.indexOf('signerId') > -1) {\r\n          setTabKey('comments');\r\n        }\r\n        setIsReply(false);\r\n        if (res.data.parentId) {\r\n          dispatch(addChildComment(newData));\r\n        } else {\r\n          dispatch(addComment(newData));\r\n        }\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n      } finally {\r\n        setIsReling(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const moveCommentPos = comment => {\r\n    if (comment && comment.id) {\r\n      const signPos = document.getElementById(`comment_${comment.id}`);\r\n      if (signPos) {\r\n        signPos.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  function onClickComment(comment) {\r\n    moveCommentPos(comment);\r\n    if (window.visualViewport.width < 992) {\r\n      mouseOver(comment);\r\n    }\r\n  }\r\n\r\n  const markNotification = async comment => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        if (user) {\r\n          const noti = notifications.filter(item => {\r\n            if (item.data.id == comment.id && !item.status) {\r\n              return item;\r\n            }\r\n          });\r\n          if (noti.length > 0) {\r\n            await ContractService.markNotiContractUser(contract.id, noti[0].id);\r\n            dispatch(updateNotifications({ id: noti[0].id }));\r\n          }\r\n        } else {\r\n          const noti = notifications.filter(item => {\r\n            if (item.data.id == comment.id && !item.status) {\r\n              return item;\r\n            }\r\n          });\r\n          if (noti.length > 0) {\r\n            await ContractService.markNotiContractSigner(currentSignerToken, noti[0].id);\r\n            dispatch(updateNotifications({ id: noti[0].id }));\r\n          }\r\n        }\r\n        resolve(true);\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n      }\r\n    });\r\n  };\r\n\r\n  const markedComment = async comment => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        if (user) {\r\n          await CommentService.markCommentUser(comment.id);\r\n          await markNotification(comment);\r\n        } else {\r\n          await CommentService.markCommentSigner(currentSignerToken, comment.id);\r\n          await markNotification(comment);\r\n        }\r\n        dispatch(setFocusComment(null));\r\n        dispatch(updateComments({ id: comment.id }));\r\n        resolve(true);\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n      }\r\n    });\r\n  };\r\n\r\n  async function mouseOver(comment) {\r\n    let el;\r\n    if (window.visualViewport.width < 992) {\r\n      const contain = document.getElementById('mobileComments');\r\n      if (contain) {\r\n        el = contain.querySelector(`.comment_item.comment_item_${comment.id}`);\r\n      }\r\n    } else {\r\n      el = document.getElementById(`comment_item_${comment.id}`);\r\n    }\r\n    if (!comment.isRead && el.classList.contains('new')) {\r\n      el.classList.remove('new');\r\n      await markedComment(comment);\r\n    }\r\n  }\r\n\r\n  const preventText = event => {\r\n    if (event.target.innerText.length === 512 && event.keyCode != 8) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  const pasteContent = event => {\r\n    event.preventDefault();\r\n    var text = event.clipboardData.getData('text/plain');\r\n    setContentComment(text);\r\n    document.execCommand('insertHTML', false, text);\r\n  };\r\n\r\n  const counterLetter = e => {\r\n    const textArea = e.target;\r\n    const parent = textArea.parentNode.parentNode;\r\n    // parent.scrollIntoView();\r\n    if (textareaRef.current && textareaRef.current.innerText) {\r\n      const letters = textareaRef.current.innerText.trim();\r\n      setContentComment(letters.trim());\r\n      setCounter(512 - letters.length);\r\n    } else {\r\n      setCounter(512);\r\n      setContentComment('');\r\n    }\r\n  };\r\n  const onCancelReply = () => {\r\n    setIsReply(false);\r\n    setCounter(512);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isReply) {\r\n      const replyEl = window.visualViewport.width >= 992 ? document.querySelector(`#docsignTabContent .comment_item_${comment.id} .comment_reply .comment_text`) : document.querySelector(`#mobileComments .comment_item_${comment.id} .comment_reply .comment_text`);\r\n      const replyRect = replyEl.getBoundingClientRect();\r\n      const wrapper = window.visualViewport.width >= 992 ? document.querySelector('#docsignTabContent .simplebar-content-wrapper') : document.querySelector('#mobileComments_Wrapper .simplebar-content-wrapper');\r\n      const wrapperRect = wrapper.getBoundingClientRect();\r\n      if (replyRect.y + replyRect.height - wrapperRect.y - wrapperRect.height > 0) {\r\n        wrapper.scrollTop = wrapper.scrollTop + (replyRect.y + replyRect.height - wrapperRect.y - wrapperRect.height);\r\n      }\r\n    }\r\n  }, [isReply]);\r\n\r\n  const onsFucusReply = (() => {\r\n    setTimeout(() => {\r\n      if (textareaRef) {\r\n        textareaRef.current.focus();\r\n      }\r\n    }, 50);\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {comment && (\r\n        <div onClick={() => onClickComment(comment)} onMouseOver={() => mouseOver(comment)} id={`comment_item_${comment.id}`} className={`comment_item comment_item_${comment.id} ${!comment.isRead ? 'new' : ''}`}>\r\n          <div className=\"row px-3 pt-2\">\r\n            <div className={`col-auto ${comment.parentId ? 'px-0' : 'pr-0 pl-2'}`}>\r\n              <div className=\"person_img_wrap\">\r\n                {user && !comment.user && !comment.signer ? (\r\n                  <>\r\n                    {user.avatarPath ? (\r\n                      <img\r\n                        src={user.avatarPath ? user.avatarPath : ''}\r\n                        className=\"rounded-circle person_img\"\r\n                        onError={e => {\r\n                          e.target.onerror = null;\r\n                          e.target.remove();\r\n                        }}\r\n                        alt=\"\"\r\n                        loading=\"lazy\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"img_alt\">\r\n                        <span>{GeneralService.getLetterName(user.fullName)}</span>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {comment.user && comment.user.id ? (\r\n                      <>\r\n                        {comment.user && comment.user.avatarPath ? (\r\n                          <img\r\n                            src={comment.user && comment.user.avatarPath ? comment.user.avatarPath : ''}\r\n                            className=\"rounded-circle person_img\"\r\n                            onError={e => {\r\n                              e.target.onerror = null;\r\n                              e.target.remove();\r\n                            }}\r\n                            alt=\"\"\r\n                            loading=\"lazy\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"img_alt\">\r\n                            <span>{GeneralService.getLetterName(comment.user.fullName)}</span>\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        {comment.signer && comment.signer.avatarPath ? (\r\n                          <img\r\n                            src={comment.signer && comment.signer.avatarPath ? comment.signer.avatarPath : ''}\r\n                            className=\"rounded-circle person_img\"\r\n                            onError={e => {\r\n                              e.target.onerror = null;\r\n                              e.target.remove();\r\n                            }}\r\n                            alt=\"\"\r\n                            loading=\"lazy\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"img_alt\">\r\n                            <span>{GeneralService.getLetterName(comment.signer ? comment.signer.fullName : '')}</span>\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n              {!child && (\r\n                <div className=\"comment_view\">\r\n                  <IconChatYellow />\r\n                  <span>{index + 1}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"col px-2 comment_text\">\r\n              <div>\r\n                {user && !comment.user && !comment.signer ? (\r\n                  <>\r\n                    <div className=\"person_name\">\r\n                      Tôi\r\n                      {user.fullName}\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <div className=\"person_name\">{comment.user ? (user && user.id == comment.user.id ? 'Tôi' : comment.user.fullName) : currentSigner && currentSigner.id == comment.signer.id ? 'Tôi' : comment.signer.fullName}</div>\r\n                )}\r\n                <div className={`text-editable`} contentEditable=\"true\" dangerouslySetInnerHTML={{ __html: comment.content }}></div>\r\n                {/* <div className=\"text-pre-line\">{comment.content}</div> */}\r\n              </div>\r\n              <div className=\"comment_meta\">\r\n                <span>{getDate(comment.createdTime)}</span>&ensp;\r\n                <a\r\n                  href=\"javascript:void(0)\"\r\n                  onClick={e => {\r\n                    e.preventDefault();\r\n                    setIsReply(true);\r\n                    onsFucusReply();\r\n                  }}\r\n                >\r\n                  Trả lời\r\n                </a>\r\n              </div>\r\n              {isReply && !comment.parentId && (\r\n                <>\r\n                  <div className=\"comment_reply\">\r\n                    <form className=\"row px-3 py-2\" onSubmit={e => submitReplyComment(e)}>\r\n                      <div className=\"col-auto pr-2 pl-0\">\r\n                        <div className=\"person_img_wrap\">\r\n                          {currentSigner.avatarPath ? (\r\n                            <img\r\n                              src={currentSigner.avatarPath ? currentSigner.avatarPath : ''}\r\n                              className=\"rounded-circle person_img\"\r\n                              onError={e => {\r\n                                e.target.onerror = null;\r\n                                e.target.remove();\r\n                              }}\r\n                              alt=\"\"\r\n                              loading=\"lazy\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"img_alt\">\r\n                              <span>{GeneralService.getLetterName(currentSigner.fullName)}</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col pl-2 pr-2 comment_text\">\r\n                        <div className=\"wrap-typing\">\r\n                          {\r\n                            user && !comment.user && !comment.signer ? (\r\n                              <div onPaste={e => pasteContent(e)} onKeyDown={e => preventText(e)} onInput={e => counterLetter(e)} ref={textareaRef} placeholder={`Trả lời ${user.fullName}`} contentEditable=\"true\" className={`input-editable ${contentComment.length > 512 ? 'is-invalid' : ''}`}></div>\r\n                            ) : (\r\n                              // <textareaa onChange={counterLetter} maxLength=\"512\" className=\"form-control overflow-hidden\" ref={textareaRef} placeholder={`Trả lời ${user.fullName}`}></textareaa>\r\n                              <div\r\n                                onPaste={e => pasteContent(e)}\r\n                                onKeyDown={e => preventText(e)}\r\n                                onInput={e => counterLetter(e)}\r\n                                ref={textareaRef}\r\n                                placeholder={`Trả lời ${comment.user ? comment.user.fullName : comment.signer.fullName}`}\r\n                                contentEditable=\"true\"\r\n                                className={`input-editable ${contentComment.length > 512 ? 'is-invalid' : ''}`}\r\n                              ></div>\r\n                            )\r\n                            // <textareaa onChange={counterLetter} maxLength=\"512\" className=\"form-control overflow-hidden\" ref={textareaRef} placeholder={`Trả lời ${comment.user ? comment.user.fullName : comment.signer.fullName}`}></textareaa>\r\n                          }\r\n                          {counter < 512 && (\r\n                            <span id=\"count\" className=\"counter\">\r\n                              ({counter})\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"comment_btn\">\r\n                          <button type=\"submit\" disabled={isReling || contentComment.length == 0} className=\"btn btn_main\">\r\n                            {isReling ? (\r\n                              <>\r\n                                <Spinner /> Loading...{' '}\r\n                              </>\r\n                            ) : (\r\n                              'Gửi đi'\r\n                            )}\r\n                          </button>\r\n                          &nbsp;\r\n                          <button type=\"button\" className=\"btn btn_outline_main\" onClick={e => onCancelReply(e)}>\r\n                            Hủy\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </>\r\n              )}\r\n              {comment.childCommentDtos && comment.childCommentDtos.length > 0 && <ListComment contract={contract} comments={comment.childCommentDtos} child={true} currentSignerToken={currentSignerToken} />}\r\n            </div>\r\n          </div>\r\n          {isReply && comment.parentId && (\r\n            <>\r\n              <div className=\"comment_reply\">\r\n                <form className=\"row px-3 py-2\" onSubmit={e => submitReplyComment(e)}>\r\n                  <div className={`col-auto ${comment.parentId ? 'px-0' : 'pr-0 pl-2'}`}>\r\n                    <div className=\"person_img_wrap\">\r\n                      {currentSigner.avatarPath ? (\r\n                        <img\r\n                          src={currentSigner.avatarPath ? currentSigner.avatarPath : ''}\r\n                          className=\"rounded-circle person_img\"\r\n                          onError={e => {\r\n                            e.target.onerror = null;\r\n                            e.target.remove();\r\n                          }}\r\n                          alt=\"\"\r\n                          loading=\"lazy\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"img_alt\">\r\n                          <span>{GeneralService.getLetterName(currentSigner.fullName)}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col pl-2 pr-2 comment_text\">\r\n                    <div className=\"wrap-typing\">\r\n                      {\r\n                        user && !comment.user && !comment.signer ? (\r\n                          <div onPaste={e => pasteContent(e)} onKeyDown={e => preventText(e)} onInput={e => counterLetter(e)} ref={textareaRef} placeholder={`Trả lời ${user.fullName}`} contentEditable=\"true\" className={`input-editable ${contentComment.length > 512 ? 'is-invalid' : ''}`}></div>\r\n                        ) : (\r\n                          // <textareaa onChange={counterLetter} maxLength=\"512\" className=\"form-control overflow-hidden\" ref={textareaRef} placeholder={`Trả lời ${user.fullName}`}></textareaa>\r\n                          <div\r\n                            onPaste={e => pasteContent(e)}\r\n                            onKeyDown={e => preventText(e)}\r\n                            onInput={e => counterLetter(e)}\r\n                            ref={textareaRef}\r\n                            placeholder={`Trả lời ${comment.user ? comment.user.fullName : comment.signer.fullName}`}\r\n                            contentEditable=\"true\"\r\n                            className={`input-editable ${contentComment.length > 512 ? 'is-invalid' : ''}`}\r\n                          ></div>\r\n                        )\r\n                        // <textareaa onChange={counterLetter} maxLength=\"512\" className=\"form-control overflow-hidden\" ref={textareaRef} placeholder={`Trả lời ${comment.user ? comment.user.fullName : comment.signer.fullName}`}></textareaa>\r\n                      }\r\n                      {counter < 512 && (\r\n                        <span id=\"count\" className=\"counter\">\r\n                          ({counter})\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"comment_btn\">\r\n                      <button type=\"submit\" disabled={isReling || contentComment.length == 0} className=\"btn btn_main\">\r\n                        {isReling ? (\r\n                          <>\r\n                            <Spinner /> Loading...{' '}\r\n                          </>\r\n                        ) : (\r\n                          'Gửi đi'\r\n                        )}\r\n                      </button>\r\n                      &nbsp;\r\n                      <button type=\"button\" className=\"btn btn_outline_main\" onClick={e => onCancelReply(e)}>\r\n                        Hủy\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst ListComment = ({ currentPage, onPageChanged, comments, contract, child = false, currentSignerToken, setTabKey }) => {\r\n  return comments.length > 0 ? comments.map((c, index) => <Comment setTabKey={setTabKey} currentPage={currentPage} onPageChanged={onPageChanged} key={`comment_${index}`} comment={c} index={index} contract={contract} currentSignerToken={currentSignerToken} child={child}></Comment>) : null;\r\n};\r\n\r\nconst Comments = ({ currentPage, onPageChanged, setTabKey }) => {\r\n  const { contract, currentSigner, comments, newComment, focusComment, focusRealtimeComment, currentSignerToken } = useSelector(state => state.detailContract);\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [counter, setCounter] = useState(512);\r\n  const newCommentContent = useRef();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [contentComment, setContentComment] = useState('');\r\n  const user = useSelector(state => state.auth.user);\r\n\r\n  const submitNewComment = async event => {\r\n    event.preventDefault();\r\n    if (newCommentContent.current.innerText.length < 513) {\r\n      try {\r\n        setIsSubmitting(true);\r\n        const percentPos = commentPositionPercent(newComment.page, newComment.x, newComment.y);\r\n        const data = {\r\n          contractId: contract.id,\r\n          content: newCommentContent.current.innerText.substring(0, 511),\r\n          parentId: null,\r\n          x: percentPos.percentX,\r\n          y: percentPos.percentY,\r\n          page: newComment.page,\r\n        };\r\n        const res = user ? await CommentService.create(data) : await CommentService.createCommentSigner(currentSignerToken, data);\r\n        const newData = Object.assign(res.data, {\r\n          isRead: true,\r\n          user: user ? user : null,\r\n          signer: currentSigner ? currentSigner : null,\r\n          childCommentDtos: [],\r\n          isPosPDF: true\r\n        });\r\n        dispatch(setFocusComment(newData));\r\n        dispatch(setNewComment(null));\r\n        if (location.search && location.search.indexOf('signerId') > -1) {\r\n          setTabKey('comments');\r\n        }\r\n        if (res.data.parentId) {\r\n          dispatch(addChildComment(newData));\r\n        } else {\r\n          dispatch(addComment(newData));\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const cancelNewComment = () => {\r\n    dispatch(setNewComment(null));\r\n    setCounter(512);\r\n  };\r\n\r\n  function moveCommentFromLink(dataComments) {\r\n    const arr = location.search.split('=');\r\n    if (arr.length > 1) {\r\n      for (const item of dataComments) {\r\n        if (item.id == arr[1]) {\r\n          dispatch(setFocusComment(item));\r\n          if (item.page != currentPage) {\r\n            dispatch(setPdfCurrentPage(item.page));\r\n            dispatch(setPreviewCurrentPage(item.page));\r\n          }\r\n          return;\r\n        }\r\n        if (item.childCommentDtos && item.childCommentDtos.length > 0) {\r\n          for (const child of item.childCommentDtos) {\r\n            if (child.id == arr[1]) {\r\n              dispatch(setFocusComment(child));\r\n              if (child.page != currentPage) {\r\n                dispatch(setPdfCurrentPage(child.page));\r\n                dispatch(setPreviewCurrentPage(child.page));\r\n              }\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const getComments = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const res = user ? await CommentService.list(contract.id) : await CommentService.listCommentSigner(currentSignerToken);\r\n      dispatch(setComments(convertComments(res.data)));\r\n      if (location.search && !focusComment) {\r\n        moveCommentFromLink(res.data);\r\n      }\r\n      if (focusComment) {\r\n        onMoveFocusComment();\r\n      }\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n    }\r\n  };\r\n\r\n  const convertComments = comments => {\r\n    return comments.map(cmt => {\r\n      if (cmt.childCommentDtos) {\r\n        return {\r\n          ...cmt,\r\n          ...{ childCommentDtos: convertComments(cmt.childCommentDtos) },\r\n        };\r\n      } else {\r\n        return {\r\n          ...cmt,\r\n          ...{ childCommentDtos: [] },\r\n        };\r\n      }\r\n    });\r\n  };\r\n  const onMoveFocusComment = () => {\r\n    if (focusComment) {\r\n      setTimeout(() => {\r\n        const eleComment = window.visualViewport.width >= 992 ? document.querySelector(`#docsignTabContent .comment_item.comment_item_${focusComment.id}`) : document.querySelector(`#mobileComments .comment_item.comment_item_${focusComment.id}`);\r\n        if (eleComment) {\r\n          eleComment.scrollIntoView({ block: 'center' });\r\n        }\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  const counterLetter = event => {\r\n    // if (event.target.innerText.length === 512 && event.keyCode != 8) {\r\n    //   event.preventDefault();\r\n    // }\r\n    const textArea = event.target;\r\n    // textArea.style.height = \"auto\";\r\n    // textArea.style.height = textArea.scrollHeight + \"px\";\r\n    const btnArea = textArea.parentNode.parentNode.querySelector('.comment_btn');\r\n    btnArea.scrollIntoView();\r\n    if (newCommentContent.current && newCommentContent.current.innerText) {\r\n      const letters = newCommentContent.current.innerText.trim();\r\n      setContentComment(letters.trim());\r\n      setCounter(512 - letters.length);\r\n    } else {\r\n      setCounter(512);\r\n      setContentComment('');\r\n    }\r\n  };\r\n  const preventText = event => {\r\n    if (event.target.innerText.length === 512 && event.keyCode != 8) {\r\n      event.preventDefault();\r\n    }\r\n  };\r\n\r\n  const pasteContent = event => {\r\n    event.preventDefault();\r\n    var text = event.clipboardData.getData('text/plain');\r\n    setContentComment(text);\r\n    document.execCommand('insertHTML', false, text);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!comments || comments.length == 0) {\r\n      getComments();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (focusComment) {\r\n      setTimeout(() => {\r\n        onMoveFocusComment();\r\n      }, 100);\r\n    }\r\n  }, [focusComment]);\r\n\r\n  useEffect(() => {\r\n    const eleComment = window.visualViewport.width >= 992 ? document.querySelector(`#docsignTabContent .comment_item.comment_item_create`) : document.querySelector(`#mobileComments_Wrapper .comment_item.comment_item_create`);\r\n    if (eleComment) {\r\n      setTimeout(() => {\r\n        eleComment.scrollIntoView();\r\n      }, 100);\r\n    }\r\n  }, [newComment]);\r\n\r\n  useEffect(() => {\r\n    onMoveFocusComment();\r\n  }, [comments])\r\n\r\n  useEffect(() => {\r\n    if (newComment) {\r\n      setTimeout(() => {\r\n        if (newCommentContent) {\r\n          newCommentContent.current.focus();\r\n        }\r\n      }, 50);\r\n    }\r\n  }, [newComment]);\r\n\r\n  return (\r\n    <>\r\n      {\r\n        isLoading ? <>\r\n          <div className=\"p-2\">\r\n            <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n          </div>\r\n        </> :\r\n          <>\r\n            <ListComment currentPage={currentPage} onPageChanged={onPageChanged} comments={comments} contract={contract} setTabKey={setTabKey} currentSignerToken={currentSignerToken} />\r\n            {newComment ? (\r\n              <>\r\n                <div className=\"comment_item comment_item_create\">\r\n                  <form className=\"row px-3 pt-2\" onSubmit={e => submitNewComment(e)}>\r\n                    <div className={`col-auto ${'pr-0 pl-2'}`}>\r\n                      <div className=\"person_img_wrap\">\r\n                        {currentSigner.avatarPath ? (\r\n                          <img\r\n                            src={currentSigner.avatarPath ? currentSigner.avatarPath : ''}\r\n                            className=\"rounded-circle person_img\"\r\n                            onError={e => {\r\n                              e.target.onerror = null;\r\n                              e.target.remove();\r\n                            }}\r\n                            alt=\"\"\r\n                            loading=\"lazy\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"img_alt\">\r\n                            <span>{GeneralService.getLetterName(currentSigner.fullName)}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"comment_view\">\r\n                        <IconChatYellow />\r\n                        <span>{comments.length + 1}</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col px-2 comment_text\">\r\n                      <div className=\"wrap-typing\">\r\n                        {/* <textareaa onChange={(e) => counterLetter(e)} maxLength=\"512\" className=\"form-control overflow-hidden\" style={{ overflowY: \"hidden\" }} placeholder=\"Viết bình luận\" ref={newCommentContent} >\r\n                  </textareaa> */}\r\n                        <div onPaste={e => pasteContent(e)} onKeyDown={e => preventText(e)} onInput={e => counterLetter(e)} ref={newCommentContent} placeholder=\"Viết bình luận\" contentEditable=\"true\" className={`input-editable ${contentComment.length > 512 ? 'is-invalid' : ''}`} maxlength=\"512\"></div>\r\n                        {counter < 512 && (\r\n                          <span id=\"count\" className=\"counter\">\r\n                            ({counter})\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"comment_btn\">\r\n                        <button type=\"submit\" disabled={isSubmitting || contentComment.length == 0} className=\"btn btn_main\">\r\n                          {isSubmitting ? (\r\n                            <>\r\n                              <Spinner /> Đang gửi...{' '}\r\n                            </>\r\n                          ) : (\r\n                            'Gửi đi'\r\n                          )}\r\n                        </button>\r\n                        &nbsp;\r\n                        <button type=\"button\" className=\"btn btn_outline_main\" onClick={e => cancelNewComment(e)}>\r\n                          Hủy\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </>\r\n      }\r\n    </>\r\n  );\r\n};\r\nexport default Comments;\r\n","import { useSelector } from \"react-redux\";\r\n\r\nconst ContractDetailInformation = () => {\r\n    const { contract } = useSelector(state => state.detailContract);\r\n    const formatDate = (e) => {\r\n        const d = new Date(e);\r\n        return ('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' + d.getFullYear();\r\n    };\r\n\r\n    const showExpired = () => {\r\n        const createdDate = new Date(contract.createdTime);\r\n        const expiredDate = new Date(contract.expirationTime);\r\n        return (expiredDate - createdDate) / 86400000 < 91;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {showExpired() &&\r\n                <div className=\"mb-3\">\r\n                    <div><b>Ngày hết hạn</b></div>\r\n                    <div className=\"text-danger\">{formatDate(contract.expirationTime)}</div>\r\n                </div>\r\n            }\r\n            <div className=\"mb-3\">\r\n                <div><b>Tiêu đề</b></div>\r\n                <div>{contract.title}</div>\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <div><b>Nội dung</b></div>\r\n                <div className=\"text-editable\" contentEditable=\"true\" dangerouslySetInnerHTML={{__html: contract.content}}></div>\r\n                {/* <div className=\"text-pre-line\">{contract.content}</div> */}\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <div><b>Tập tin</b></div>\r\n                <div className=\"d-inline align-middle\">\r\n                    <img className=\"mr-1\" style={{ height: '22px' }} src=\"older/file_icon.svg\" alt=\"\" loading=\"lazy\" onError={(e) => { e.target.onerror = null; e.target.remove() }} />\r\n                    <span className=\"align-middle show-ellipsis\">{contract.fileName}</span>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default ContractDetailInformation;","import { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport { IconChatAdd, IconBoldTag } from '@Components/Icon';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ContractService from '@Services/contract';\r\nimport React, { useRef, useState, useEffect } from 'react';\r\nimport * as Axios from 'axios';\r\nimport { setCanceling, setStartComment, updateContract } from '@Redux/Actions/DetailContract';\r\nimport ContractStatus from '@Enums/contract-status';\r\nimport { setReadyForReloadStatistics } from '@Redux/Actions/Data';\r\nimport ConfirmModal from '@Components/ConfirmModal';\r\nimport printJS from 'print-js';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nconst ToolBar = ({ onCommentChanged, onAttachTagSelected }) => {\r\n  const { contract, currentSignerToken, currentSigner, isCanceling } = useSelector(state => state.detailContract);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [isPermitCancel, setIsPermitCancel] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(state => state.auth.user);\r\n\r\n  const printContract = () => {\r\n    printJS({\r\n      printable: contract.fileUrl,\r\n      type: 'pdf',\r\n      showModal: true,\r\n    });\r\n  };\r\n  const onCancelContract = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      if (user) {\r\n        dispatch(setCanceling(true));\r\n        await ContractService.cancelContract(contract.id, { contractId: parseInt(contract.id) });\r\n        dispatch(updateContract({\r\n          ...contract,\r\n          status: ContractStatus.CANCEL\r\n        }));\r\n        dispatch(setReadyForReloadStatistics(true));\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'SUCCESS_CANCEL_CONTRACT' }));\r\n      } else {\r\n        dispatch(setCanceling(true));\r\n        await ContractService.cancelContractSigner(currentSignerToken);\r\n        dispatch(updateContract({\r\n          ...contract,\r\n          status: ContractStatus.CANCEL\r\n        }));\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'SUCCESS_CANCEL_CONTRACT' }));\r\n      }\r\n      dispatch(setCanceling(false));\r\n    } catch (err) {\r\n      dispatch(setCanceling(false));\r\n    }\r\n  };\r\n\r\n  const onStartComment = () => {\r\n    dispatch(setStartComment(true));\r\n  };\r\n\r\n  function getFile(fileUrl) {\r\n    return new Promise((resolve, reject) => {\r\n      Axios.get(fileUrl, { responseType: 'blob' })\r\n        .then(res => {\r\n          resolve(res.data);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  async function dowloadContract() {\r\n    const blob = await getFile(contract.signFileUrl ? contract.signFileUrl : contract.fileUrl);\r\n    const objectUrl = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = objectUrl;\r\n    link.download = contract.fileName;\r\n    link.click();\r\n  }\r\n\r\n  // const isHasSigned = () => {\r\n  //   return (currentSigner && (contract.signerDtos.filter(item => item.email == currentSigner.email))[0].isSigned) || contract.status == ContractStatus.CANCEL || contract.status == ContractStatus.EXPIRED || contract.status == ContractStatus.COMPLETE || contract.status == ContractStatus.AUTHENTICATIONFAIL;\r\n  // }\r\n\r\n  const handleClose = () => {\r\n    dispatch(setCanceling(false));\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (contract) {\r\n      return setIsPermitCancel((currentSigner && (contract.signerDtos.filter(item => item.email == currentSigner.email))[0].isSigned) || contract.status == ContractStatus.CANCEL || contract.status == ContractStatus.EXPIRED || contract.status == ContractStatus.COMPLETE || contract.status == ContractStatus.AUTHENTICATIONFAIL);\r\n    }\r\n  }, [contract]);\r\n\r\n  return (\r\n    <>\r\n      <OverlayTrigger overlay={<Tooltip>Thêm nhận xét</Tooltip>} placement=\"top\">\r\n        {({ ref, ...triggerHandler }) => (\r\n          <a style={{ cursor: 'pointer' }} onClick={() => onStartComment(true)} id=\"add_comment_btn\" {...triggerHandler} ref={ref}>\r\n            <IconChatAdd />\r\n          </a>\r\n        )}\r\n      </OverlayTrigger>\r\n      &nbsp;\r\n      <OverlayTrigger overlay={<Tooltip>In hợp đồng</Tooltip>} placement=\"top\">\r\n        {({ ref, ...triggerHandler }) => (\r\n          <a style={{ cursor: 'pointer' }} {...triggerHandler} ref={ref} onClick={() => printContract()}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#555\" width=\"20px\" height=\"20px\">\r\n              <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n              <path d=\"M19 8H5c-1.66 0-3 1.34-3 3v4c0 1.1.9 2 2 2h2v2c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2v-2h2c1.1 0 2-.9 2-2v-4c0-1.66-1.34-3-3-3zm-4 11H9c-.55 0-1-.45-1-1v-4h8v4c0 .55-.45 1-1 1zm4-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2-9H7c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z\" />\r\n            </svg>\r\n          </a>\r\n        )}\r\n      </OverlayTrigger>\r\n      &nbsp;\r\n      <OverlayTrigger overlay={<Tooltip>Tải hợp đồng</Tooltip>} placement=\"top\">\r\n        {({ ref, ...triggerHandler }) => (\r\n          <a style={{ cursor: 'pointer' }} {...triggerHandler} ref={ref} onClick={() => dowloadContract()}>\r\n            {/* href=\"\" download */}\r\n            <svg viewBox=\"0 0 24 24\" fill=\"#555\" width=\"20px\" height=\"20px\">\r\n              <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n              <path d=\"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z\" />\r\n            </svg>\r\n          </a>\r\n        )}\r\n      </OverlayTrigger>\r\n      &nbsp;\r\n      {user && (\r\n        <OverlayTrigger overlay={<Tooltip>Danh sách thẻ</Tooltip>} placement=\"top\">\r\n          {({ ref, ...triggerHandler }) => (\r\n            <span data-toggle=\"modal\" data-target=\"#tagsModal\">\r\n              <a style={{ cursor: 'pointer' }} {...triggerHandler} ref={ref} onClick={onAttachTagSelected}>\r\n                <IconBoldTag width=\"20px\" height=\"20px\" />\r\n              </a>\r\n            </span>\r\n          )}\r\n        </OverlayTrigger>\r\n      )}\r\n      &nbsp;\r\n      {\r\n        !isPermitCancel &&\r\n        <OverlayTrigger overlay={<Tooltip>Hủy hợp đồng</Tooltip>} placement=\"top\">\r\n          {({ ref, ...triggerHandler }) => (\r\n            <a style={{ cursor: isCanceling ? 'progress' : 'pointer' }} {...triggerHandler} ref={ref} onClick={() => setShowConfirmModal(true)} >\r\n              <svg viewBox=\"0 0 24 24\" fill=\"#555\" width=\"20px\" height=\"20px\">\r\n                <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z\" />\r\n              </svg>\r\n            </a>\r\n          )}\r\n        </OverlayTrigger>\r\n      }\r\n      <ConfirmModal show={showConfirmModal} contractsName={contract.title} userName={currentSigner.fullName} onHide={handleClose} onSubmit={onCancelContract} />\r\n    </>\r\n  );\r\n};\r\nexport default ToolBar;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { IconChatRightText, IconChatYellow, IconInfoCircle, IconLeftAngle, IconPencil, IconPeople, IconRightAngle } from '@Components/Icon';\r\nimport { Comments, ContractDetailInformation, SignersInformation } from '@Containers/Contract/ContractDetail';\r\nimport { TagModal } from '@Containers/Tag';\r\nimport { setFocusComment, setNewComment, setPdfCurrentPage, setPdfTotalPages, setPreviewCurrentPage, setShowSignerModal, setStartComment, setLoadedAllPageDetail, setFocusSign, setFocusRealtimeComment } from '@Redux/Actions/DetailContract';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation } from 'react-router-dom';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { checkDevice } from '../../../../Utils/helpers';\r\nimport ToolBar from '../Toolbar';\r\nimport styles from './index.module.scss';\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst ContractDetailPDF = ({ getContracts, setTabKey, ...props }) => {\r\n  const {\r\n    contract,\r\n    comments,\r\n    newComment,\r\n    startComment,\r\n    focusComment,\r\n    focusSign,\r\n    currentSigner,\r\n    currentSignerToken,\r\n    isShowSignerModal,\r\n    focusRealtimeComment,\r\n    isLoadedAllPageDetail,\r\n    pdf: { currentPage, totalPages },\r\n    preview,\r\n  } = useSelector(state => state.detailContract);\r\n  const { user } = useSelector(state => state.auth);\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const [showTagModal, setShowTagModal] = useState(false);\r\n  const [width, setWidth] = useState(830);\r\n  const [showCommentModal, setShowCommentModal] = useState(false);\r\n  const [showInfoModal, setShowInfoModal] = useState(false);\r\n  // const [showSignerModal, setShowSignerModal] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  const previewRef = useRef(preview);\r\n  const simpleBarRef = useRef({});\r\n  const overlayRef = useRef({});\r\n  const pageRefs = useRef({});\r\n  const inputRef = useRef({});\r\n\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    dispatch(setPdfTotalPages(numPages));\r\n    const el = overlayRef.current;\r\n    if (!checkDevice()) {\r\n      setWidth(el.offsetWidth - 33);\r\n    } else {\r\n      setWidth(el.offsetWidth - 18);\r\n    }\r\n    setLoaded(true);\r\n  }\r\n\r\n  function onDocumentLoadError() {\r\n    setLoaded(true);\r\n  }\r\n\r\n  function onSubmitPage(e) {\r\n    e.preventDefault();\r\n    const page = parseInt(inputRef.current.value);\r\n    if (currentPage != page) {\r\n      dispatch(setPdfCurrentPage(page));\r\n      dispatch(setPreviewCurrentPage(page));\r\n    }\r\n  }\r\n\r\n  function goNextPage() {\r\n    dispatch(setPdfCurrentPage(currentPage + 1));\r\n    dispatch(setPreviewCurrentPage(currentPage + 1));\r\n  }\r\n\r\n  function goPreviousPage() {\r\n    dispatch(setPdfCurrentPage(currentPage - 1));\r\n    dispatch(setPreviewCurrentPage(currentPage - 1));\r\n  }\r\n\r\n  function onOverlayScroll() {\r\n    const page = getCurrentPage();\r\n    if (page != previewRef.current.currentPage) {\r\n      dispatch(setPreviewCurrentPage(page));\r\n      dispatch(setPdfCurrentPage(page));\r\n    }\r\n  }\r\n\r\n  const onAttachTagSelected = () => {\r\n    setShowTagModal(true);\r\n  };\r\n\r\n  function getCurrentPage() {\r\n    const container = overlayRef.current;\r\n    if (container) {\r\n      let currentPage = 1;\r\n      Object.keys(pageRefs.current).forEach((pageNumber, index) => {\r\n        const ele = pageRefs.current[`${pageNumber}`];\r\n        if (container.scrollTop + 10 >= ele.offsetTop) {\r\n          currentPage = index + 1;\r\n        }\r\n      });\r\n      return currentPage;\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setShowTagModal(false);\r\n  };\r\n\r\n  function moveToCurrentPage() {\r\n    const element = pageRefs.current[`${currentPage}`];\r\n    const container = overlayRef.current;\r\n    if (element) {\r\n      if (isElementOutsideView(element, container)) {\r\n        container.scrollTo(0, element.offsetTop);\r\n      }\r\n    }\r\n  }\r\n\r\n  function isElementOutsideView(element, container) {\r\n    if (element.offsetTop > container.scrollTop) {\r\n      return true;\r\n    }\r\n    if (element.offsetTop < container.scrollTop - element.offsetHeight) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function onClickPage(e, pageNumber) {\r\n    if (startComment) {\r\n      const page = pageRefs.current[`${pageNumber}`];\r\n      const pageRect = page.getBoundingClientRect();\r\n      const canvas = page.querySelector('canvas');\r\n      const rect = canvas.getBoundingClientRect();\r\n      const item = {\r\n        page: pageNumber,\r\n        x: e.pageX - Math.floor(rect.x) + (Math.floor(rect.x) - Math.floor(pageRect.x)),\r\n        y: e.pageY - Math.floor(rect.y),\r\n      };\r\n      if (item.x < Math.floor(rect.x) - Math.floor(pageRect.x) - 1 || item.x + 28 > canvas.offsetWidth + Math.floor(rect.x) - Math.floor(pageRect.x) || item.y < 0 || item.y + 28 > canvas.offsetHeight) return;\r\n\r\n      dispatch(\r\n        setNewComment({\r\n          ...item,\r\n          ...{ content: '' },\r\n        }),\r\n      );\r\n      dispatch(setStartComment(false));\r\n    }\r\n  }\r\n\r\n  function onClickSigner(e, id) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setTabKey('people');\r\n    if (!isShowSignerModal && window.visualViewport.width < 992) {\r\n      dispatch(setShowSignerModal(true));\r\n      // setShowSignerModal(true);\r\n      setTimeout(() => {\r\n        const modalSigners = document.getElementById('mobileSigners');\r\n        if (modalSigners) {\r\n          const inforSigner = modalSigners.querySelector(`.inforSigner_${id}`);\r\n          if (inforSigner) {\r\n            inforSigner.scrollIntoView({\r\n              block: 'center',\r\n            });\r\n          }\r\n        }\r\n      }, 100);\r\n    } else {\r\n      const inforSigner = document.querySelector(`.inforSigner_${id}`);\r\n      if (inforSigner) {\r\n        inforSigner.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function onLoadedPage(e, pageIndex) {\r\n    if (pageIndex + 1 == totalPages) {\r\n      dispatch(setLoadedAllPageDetail(true));\r\n      setTimeout(() => {\r\n        if (focusComment && !showCommentModal && window.visualViewport.width < 992) {\r\n          // setShowCommentModal(true);\r\n        } else if (focusComment) {\r\n          const commentPreview = document.getElementById(`comment_${focusComment.parentId ? focusComment.parentId : focusComment.id}`);\r\n          if (commentPreview) {\r\n            commentPreview.scrollIntoView({\r\n              block: 'center',\r\n            });\r\n          }\r\n        }\r\n        if (location.search) {\r\n          const arr = location.search.split('=');\r\n          if (location.search.indexOf('signerId') > -1) {\r\n            if (arr.length > 1 && focusSign) {\r\n              setTimeout(() => {\r\n                const signPos = document.getElementById(`signDetail_${arr[1]}`);\r\n                if (signPos) {\r\n                  signPos.scrollIntoView({\r\n                    block: 'center',\r\n                  });\r\n                }\r\n                setTabKey('people');\r\n                const inforSigner = document.querySelector(`.inforSigner_${arr[1]}`);\r\n                if (inforSigner) {\r\n                  inforSigner.scrollIntoView({\r\n                    block: 'center',\r\n                  });\r\n                }\r\n              }, 100);\r\n            }\r\n          } else {\r\n            const arr = location.search.split('=');\r\n            if (arr.length > 1) {\r\n              const posComment = document.getElementById(`comment_${arr[1]}`);\r\n              if (posComment) {\r\n                posComment.scrollIntoView({\r\n                  block: 'center',\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  function onMoveToSign(sign) {\r\n    setTimeout(() => {\r\n      const signPos = document.querySelector(`.signDetail_${sign.id}`);\r\n      if (signPos) {\r\n        signPos.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n      setTabKey('people');\r\n      const inforSigner = document.querySelector(`.inforSigner_${sign.id}`);\r\n      if (inforSigner) {\r\n        inforSigner.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  function onMoveToComment(comment) {\r\n    if (window.visualViewport.width < 992) {\r\n      if (!showCommentModal && comments && comments.length > 0) {\r\n        setShowCommentModal(true);\r\n      }\r\n      if (comments && comments.length > 0) {\r\n        setTimeout(() => {\r\n          const contain = document.getElementById('mobileComments');\r\n          const eleComment = contain.querySelector(`.comment_item.comment_item_${comment.parentId ? comment.parentId : comment.id}`);\r\n          if (eleComment) {\r\n            eleComment.scrollIntoView({\r\n              block: 'center',\r\n            });\r\n          }\r\n          if (!comment.latestRealtime && !comment.isPosPDF) {\r\n            const posComment = document.getElementById(`comment_${comment.parentId ? comment.parentId : comment.id}`);\r\n            if (posComment) {\r\n              posComment.scrollIntoView({\r\n                block: 'center',\r\n              });\r\n            }\r\n          }\r\n        }, 100);\r\n      }\r\n    } else {\r\n      if (!comment.latestRealtime && !comment.isPosPDF) {\r\n        setTimeout(() => {\r\n          const posComment = document.getElementById(`comment_${comment.parentId ? comment.parentId : comment.id}`);\r\n          if (posComment) {\r\n            posComment.scrollIntoView({\r\n              block: 'center',\r\n            });\r\n          }\r\n        }, 100);\r\n      }\r\n    }\r\n  }\r\n\r\n  const hideModalComment = () => {\r\n    setShowCommentModal(false);\r\n    dispatch(setFocusComment(null));\r\n  }\r\n  const moveCommentFromPDF = (comment) => {\r\n    if (focusComment && focusComment.id == comment.id) {\r\n      dispatch(setFocusComment(null));\r\n      setTimeout(() => {\r\n        dispatch(setFocusComment(comment));\r\n      }, 100);\r\n    } else {\r\n      dispatch(setFocusComment(comment));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    inputRef.current.value = currentPage;\r\n    moveToCurrentPage();\r\n  }, [currentPage]);\r\n\r\n  useEffect(() => {\r\n    if (!!focusSign) {\r\n      onMoveToSign(focusSign);\r\n    }\r\n  }, [focusSign]);\r\n\r\n  useEffect(() => {\r\n    if (isLoadedAllPageDetail && !!focusSign) {\r\n      setTimeout(() => {\r\n        onMoveToSign(focusSign);\r\n      }, 100);\r\n    }\r\n  }, [isLoadedAllPageDetail]);\r\n\r\n  useEffect(() => {\r\n    if (!!focusComment) {\r\n      onMoveToComment(focusComment);\r\n    }\r\n  }, [focusComment]);\r\n\r\n  useEffect(() => {\r\n    if (!!focusComment && !newComment) {\r\n      onMoveToComment(focusComment);\r\n    }\r\n\r\n  }, [comments]);\r\n\r\n  useEffect(() => {\r\n    if (newComment && !showCommentModal && window.visualViewport.width < 992) {\r\n      setShowCommentModal(true);\r\n      setTimeout(() => {\r\n        const contain = document.getElementById('mobileComments');\r\n        const eleNew = contain.querySelector(`.comment_item.comment_item_create`);\r\n        if (eleNew) {\r\n          eleNew.scrollIntoView({\r\n            block: 'center',\r\n          });\r\n        }\r\n      }, 100);\r\n    }\r\n  }, [newComment]);\r\n\r\n  useEffect(() => {\r\n    previewRef.current = preview;\r\n  }, [preview]);\r\n\r\n  useEffect(() => {\r\n    overlayRef.current.removeEventListener('scroll', null);\r\n    overlayRef.current.addEventListener('scroll', onOverlayScroll);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"preview_nav d-flex align-items-center row\">\r\n        <form className=\"col-auto pages_nums form-inline text-left d-none d-sm-inline-block\" onSubmit={e => onSubmitPage(e)}>\r\n          <span className=\"ml-2\">\r\n            Trang&nbsp;\r\n            <input id=\"input-page\" type=\"text\" ref={inputRef} className=\"form-control form-control-sm text-center px-2 py-1 mx-1\" defaultValue={currentPage} />/{totalPages}\r\n          </span>\r\n          <button type=\"submit\" className=\"btn\"></button>\r\n        </form>\r\n        <div className=\"col actions text-left text-sm-center pr-0\">\r\n          <ToolBar onAttachTagSelected={onAttachTagSelected}></ToolBar>\r\n          <TagModal show={showTagModal} contracts={[contract]} onHide={handleClose}></TagModal>\r\n        </div>\r\n        <div className=\"col-auto nav_btn ml-auto text-right d-none d-lg-block\">\r\n          <button className={`btn ${styles.btnControlPage}`} style={{ marginRight: 5, cursor: 'pointer' }} type=\"button\" title=\"Trang trước\" disabled={currentPage <= 1} onClick={goPreviousPage}>\r\n            <IconLeftAngle />\r\n          </button>\r\n          <button className={`btn ${styles.btnControlPage}`} type=\"button\" style={{ cursor: 'pointer' }} title=\"Trang tiếp theo\" disabled={currentPage == totalPages} onClick={goNextPage}>\r\n            <IconRightAngle />\r\n          </button>\r\n        </div>\r\n        <div className=\"col-auto nav_btn ml-auto text-right d-block d-lg-none pl-0\">\r\n          <a style={{ cursor: 'pointer' }} title=\"Thông tin\" data-toggle=\"modal\" data-target=\"#infoModal\" onClick={() => setShowInfoModal(true)}>\r\n            <IconInfoCircle />\r\n          </a>\r\n          <a style={{ cursor: 'pointer' }} title=\"Danh sách người nhận\" data-toggle=\"modal\" data-target=\"#peopleModal\" onClick={() => dispatch(setShowSignerModal(true))}>\r\n            <IconPeople />\r\n          </a>\r\n          <a style={{ cursor: 'pointer' }} title=\"Nhận xét\" data-toggle=\"modal\" data-target=\"#commentModal\" onClick={() => setShowCommentModal(true)}>\r\n            <IconChatRightText />\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div className={`preview_body p-2`}>\r\n        <SimpleBar className=\"preview-pdf-overlay\" id=\"showPDFSign\" scrollableNodeProps={{ ref: overlayRef }} ref={simpleBarRef}>\r\n          <Document loading={() => <div className=\"loader-pdf-sign\"></div>} file={contract.fileUrl} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n            {loaded &&\r\n              Array.from(new Array(totalPages), (el, pageIndex) => (\r\n                <div key={`page_${pageIndex + 1}`} className=\"pdf-page-container\" id={`pdf-detail-page-${pageIndex + 1}`} ref={ele => (pageRefs.current[`${pageIndex + 1}`] = ele)} style={{ position: 'relative' }}>\r\n                  <Page onLoadSuccess={e => onLoadedPage(e, pageIndex)} loading={() => <div className=\"loader-pdf-sign\"></div>} className={`pdf-page spliter-page ${startComment ? 'comment-icon' : ''}`} width={width} pageNumber={pageIndex + 1} onClick={e => onClickPage(e, pageIndex + 1)} />\r\n                  {isLoadedAllPageDetail ? (\r\n                    <>\r\n                      {contract.signerDtos\r\n                        .filter(item => item.page == pageIndex + 1)\r\n                        .map(item => {\r\n                          if (item.isSigned) {\r\n                            return (\r\n                              <React.Fragment key={`signer_${item.id}`}>\r\n                                {item.email == (user ? user.email : currentSigner.email) ? (\r\n                                  <div id={`signDetail_${item.email}`} className={`signature_inpreview me signed shadow-sm signDetail_${item.id}`} title=\"Đã ký\" style={{ left: `${item.x}%`, top: `${item.y}%` }} onClick={e => onClickSigner(e, item.id)}>\r\n                                    <div className=\"mx-auto\">\r\n                                      <div className=\"signer_name\">{item.fullName}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div id={`signDetail_${item.email}`} className={`signature_inpreview signed shadow-sm signDetail_${item.id}`} title=\"Đã ký\" style={{ left: `${item.x}%`, top: `${item.y}%` }} onClick={e => onClickSigner(e, item.id)}>\r\n                                    <div className=\"mx-auto\">\r\n                                      <div className=\"signer_name\">{item.fullName}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </React.Fragment>\r\n                            );\r\n                          } else {\r\n                            return (\r\n                              <React.Fragment key={`signer_${item.id}`}>\r\n                                {item.email == (user ? user.email : currentSigner.email) ? (\r\n                                  <div id={`signDetail_${item.email}`} className={`signature_inpreview  shadow-sm signDetail_${item.id}`} title=\"Chưa ký\" style={{ left: `${item.x}%`, top: `${item.y}%` }} onClick={e => onClickSigner(e, item.id)}>\r\n                                    <div className=\"mx-auto\">\r\n                                      <div className=\"signer_icon\">\r\n                                        <IconPencil />\r\n                                      </div>\r\n                                      <div className=\"signer_name\">{item.fullName}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div id={`signDetail_${item.email}`} className={`signature_inpreview me  shadow-sm signDetail_${item.id}`} title=\"Chưa ký\" style={{ left: `${item.x}%`, top: `${item.y}%` }} onClick={e => onClickSigner(e, item.id)}>\r\n                                    <div className=\"mx-auto\">\r\n                                      <div className=\"signer_icon\">\r\n                                        <IconPencil />\r\n                                      </div>\r\n                                      <div className=\"signer_name\">{item.fullName}</div>\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </React.Fragment>\r\n                            );\r\n                          }\r\n                        })}\r\n                      {comments\r\n                        .filter(item => !!item.x)\r\n                        .map((item, commentIndex) => (\r\n                          <React.Fragment key={`comment_${item.id}`}>\r\n                            {item.page == pageIndex + 1 && (\r\n                              <div id={`comment_${item.id}`} className=\"comment_inpreview\" style={{ top: `${item.y}%`, left: `${item.x}%` }} onClick={() => moveCommentFromPDF({ ...item, ...{ isPosPDF: true } })}>\r\n                                <IconChatYellow width=\"32\" height=\"32\" />\r\n                                <span>{commentIndex + 1}</span>\r\n                              </div>\r\n                            )}\r\n                          </React.Fragment>\r\n                        ))}\r\n                      {newComment && newComment.page == pageIndex + 1 && (\r\n                        <>\r\n                          <div className=\"comment_inpreview\" style={{ top: newComment.y, left: newComment.x }}>\r\n                            <IconChatYellow width=\"32\" height=\"32\" />\r\n                            <span>{comments.length + 1}</span>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  ) : (\r\n                    <></>\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </Document>\r\n        </SimpleBar>\r\n        {/* </div> */}\r\n      </div>\r\n      <Modal aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" className=\"docsign\" dialogClassName=\"modal-dialog-centered modal-dialog-scrollable\" show={showInfoModal} onHide={() => setShowInfoModal(false)}>\r\n        <Modal.Header>\r\n          <h5 className=\"modal-title\">Thông tin</h5>\r\n          <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => setShowInfoModal(false)}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </Modal.Header>\r\n        <SimpleBar className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\">\r\n            <ContractDetailInformation />\r\n          </Modal.Body>\r\n        </SimpleBar>\r\n      </Modal>\r\n\r\n      <Modal aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" className=\"docsign\" dialogClassName=\"modal-dialog-centered modal-dialog-scrollable\" show={isShowSignerModal} onHide={() => dispatch(setShowSignerModal(false))}>\r\n        <Modal.Header>\r\n          <h5 className=\"modal-title\">Danh sách người nhận</h5>\r\n          <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => dispatch(setShowSignerModal(false))}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </Modal.Header>\r\n        <SimpleBar className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\" id=\"mobileSigners\">\r\n            <SignersInformation stylePeople={props.stylePeople} />\r\n          </Modal.Body>\r\n        </SimpleBar>\r\n      </Modal>\r\n\r\n      <Modal aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" className=\"docsign\" dialogClassName=\"modal-dialog-centered modal-dialog-scrollable\" show={showCommentModal} onHide={() => setShowCommentModal(false)}>\r\n        <Modal.Header>\r\n          <h5 className=\"modal-title\">Nhận xét</h5>\r\n          <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => hideModalComment()}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </Modal.Header>\r\n        <SimpleBar id=\"mobileComments_Wrapper\" className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\" id=\"mobileComments\">\r\n            <Comments styleComment={props.styleComment} setTabKey={setTabKey} />\r\n          </Modal.Body>\r\n        </SimpleBar>\r\n      </Modal>\r\n\r\n      {/* <Modal aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" className=\"docsign\" dialogClassName=\"modal-dialog-centered modal-dialog-scrollable\" show={showCommentModal} onHide={() => setShowCommentModal(false)}>\r\n        <Modal.Header>\r\n          <h5 className=\"modal-title\">Nhận xét</h5>\r\n          <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => setShowCommentModal(false)}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </Modal.Header>\r\n        {!checkDevice() ? <SimpleBar className={`${styles.max_height_tags}`}>\r\n          <Modal.Body className=\"body-modal-tags\" id=\"mobileComments\">\r\n            <Comments styleComment={props.styleComment} />\r\n          </Modal.Body>\r\n        </SimpleBar> :\r\n          <Modal.Body id=\"mobileComments\">\r\n            <Comments styleComment={props.styleComment} />\r\n          </Modal.Body>\r\n        }\r\n      </Modal> */}\r\n\r\n      {/* <Modal aria-labelledby=\"ModalLabel\" aria-hidden=\"true\" className=\"docsign\" dialogClassName=\"modal-dialog-centered modal-dialog-scrollable\" show={showCommentModal} onHide={() => setShowCommentModal(false)}>\r\n        <Modal.Header>\r\n          <h5 className=\"modal-title\">Nhận xét</h5>\r\n          <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => setShowCommentModal(false)}>\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </Modal.Header>\r\n        <Modal.Body id=\"mobileComments\">\r\n          <Comments styleComment={props.styleComment} />\r\n        </Modal.Body>\r\n      </Modal> */}\r\n    </>\r\n  );\r\n};\r\nexport default ContractDetailPDF;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { IconChatYellow } from '@Components/Icon';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport SimpleBar from 'simplebar-react';\r\nimport { IconCheck, IconPencil } from '@Components/Icon';\r\nimport styles from './index.module.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setFocusComment, setPreviewCurrentPage, setPreviewTotalPages, setPdfCurrentPage, setLoadedAllPagePreviewDetail, setFocusSign } from '@Redux/Actions/DetailContract';\r\nimport { Spinner } from 'react-bootstrap';\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nconst ContractDetailPreview = ({ setTabKey }) => {\r\n  const {\r\n    comments,\r\n    currentSigner,\r\n    contract,\r\n    isLoadedAllPagePreviewDetail,\r\n    currentSignerToken,\r\n    preview: { currentPage, totalPages },\r\n  } = useSelector(state => state.detailContract);\r\n  const { user } = useSelector(state => state.auth);\r\n  const dispatch = useDispatch();\r\n  const [width, setWidth] = useState(73);\r\n\r\n  const pageRefs = useRef({});\r\n  const simplebarRef = useRef({});\r\n  const overlayRef = useRef({});\r\n  const [loaded, setLoaded] = useState(false);\r\n  function onDocumentLoadSuccess({ numPages }) {\r\n    dispatch(setPreviewTotalPages(numPages));\r\n    if (overlayRef.current.offsetHeight > 383) {\r\n      setWidth(overlayRef.current.offsetWidth - 35);\r\n    } else {\r\n      setWidth(overlayRef.current.offsetWidth - 19);\r\n    }\r\n    setLoaded(true);\r\n  }\r\n\r\n  function onDocumentLoadError() {\r\n    setLoaded(true);\r\n  }\r\n\r\n  const moveCommentPos = comment => {\r\n    const commentPDF = document.getElementById(`comment_${comment.id}`);\r\n    const commentCol = document.getElementById(`comment_item_${comment.id}`);\r\n    if (commentPDF) {\r\n      commentPDF.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n\r\n    if (commentCol) {\r\n      commentCol.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n  };\r\n  function movePosition(comment) {\r\n    dispatch(setFocusComment(comment));\r\n    moveCommentPos(comment);\r\n  }\r\n\r\n  function onClickPage(pageNumber) {\r\n    if (pageNumber != currentPage) {\r\n      dispatch(setPreviewCurrentPage(pageNumber));\r\n      dispatch(setPdfCurrentPage(pageNumber));\r\n    }\r\n  }\r\n\r\n  function onClickSigner(e, id) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setTabKey('people');\r\n    const signPos = document.querySelector(`.signDetail_${id}`);\r\n    if (signPos) {\r\n      signPos.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n    const inforSigner = document.querySelector(`.inforSigner_${id}`);\r\n    if (inforSigner) {\r\n      inforSigner.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n  }\r\n\r\n  function moveToCurrentPage() {\r\n    const element = pageRefs.current[`${currentPage}`];\r\n    const container = overlayRef.current;\r\n    if (element && container) {\r\n      container.scrollTo(0, element.offsetTop - (container.offsetHeight - element.offsetHeight - 36));\r\n    }\r\n  }\r\n  function onLoadedPage(e, pageIndex) {\r\n    if (pageIndex + 1 == totalPages) {\r\n      dispatch(setLoadedAllPagePreviewDetail(true));\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    moveToCurrentPage();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage]);\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"col-1 pages p-2 d-none d-lg-block pdf-preview-overlay\" ref={simplebarRef} onScroll={onOverlayScroll}> */}\r\n      <SimpleBar className={`${styles.detail_preview} col-1 pages p-2 d-none d-lg-block pdf-preview-overlay`} ref={simplebarRef} scrollableNodeProps={{ ref: overlayRef }}>\r\n        <Document loading={() => <div className=\"loader-pdf-sign-preview\"></div>} file={contract.fileUrl} options={{ workerSrc: '/pdf.worker.js' }} onLoadSuccess={onDocumentLoadSuccess} onLoadError={onDocumentLoadError}>\r\n          {loaded &&\r\n            Array.from(new Array(totalPages), (el, pageIndex) => (\r\n              <div key={`page_${pageIndex + 1}`} className=\"pdf-page-container\" id={`pdf-detail-preview-${pageIndex + 1}`} ref={ele => (pageRefs.current[`${pageIndex + 1}`] = ele)}>\r\n                <Page onLoadSuccess={e => onLoadedPage(e, pageIndex)} loading=\"\" className={`pdf-page spliter-page-preview page-item ${styles.spliterPage} ${pageIndex + 1 == currentPage ? `${styles.page_active}` : ''}`} width={width} pageNumber={pageIndex + 1} onClick={() => onClickPage(pageIndex + 1)}>\r\n                  {isLoadedAllPagePreviewDetail ? <>\r\n                    <div className=\"si_area\">\r\n                      {contract.signerDtos.map(item => {\r\n                        if (item.page == pageIndex + 1) {\r\n                          return (\r\n                            <React.Fragment key={`signer_${item.id}`}>\r\n                              {item.isSigned ? (\r\n                                <>\r\n                                  <div onClick={e => onClickSigner(e, item.id)} className={`signature_icon signed ${item.email == (user ? user.email : currentSigner.email) ? '' : 'me'} `}>\r\n                                    <IconCheck />\r\n                                  </div>\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <div onClick={e => onClickSigner(e, item.id)} className={`signature_icon ${item.email == (user ? user.email : currentSigner.email) ? '' : 'me'} `}>\r\n                                    <IconPencil />\r\n                                  </div>\r\n                                </>\r\n                              )}\r\n                            </React.Fragment>\r\n                          );\r\n                        }\r\n                        return <React.Fragment key={`signer_${item.id}`}></React.Fragment>;\r\n                      })}\r\n                    </div>\r\n                    {comments &&\r\n                      comments\r\n                        .filter(item => !!item.x)\r\n                        .map((item, commentIndex) => (\r\n                          <React.Fragment key={`comment_${item.id}`}>\r\n                            {item.page == pageIndex + 1 && (\r\n                              <div className=\"comment_inpreview\" style={{ top: item.y < 85 ? `${item.y}%` : '85%', left: item.x < 87 ? `${item.x}%` : '87%' }} onClick={() => movePosition(item)}>\r\n                                <IconChatYellow width=\"12\" height=\"12\" />\r\n                                <span style={{ fontSize: 6 }}>{commentIndex + 1}</span>\r\n                              </div>\r\n                            )}\r\n                          </React.Fragment>\r\n                        ))}\r\n                  </> : <></>}\r\n                </Page>\r\n              </div>\r\n            ))}\r\n        </Document>\r\n      </SimpleBar>\r\n      {/* </div> */}\r\n    </>\r\n  );\r\n};\r\nexport default ContractDetailPreview;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport Socket from '@Utils/socket';\r\nimport { get } from '@Utils/cookie';\r\nimport { addNewNotification, removeNotification, addComment, addChildComment, setComments, resetData, updateComments, setShowSignerModal, setFocusSign } from '@Redux/Actions/DetailContract';\r\nimport { IconPencil, IconFileText, IconChatRightText } from '@Components/Icon';\r\nimport { actionDesc, letterNameChar, timeDesc } from '@Utils/helpers';\r\nimport { setPdfCurrentPage, setPreviewCurrentPage } from '@Redux/Actions/DetailContract';\r\nimport { setFocusComment, setFocusRealtimeComment } from '@Redux/Actions/DetailContract';\r\nimport ContractService from '@Services/contract';\r\nimport CommentService from '@Services/comment';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { updateContract, setCurrentSigner, setNotificationsUnread } from '@Redux/Actions/DetailContract';\r\nimport { SOCKET_ACTION } from '@Enums/socket';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport { setIsDisconnect } from '@Redux/Actions/Data';\r\n\r\nconst NotificationIcon = ({ notify }) => {\r\n  switch (notify.type) {\r\n    case 'COMMENT':\r\n      if (notify.data.parentId) {\r\n        return <IconChatRightText />;\r\n      } else {\r\n        return <IconFileText />;\r\n      }\r\n    default:\r\n      return <IconPencil />;\r\n  }\r\n};\r\n\r\nconst NotificationTime = ({ notify }) => {\r\n  const [time, setTime] = useState(timeDesc(new Date(notify.createdTime)));\r\n  let timeout;\r\n\r\n  useEffect(() => {\r\n    const today = new Date();\r\n    const createdDate = new Date(notify.createdTime);\r\n\r\n    if (today.getDate() != createdDate.getDate()) {\r\n      const d = new Date(notify.createdTime);\r\n      setTime(('0' + d.getDate()).slice(-2) + '/' + ('0' + (d.getMonth() + 1)).slice(-2) + '/' + d.getFullYear());\r\n    } else {\r\n      timeout = setInterval(() => {\r\n        setTime(timeDesc(new Date(notify.createdTime)));\r\n      }, 1000);\r\n      return () => {\r\n        clearInterval(timeout);\r\n      };\r\n    }\r\n  }, []);\r\n  return <>{time}</>;\r\n};\r\n\r\nconst CommentNotification = ({ notify, onHide, setTabKey }) => {\r\n  const { user } = useSelector(state => state.auth);\r\n  const location = useLocation();\r\n  const {\r\n    contract,\r\n    currentSignerToken,\r\n    isShowSignerModal,\r\n    focusSign,\r\n    pdf: { currentPage },\r\n  } = useSelector(state => state.detailContract);\r\n  const dispatch = useDispatch();\r\n  const markedNoti = async notify => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        if (user) {\r\n          await ContractService.markNotiContractUser(contract.id, notify.id);\r\n          if (notify.type == 'COMMENT') {\r\n            await CommentService.markCommentUser(notify.data.id);\r\n            dispatch(updateComments({ id: notify.data.id }));\r\n            if (location.search && location.search.indexOf('signerId') > -1) {\r\n              setTabKey('comments');\r\n            }\r\n          }\r\n        } else {\r\n          await ContractService.markNotiContractSigner(currentSignerToken, notify.id);\r\n          if (notify.type == 'COMMENT') {\r\n            await CommentService.markCommentSigner(currentSignerToken, notify.data.id);\r\n            dispatch(updateComments({ id: notify.data.id }));\r\n            if (location.search && location.search.indexOf('signerId') > -1) {\r\n              setTabKey('comments');\r\n            }\r\n          }\r\n        }\r\n        resolve(true);\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, contractName: contract.title }));\r\n      }\r\n    });\r\n  };\r\n\r\n  const moveCommentPos = comment => {\r\n    if (comment && comment.id) {\r\n      const signPos = document.getElementById(`comment_${comment.parentId ? comment.parentId : comment.id}`);\r\n      if (signPos) {\r\n        signPos.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const moveSignPos = sign => {\r\n    if (sign) {\r\n      const signPos = document.getElementById(`signDetail_${sign.user ? sign.user.email : sign.signer.email}`);\r\n      if (signPos) {\r\n        signPos.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n      setTabKey('people');\r\n      if (window.visualViewport.width < 992) {\r\n        if (!isShowSignerModal && window.visualViewport.width < 992) {\r\n          dispatch(setShowSignerModal(true));\r\n          setTimeout(() => {\r\n            const modalSigners = document.getElementById('mobileSigners');\r\n            if (modalSigners) {\r\n              const inforSigner = modalSigners.querySelector(`.inforSigner_${sign.user ? sign.user.id : sign.signer.id}`);\r\n              if (inforSigner) {\r\n                inforSigner.scrollIntoView({\r\n                  block: 'center',\r\n                });\r\n              }\r\n            }\r\n          }, 100);\r\n        } else {\r\n          const inforSigner = document.querySelector(`.inforSigner_${sign.user ? sign.user.id : sign.signer.id}`);\r\n          if (inforSigner) {\r\n            inforSigner.scrollIntoView({\r\n              block: 'center',\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  async function onMove(e, notify) {\r\n    if (notify.type == 'COMMENT') {\r\n      dispatch(setFocusComment(notify.data));\r\n      moveCommentPos(notify.data);\r\n      await markedNoti(notify);\r\n      onHide(notify);\r\n    } else {\r\n      moveSignPos(notify.data);\r\n      await markedNoti(notify);\r\n      onHide(notify);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!notify.status && (\r\n        <a onClick={e => onMove(e, notify)} style={{ cursor: 'pointer' }} id={notify.id} className=\"noti_item unread shadow\">\r\n          <div onClick={e => onMove(e, notify)} className=\"fn_close\">\r\n            &times;\r\n          </div>\r\n          <div className=\"row mx-0 px-1\">\r\n            <div className=\"col-auto pr-0 pl-2\">\r\n              <div className=\"person_img_wrap\">\r\n                {(notify.data.user && notify.data.user.avatarPath) || (notify.data.signer && notify.data.signer.avatarPath) ? (\r\n                  <img\r\n                    src={notify.data.user && notify.data.user.avatarPath ? notify.data.user.avatarPath : notify.data.signer.avatarPath}\r\n                    className=\"rounded-circle person_img\"\r\n                    alt=\"\"\r\n                    loading=\"lazy\"\r\n                    onError={e => {\r\n                      e.target.onerror = null;\r\n                      e.target.remove();\r\n                    }}\r\n                    alt=\"\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"img_alt\">\r\n                    <span>{letterNameChar(notify.data.user ? notify.data.user.fullName : notify.data.signer.fullName)}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"noti_sicon\">\r\n                <NotificationIcon key={`notification_detail_icon_${notify.id}`} notify={notify} />\r\n              </div>\r\n            </div>\r\n            <div className=\"col noti_text\">\r\n              <div>\r\n                <div className=\"noti_name\">\r\n                  {notify.data.user ? notify.data.user.fullName : notify.data.signer.fullName} - {notify.contractName}\r\n                </div>\r\n                <div className=\"noti_content\"> {notify.type == 'COMMENT' ? notify.data.content : notify.contractContent}</div>\r\n              </div>\r\n              <div className=\"noti_meta\">\r\n                <span>{actionDesc(notify)}:</span>{' '}\r\n                <span className=\"time\">\r\n                  <NotificationTime key={`notification_detail_time_${notify.id}`} notify={notify} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst SingleNotification = ({ notify, onHide, setTabKey }) => {\r\n  switch (notify.type) {\r\n    case 'COMMENT':\r\n      return <CommentNotification setTabKey={setTabKey} key={`notification_detail_icon_${notify.id}`} notify={notify} onHide={onHide} />;\r\n    case 'SIGN':\r\n      return <CommentNotification setTabKey={setTabKey} key={`notification_detail_icon_${notify.id}`} notify={notify} onHide={onHide} />;\r\n    default:\r\n      return <></>;\r\n  }\r\n};\r\n\r\nconst ContractDetailNotifications = ({ setTabKey }) => {\r\n  const {\r\n    notifications,\r\n    currentSignerToken,\r\n    contract,\r\n    currentSigner,\r\n    focusSign,\r\n    focusComment,\r\n    pdf: { currentPage },\r\n  } = useSelector(state => state.detailContract);\r\n  const contractRef = useRef(contract);\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const currentSignerRef = useRef(currentSigner);\r\n  const user = useSelector(state => state.auth.user);\r\n\r\n  function onHide(notify) {\r\n    const dom = document.getElementById(notify.id);\r\n    if (dom) {\r\n      dom.classList.add('fadeOut');\r\n      setTimeout(() => {\r\n        dispatch(removeNotification(notify.id));\r\n        dom.classList.remove('fadeOut');\r\n      }, 350);\r\n    }\r\n  }\r\n  const convertComments = comments => {\r\n    return comments.map(cmt => {\r\n      if (cmt.childCommentDtos) {\r\n        return {\r\n          ...cmt,\r\n          ...{ childCommentDtos: convertComments(cmt.childCommentDtos) },\r\n        };\r\n      } else {\r\n        return {\r\n          ...cmt,\r\n          ...{ childCommentDtos: [] },\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  const getComments = () => {\r\n    if (user) {\r\n      CommentService.list(contract.id)\r\n        .then(res => {\r\n          dispatch(setComments(convertComments(res.data)));\r\n        })\r\n        .catch(err => {});\r\n    } else {\r\n      CommentService.listCommentSigner(currentSignerToken)\r\n        .then(res => {\r\n          dispatch(setComments(convertComments(res.data)));\r\n        })\r\n        .catch(err => {});\r\n    }\r\n  };\r\n\r\n  const getNotificationsUnread = async () => {\r\n    try {\r\n      const contractId = contract.id;\r\n      const res = user ? await ContractService.notificationsUnreadUser(contractId, { isRead: false }) : await ContractService.notificationsUnreadSigner(currentSignerToken, { isRead: false });\r\n      let isNewest = false;\r\n      dispatch(setNotificationsUnread([]));\r\n      res.data.forEach((notify, index) => {\r\n        const notifyData = {\r\n          id: notify.commentId,\r\n          content: notify.commentContent,\r\n          parentId: notify.commentParentId ? notify.commentParentId : null,\r\n          x: notify.commentX || null,\r\n          y: notify.commentY || null,\r\n          page: notify.commentPage || null,\r\n          signer: notify.signerId\r\n            ? {\r\n                id: notify.signerId ? notify.signerId : null,\r\n                fullName: notify.signerFullName ? notify.signerFullName : '',\r\n                email: notify.signerEmail ? notify.signerEmail : '',\r\n                avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n              }\r\n            : null,\r\n          user: notify.userId\r\n            ? {\r\n                id: notify.userId ? notify.userId : null,\r\n                fullName: notify.userName || '',\r\n                email: notify.userEmail || '',\r\n                avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n              }\r\n            : null,\r\n          childCommentDtos: [],\r\n          createdTime: new Date(notify.commentCreatedTime).toISOString() || new Date(notify.createdTime).toISOString(),\r\n          // watched: false,\r\n          isRead: false,\r\n        };\r\n        const notification = {\r\n          id: notify.id,\r\n          type: notify.type,\r\n          createdTime: new Date(notify.createdTime).toISOString(),\r\n          contractId: notify.contractId,\r\n          contractName: notify.contractName,\r\n          contractContent: notify.contractContent,\r\n          data: notifyData,\r\n          status: notify.status,\r\n        };\r\n        // Start scroll tới comment mới nhất chưa đọc\r\n        if (!isNewest && !focusComment && notify.type == 'COMMENT' && !(location.search.indexOf('signerId') > -1 || location.search.indexOf('commentId') > -1)) {\r\n          isNewest = true;\r\n          dispatch(setFocusComment(notifyData));\r\n          dispatch(setPdfCurrentPage(notifyData.page));\r\n          dispatch(setPreviewCurrentPage(notifyData.page));\r\n        }\r\n        // End scroll tới comment mới nhất chưa đọc\r\n        dispatch(addNewNotification(notification));\r\n      });\r\n    } catch (err) {\r\n      // dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    contractRef.current = contract;\r\n  }, [contract]);\r\n\r\n  useEffect(async () => {\r\n    const token = currentSignerToken ? currentSignerToken : get('digital_signature_token');\r\n    Socket.startConnect(token, () => {\r\n      Socket.connection.emit('notify', {\r\n        type: SOCKET_ACTION.JOIN_CONTRACT_DETAIL,\r\n        contractId: contract.id,\r\n      });\r\n      Socket.connection.on('disconnect', () => {\r\n        // dispatch(setIsDisconnect(true));\r\n        getComments();\r\n        getNotificationsUnread();\r\n      });\r\n    });\r\n    Socket.onNotify(notify => {\r\n      if (notify.contractId == contract.id && ((notify.signerId && notify.signerId != currentSignerRef.current.id) || (notify.userId && notify.userId != currentSignerRef.current.id))) {\r\n        let notifyData = null;\r\n        if ((notify.type == 'COMMENT' || notify.type == 'SIGN') && !notify.isDashboard) {\r\n          if (notifications.filter(item => notify.id == item.id).length == 0) {\r\n            switch (notify.type) {\r\n              case 'COMMENT':\r\n                notifyData = {\r\n                  id: notify.commentId,\r\n                  content: notify.commentContent,\r\n                  parentId: notify.commentParentId ? notify.commentParentId : null,\r\n                  x: notify.commentX || null,\r\n                  y: notify.commentY || null,\r\n                  page: notify.commentPage || null,\r\n                  signer: notify.signerId\r\n                    ? {\r\n                        id: notify.signerId ? notify.signerId : null,\r\n                        fullName: notify.signerFullName ? notify.signerFullName : '',\r\n                        email: notify.signerEmail ? notify.signerEmail : '',\r\n                        avatarPath: notify.userAvatar,\r\n                      }\r\n                    : null,\r\n                  user: notify.userId\r\n                    ? {\r\n                        id: notify.userId ? notify.userId : null,\r\n                        fullName: notify.userName || '',\r\n                        email: notify.userEmail || '',\r\n                        avatarPath: notify.userAvatar,\r\n                      }\r\n                    : null,\r\n                  childCommentDtos: [],\r\n                  createdTime: new Date(notify.commentCreatedTime).toISOString() || new Date(notify.createdTime).toISOString(),\r\n                  isRead: false,\r\n                };\r\n                break;\r\n              case 'SIGN':\r\n                notifyData = {\r\n                  id: notify.signerId,\r\n                  signer: notify.signerId\r\n                    ? {\r\n                        id: notify.signerId ? notify.signerId : null,\r\n                        fullName: notify.signerFullName ? notify.signerFullName : '',\r\n                        email: notify.signerEmail ? notify.signerEmail : '',\r\n                        avatarPath: notify.userAvatar,\r\n                      }\r\n                    : null,\r\n                  user: notify.userId\r\n                    ? {\r\n                        id: notify.userId ? notify.userId : null,\r\n                        fullName: notify.userName || '',\r\n                        email: notify.userEmail || '',\r\n                        avatarPath: notify.userAvatar,\r\n                      }\r\n                    : null,\r\n                  createdTime: new Date(notify.createdTime).toISOString(),\r\n                  isRead: false,\r\n                };\r\n                break;\r\n              default:\r\n                notifyData = {};\r\n            }\r\n\r\n            const notification = {\r\n              id: notify.id,\r\n              type: notify.type,\r\n              createdTime: new Date(notify.createdTime).toISOString(),\r\n              contractId: notify.contractId,\r\n              contractName: notify.contractName,\r\n              contractContent: notify.contractContent,\r\n              data: notifyData,\r\n              status: notify.status,\r\n            };\r\n            dispatch(addNewNotification(notification));\r\n            if (notification.type == 'COMMENT') {\r\n              const cmt = { ...notification.data, ...{ latestRealtime: true } };\r\n              dispatch(setFocusComment(cmt));\r\n              // dispatch(setFocusRealtimeComment(cmt));\r\n              if (notification.data.parentId) {\r\n                dispatch(addChildComment(cmt));\r\n              } else {\r\n                dispatch(addComment(cmt));\r\n              }\r\n              if (location.search && location.search.indexOf('signerId') > -1) {\r\n                setTabKey('comments');\r\n              }\r\n            }\r\n            if (notify.type == 'SIGN') {\r\n              const signerDtos = contractRef.current.signerDtos.map(item => {\r\n                if (item.email == (notify.userEmail ? notify.userEmail : notify.signerEmail)) {\r\n                  return { ...item, ...{ isSigned: true } };\r\n                } else {\r\n                  return item;\r\n                }\r\n              });\r\n              if (currentSigner.email == (notify.userEmail ? notify.userEmail : notify.signerEmail)) {\r\n                dispatch(setCurrentSigner({ ...currentSigner, ...{ isSigned: true, signedTime: new Date() } }));\r\n              }\r\n              dispatch(updateContract({ ...contract, ...{ signerDtos: signerDtos } }));\r\n            }\r\n            \r\n          }\r\n        } else if (notify.type == 'CANCEL' || notify.type == 'EXPIRED' || notify.type == 'EXPIRED' || notify.type == 'AUTHENTICATIONFAIL') {\r\n          dispatch(updateContract({ ...contract, ...{ status: notify.type } }));\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      console.log(Socket.connection);\r\n      Socket.connection.removeListener('notify');\r\n      Socket.connection.removeListener('disconnect');\r\n      Socket.connection.emit('notify', {\r\n        type: SOCKET_ACTION.LEAVE_CONTRACT_DETAIL,\r\n        contractId: contract.id,\r\n      });\r\n      dispatch(resetData());\r\n    };\r\n  }, []);\r\n\r\n  function onMoveComment(comment) {\r\n    if (comment && comment.id) {\r\n      const signPos = document.getElementById(`comment_${comment.id}`);\r\n      if (signPos) {\r\n        signPos.scrollIntoView({\r\n          block: 'center',\r\n        });\r\n      }\r\n    }\r\n    if (comment.page != currentPage) {\r\n      dispatch(setPdfCurrentPage(comment.page));\r\n      dispatch(setPreviewCurrentPage(comment.page));\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    currentSignerRef.current = currentSigner;\r\n  }, [currentSigner]);\r\n  return (\r\n    <>\r\n      {notifications\r\n        .filter(n => n.type && !n.status)\r\n        .map((n, index) => (\r\n          <React.Fragment key={`notification_detail_${n.id}`}>\r\n            {window.innerHeight < window.innerWidth && window.innerHeight < 500 ? <>{index < 3 && <SingleNotification notify={n} onHide={onHide} setTabKey={setTabKey} />}</> : <>{index < 5 && <SingleNotification notify={n} onHide={onHide} setTabKey={setTabKey} />}</>}\r\n          </React.Fragment>\r\n        ))}\r\n    </>\r\n  );\r\n};\r\nexport default ContractDetailNotifications;\r\n","import { IconCheckGreen } from '@Components/Icon';\r\nimport { IconEmailSign } from '@Components/Icon';\r\nimport { useSelector } from 'react-redux';\r\nimport GeneralService from '@Services/general';\r\nconst SignersInformation = () => {\r\n  const { contract } = useSelector(state => state.detailContract);\r\n\r\n  const countSigned = signers => {\r\n    return signers.filter(s => s.isSigned).length;\r\n  };\r\n\r\n  const onClickSigner = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const signPos = document.querySelector(`.signDetail_${id}`);\r\n    if (signPos) {\r\n      signPos.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {contract && contract.signerDtos && (\r\n        <>\r\n          {countSigned(contract.signerDtos) > 0 && (\r\n            <div className=\"sign_progress text-center\" style={{ width: `${(countSigned(contract.signerDtos) / contract.signerDtos.length) * 100}%` }}>\r\n              {countSigned(contract.signerDtos)}/{contract.signerDtos.length} Đã ký\r\n            </div>\r\n          )}\r\n          {contract.signerDtos.map(item => {\r\n            return (\r\n              <div className=\"signer_item\" key={`signer_${item.id}`} onClick={e => onClickSigner(e, item.id)}>\r\n                <div className={`row px-3 py-2 inforSigner_${item.id}`} >\r\n                  <div className=\"col-auto pr-0 pl-2\">\r\n                    <div className=\"person_img_wrap\">\r\n                      {\r\n                        item.avatarPath ?\r\n                          <img\r\n                            src={item.avatarPath ? item.avatarPath : ''}\r\n                            className=\"rounded-circle person_img\"\r\n                            onError={e => {\r\n                              e.target.onerror = null;\r\n                              e.target.remove();\r\n                            }}\r\n                            alt=\"\"\r\n                            loading=\"lazy\"\r\n                          /> :\r\n                          <div className=\"img_alt\">\r\n                            <span>{GeneralService.getLetterName(item.fullName)}</span>\r\n                          </div>\r\n                      }\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col px-2 person_text\">\r\n                    <div className=\"person_name\">\r\n                      <span>{item.fullName}</span>\r\n                      {item.isSigned && (\r\n                        <span className=\"float-right done_icon\">\r\n                          <IconCheckGreen />\r\n                        </span>\r\n                      )}\r\n                      <div className=\"clearfix\"></div>\r\n                    </div>\r\n                    <div className=\"person_meta person_email\">\r\n                      <IconEmailSign />\r\n                      <span title=\"nguyentranquynhphuong1235813@gmail.com\">{item.email}</span>\r\n                    </div>\r\n                    {item.companyName ? (\r\n                      <div className=\"person_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" enableBackground=\"new 0 0 24 24\" viewBox=\"0 0 24 24\" fill=\"#777\" width=\"18px\" height=\"18px\">\r\n                          <g>\r\n                            <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n                            <rect fill=\"none\" height=\"24\" width=\"24\" />\r\n                          </g>\r\n                          <g>\r\n                            <path d=\"M17,11V5c0-1.1-0.9-2-2-2H9C7.9,3,7,3.9,7,5v2H5C3.9,7,3,7.9,3,9v10c0,1.1,0.9,2,2,2h5c0.55,0,1-0.45,1-1v-3h2v3 c0,0.55,0.45,1,1,1h5c1.1,0,2-0.9,2-2v-6c0-1.1-0.9-2-2-2H17z M7,19H5v-2h2V19z M7,15H5v-2h2V15z M7,11H5V9h2V11z M11,15H9v-2h2V15 z M11,11H9V9h2V11z M11,7H9V5h2V7z M15,15h-2v-2h2V15z M15,11h-2V9h2V11z M15,7h-2V5h2V7z M19,19h-2v-2h2V19z M19,15h-2v-2h2V15z\" />\r\n                          </g>\r\n                        </svg>\r\n                        <span>{item.companyName}</span>\r\n                      </div>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n\r\n                    <div className=\"person_meta\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#777\" width=\"18px\" height=\"18px\">\r\n                        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                        <path d=\"M12.65 10C11.7 7.31 8.9 5.5 5.77 6.12c-2.29.46-4.15 2.29-4.63 4.58C.32 14.57 3.26 18 7 18c2.61 0 4.83-1.67 5.65-4H17v2c0 1.1.9 2 2 2s2-.9 2-2v-2c1.1 0 2-.9 2-2s-.9-2-2-2h-8.35zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\" />\r\n                      </svg>\r\n                      <span>MST: {item.taxCode}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default SignersInformation;\r\n","import { Comments, ContractDetailInformation, ContractDetailPDF, ContractDetailPreview, ContractDetailNotifications, SignersInformation } from '@Containers/Contract/ContractDetail';\r\nimport { useEffect, useState } from 'react';\r\nimport { Nav, NavItem, NavLink, TabContainer, TabContent, TabPane } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { IconChatRightText, IconInfoCircle, IconPeople } from '@Components/Icon';\r\nimport ContractService from '@Services/contract';\r\nimport * as Axios from 'axios';\r\nimport ToolUsb from '@Services/toolUsb';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { setContract, updateContract, setCurrentSigner, setCurrentSignerToken, addNewNotification } from '@Redux/Actions/DetailContract';\r\nimport SimpleBar from 'simplebar-react';\r\nimport GeneralService from '@Services/general';\r\nimport ContractStatus from '@Enums/contract-status';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { setFocusComment, setPdfCurrentPage, setPreviewCurrentPage, setFocusSign } from '@Redux/Actions/DetailContract';\r\nimport { setInstallToolModal } from '@Redux/Actions/InstallToolModal';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport { useLocation } from 'react-router-dom';\r\nPageContractPublic.defaultProps = {\r\n  stylePeople: 'px-3 row py-2',\r\n  styleComment: 'row px-3 pt-2',\r\n};\r\n\r\nfunction PageContractPublic(props) {\r\n  const location = useLocation();\r\n  const { contract, comments, currentSigner, newComment, focusComment, currentSignerToken, isCanceling, isLoadedAllPageDetail, isLoadedAllPagePreviewDetail } = useSelector(state => state.detailContract);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const [keyTab, setTabKey] = useState('detail');\r\n\r\n  const getFile = () => {\r\n    return new Promise((resolve, reject) => {\r\n      Axios.get(contract.fileUrl, { responseType: 'blob' })\r\n        .then(res => {\r\n          resolve(res.data);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    });\r\n  };\r\n\r\n  const onSendSign = (value, fileName) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const data = {\r\n          pemCert: value.pemCert,\r\n          signed: value.signed,\r\n          base64CertificateChain: value.base64CertificateChain,\r\n          fileName: fileName,\r\n        };\r\n        await ContractService.signContractSigner(currentSignerToken, data);\r\n        resolve(true);\r\n      } catch (err) {\r\n        reject(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  const moveSignaturePos = () => {\r\n    const signPos = document.getElementById(`signDetail_${currentSigner.email}`);\r\n    if (signPos) {\r\n      signPos.scrollIntoView({ block: 'center' });\r\n      contract.signerDtos.forEach(item => {\r\n        if (item.email == currentSigner.email) {\r\n          dispatch(setFocusSign(item));\r\n        }\r\n      })\r\n    }\r\n    setTabKey('people');\r\n    const inforSigner = document.querySelector(`.inforSigner_${currentSigner.id}`);\r\n    if (inforSigner) {\r\n      inforSigner.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n  };\r\n  const onDataToSign = async data => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const obj = {\r\n          contractId: contract.id,\r\n          pemCert: data.pemCert,\r\n          base64CertificateChain: data.base64CertificateChain,\r\n        };\r\n        const res = await ContractService.dataToSignSigner(currentSignerToken, obj);\r\n        resolve(res);\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      }\r\n    });\r\n  };\r\n  const signTool = async data => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const token = await handleInfor();\r\n        const obj = {\r\n          dataToSign: data.dataToSign,\r\n          taxCode: currentSigner.taxCode,\r\n        };\r\n        const res = await ToolUsb.signContract(token, obj);\r\n        resolve(res);\r\n      } catch (err) {\r\n        if (err == 'WRONG_TAX_CODE') {\r\n          await ContractService.updateAuthorSigner(currentSignerToken);\r\n        }\r\n        reject(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loopSign = dataToSign => {\r\n    return new Promise(async (resolve, reject) => {\r\n      let count = 0;\r\n      let success = false;\r\n      let error = '';\r\n      while (count < 5) {\r\n        try {\r\n          const resToSign = await onDataToSign(dataToSign.data);\r\n          const resSignTool = await signTool(resToSign.data);\r\n          const resSign = await onSendSign(resSignTool.data, resToSign.data.fileName);\r\n          count = 5;\r\n          success = true;\r\n          error = '';\r\n        } catch (err) {\r\n          error = err;\r\n          success = false;\r\n          if (err == 'WRONG_TAX_CODE' || err == 'CANCELLED_BY_USER') {\r\n            count = 5;\r\n          } else {\r\n            count = count + 1;\r\n          }\r\n        }\r\n      }\r\n      if (!success) {\r\n        reject(error);\r\n      } else {\r\n        resolve(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSign = async () => {\r\n    try {\r\n      moveSignaturePos();\r\n      setIsRequesting(true);\r\n      const token = await handleInfor();\r\n      const dataToSign = await ToolUsb.getDataToSign(token);\r\n      await loopSign(dataToSign);\r\n      const signerDtos = contract.signerDtos.map(item => {\r\n        if (item.email == currentSigner.email) {\r\n          return { ...item, ...{ isSigned: true } };\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      dispatch(updateContract({ ...contract, ...{ signerDtos: signerDtos } }));\r\n      dispatch(setCurrentSigner({ ...currentSigner, ...{ isSigned: true, signedTime: new Date() } }));\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contract.title, type: 'SUCCESS_SIGN_CONTRACT', color: 'green' }))\r\n    } catch (err) {\r\n      switch (err) {\r\n        case 'WRONG_TAX_CODE':\r\n          dispatch(updateContract({ ...contract, ...{ status: 'AUTHENTICATIONFAIL' } }));\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contract.title, color: 'purple', type: 'ERROR_AUTHOR', message: 'Sai mã số thuế.' }));\r\n          break;\r\n        case 'CANCELLED_BY_USER':\r\n          break;\r\n        case 'NOT_TOOL':\r\n          dispatch(setInstallToolModal({ isShow: true, userName: currentSigner.fullName }));\r\n          break;\r\n        case 'NOT_USBTOKEN':\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ATTACH_USBTOKEN_SIGN' }));\r\n          break;\r\n        default:\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\" }));\r\n          break;\r\n      }\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n\r\n  const checkTool = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      ToolUsb.getToken()\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        })\r\n      setTimeout(() => {\r\n        reject('NOT_TOOL');\r\n      }, 1000);\r\n    })\r\n  }\r\n\r\n  const handleInfor = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        // const resToken = await ToolUsb.getToken();\r\n        const resToken = await checkTool();\r\n        const token = resToken.data;\r\n        const checkUSB = await ToolUsb.getCheckUsb(token);\r\n        if (checkUSB.message.toUpperCase() == 'DISCONNECTED') {\r\n          reject('NOT_USBTOKEN');\r\n        } else {\r\n          resolve(token);\r\n        }\r\n      } catch (err) {\r\n        reject('NOT_TOOL');\r\n      }\r\n    });\r\n  };\r\n\r\n  const getSigner = async token => {\r\n    try {\r\n      const res = await ContractService.inforSigner(token);\r\n      dispatch(setCurrentSigner(res.data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  const getNotificationsUnread = async () => {\r\n    try {\r\n      const token = props.match.params.slug;\r\n      const res = await ContractService.notificationsUnreadSigner(token, { isRead: false });\r\n      res.data.forEach((notify, index) => {\r\n        const notifyData = {\r\n          id: notify.commentId,\r\n          content: notify.commentContent,\r\n          parentId: notify.commentParentId ? notify.commentParentId : null,\r\n          x: notify.commentX || null,\r\n          y: notify.commentY || null,\r\n          page: notify.commentPage || null,\r\n          signer: notify.signerId\r\n            ? {\r\n              id: notify.signerId ? notify.signerId : null,\r\n              fullName: notify.signerFullName ? notify.signerFullName : '',\r\n              email: notify.signerEmail ? notify.signerEmail : '',\r\n              avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n            }\r\n            : null,\r\n          user: notify.userId\r\n            ? {\r\n              id: notify.userId ? notify.userId : null,\r\n              fullName: notify.userName || '',\r\n              email: notify.userEmail || '',\r\n              avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n            }\r\n            : null,\r\n          childCommentDtos: [],\r\n          createdTime: new Date(notify.commentCreatedTime).toISOString() || new Date(notify.createdTime).toISOString(),\r\n          // watched: false,\r\n          isRead: false,\r\n        };\r\n        const notification = {\r\n          id: notify.id,\r\n          type: notify.type,\r\n          createdTime: new Date(notify.createdTime).toISOString(),\r\n          contractId: notify.contractId,\r\n          contractName: notify.contractName,\r\n          contractContent: notify.contractContent,\r\n          data: notifyData,\r\n          status: notify.status,\r\n        };\r\n        // Start scroll tới comment mới nhất\r\n        if (index == 0 && !focusComment && !(location.search.indexOf('signerId') > -1 || location.search.indexOf('commentId') > -1)) {\r\n          dispatch(setFocusComment(notifyData));\r\n          dispatch(setPdfCurrentPage(notifyData.page));\r\n          dispatch(setPreviewCurrentPage(notifyData.page));\r\n        }\r\n        // End\r\n        dispatch(addNewNotification(notification));\r\n      });\r\n    } catch (err) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n    }\r\n  };\r\n  const getContracts = async () => {\r\n    try {\r\n      const token = props.match.params.slug;\r\n      dispatch(setCurrentSignerToken(token));\r\n      const res = await ContractService.detailContractSigner(token);\r\n      dispatch(setContract(res.data));\r\n      getSigner(token);\r\n      // if (location.search && location.search.indexOf('signerId') > -1) {\r\n      //   res.data.signerDtos.forEach(item => {\r\n      //     if (item.id == (location.search.split('='))[1]) {\r\n      //       dispatch(setFocusSign(item));\r\n      //     }\r\n      //   })\r\n      // }\r\n    } catch (err) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      history.push('/trang-chu');\r\n    }\r\n  };\r\n\r\n  const isHasSigned = () => {\r\n    return (currentSigner && currentSigner.isSigned) || contract.status == ContractStatus.CANCEL || contract.status == ContractStatus.EXPIRED || contract.status == ContractStatus.COMPLETE || contract.status == ContractStatus.AUTHENTICATIONFAIL;\r\n  };\r\n  const countComments = () => {\r\n    let sum = 0;\r\n    if (comments && comments.length > 0) {\r\n      comments.forEach(comment => {\r\n        sum += 1;\r\n        if (comment.childCommentDtos && comment.childCommentDtos.length > 0) {\r\n          sum += comment.childCommentDtos.length;\r\n        }\r\n      });\r\n    }\r\n    return sum;\r\n  };\r\n\r\n  const moveSingFromLink = () => {\r\n    if (location.search) {\r\n      const arr = location.search.split('=');\r\n      if (arr.length > 0 && location.search.indexOf('signerId') > -1) {\r\n        setTimeout(() => {\r\n          if (contract) {\r\n            contract.signerDtos.forEach(item => {\r\n              if (item.id == arr[1]) {\r\n                dispatch(setFocusSign(item))\r\n              }\r\n            })\r\n          }\r\n        }, 100)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.title = 'MContract';\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (newComment) {\r\n      setTabKey('comments');\r\n    }\r\n  }, [newComment]);\r\n\r\n  useEffect(() => {\r\n    if (focusComment && focusComment.id) {\r\n      setTabKey('comments');\r\n    }\r\n  }, [focusComment]);\r\n  useEffect(() => {\r\n    moveSingFromLink();\r\n  }, [contract]);\r\n  useEffect(() => {\r\n    getContracts();\r\n    getNotificationsUnread();\r\n    if (location.search) {\r\n      if (location.search.indexOf('commentId') > -1) {\r\n        setTabKey('comments')\r\n      }\r\n      if (location.search.indexOf('signerId') > -1) {\r\n        setTabKey('people')\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {contract && currentSigner ? (\r\n        <>\r\n          <div className={`docsign ${isHasSigned() ? 'has-signed' : ''} ${isCanceling ? 'pointer-canceling' : ''}`} >\r\n            <header className=\"docsign_header\">\r\n              <div className=\"top_border\"></div>\r\n              <div className=\"container-fluid header_text\">\r\n                <div className=\"row\">\r\n                  <div className=\"col px-5 d-flex align-items-center\">\r\n                    <div className=\"d-none d-md-block company_name w-100 text-center pl-2\">{contract.company.name}</div>\r\n                  </div>\r\n                  <div className=\"col px-5 d-flex align-items-center\">\r\n                    <div className=\"d-none d-md-block w-100 text-center pr-2\">\r\n                      <span className=\"d-inline-block px-2\">Điện thoại: {contract.company.phoneNumber ? contract.company.phoneNumber : contract.userCreate.phoneNumber}</span>\r\n                      <span className=\"d-inline-block px-2\">Email: {contract.company.email ? contract.company.email : contract.userCreate.email}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"logo_wrap shadow-sm\">\r\n                <img\r\n                  src={contract.company.logoPath ? contract.company.logoPath : ''}\r\n                  onError={e => {\r\n                    e.target.onerror = null;\r\n                    e.target.remove();\r\n                  }}\r\n                  alt=\"\"\r\n                />\r\n                <div className=\"img_alt\">\r\n                  <span>{GeneralService.getLetterName(contract.company.name)}</span>\r\n                </div>\r\n              </div>\r\n            </header>\r\n\r\n            <main className=\"docsign_main mt-4\">\r\n              <div className=\"main_wrap container-fluid\">\r\n                <div className=\"row contract_name\">\r\n                  <h1 className=\"w-100\">{contract.title}</h1>\r\n                </div>\r\n                <div className=\"container-fluid p-0\">\r\n                  <div className=\"row\">\r\n                    <ContractDetailPreview setTabKey={setTabKey.bind(this)}></ContractDetailPreview>\r\n                    <div className=\"col doc_preview p-0\">\r\n                      <ContractDetailPDF getContracts={getContracts} setTabKey={setTabKey.bind(this)} />\r\n                    </div>\r\n                    <div className=\"d-none d-lg-block col-auto info_tabs p-0\">\r\n                      <TabContainer\r\n                        defaultActiveKey=\"detail\"\r\n                        activeKey={keyTab}\r\n                        onSelect={k => {\r\n                          setTabKey(k);\r\n                        }}\r\n                      >\r\n                        <Nav variant=\"pills\" className=\"nav-fill nav-justified\" role=\"tablist\">\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"detail\" title=\"Thông tin\" id=\"detail-tab\" role=\"tab\" aria-controls=\"home\">\r\n                              <IconInfoCircle />\r\n                            </NavLink>\r\n                          </NavItem>\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"people\" title=\"Danh sách người nhận\" id=\"people-tab\" role=\"tab\" aria-controls=\"profile\">\r\n                              <IconPeople />\r\n                              &nbsp;\r\n                              <span>({contract.signerDtos.length})</span>\r\n                            </NavLink>\r\n                          </NavItem>\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"comments\" title=\"Nhận xét\" id=\"comments-tab\" role=\"tab\" aria-controls=\"contact\">\r\n                              <IconChatRightText />\r\n                              &nbsp;\r\n                              <span>({countComments()})</span>\r\n                            </NavLink>\r\n                          </NavItem>\r\n                        </Nav>\r\n                        <SimpleBar id=\"docsignTabContent\">\r\n                          <TabContent>\r\n                            <TabPane eventKey=\"detail\" className=\"p-3\" aria-labelledby=\"home-tab\">\r\n                              <ContractDetailInformation />\r\n                            </TabPane>\r\n                            <TabPane eventKey=\"people\" aria-labelledby=\"profile-tab\">\r\n                              <SignersInformation />\r\n                            </TabPane>\r\n                            <TabPane eventKey=\"comments\" className=\"pb-2\" aria-labelledby=\"contact-tab\">\r\n                              <Comments setTabKey={setTabKey.bind(this)} />\r\n                            </TabPane>\r\n                          </TabContent>\r\n                        </SimpleBar>\r\n                      </TabContainer>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </main>\r\n            <div className=\"float_noti\">\r\n              <ContractDetailNotifications setTabKey={setTabKey.bind(this)} />\r\n            </div>\r\n            <footer>\r\n              {!isHasSigned() && (\r\n                <div className=\"sign_btn text-center\">\r\n                  <button disabled={isRequesting} className=\"btn btn_site my-2\" onClick={() => onSign()}>\r\n                    {isRequesting ? (\r\n                      <>\r\n                        <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                      </>\r\n                    ) : (\r\n                      <>Ký Hợp đồng</>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <div className=\"footer_text d-flex align-items-center\">\r\n                <div className=\"w-100 text-center\">\r\n                  <span className=\"d-none d-md-inline\">Hệ thống ký hợp đồng điện tử được phát triển bởi</span> Công ty TNHH Dịch Vụ Công Nghệ Trực Tuyến\r\n                </div>\r\n              </div>\r\n            </footer>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport { PageContractPublic };\r\n","import { IconArrowLeft, IconChatRightText, IconInfoCircle, IconPeople } from '@Components/Icon';\r\nimport { Comments, ContractDetailInformation, ContractDetailPDF, ContractDetailPreview, ContractDetailNotifications, SignersInformation } from '@Containers/Contract/ContractDetail';\r\nimport { TagModal } from '@Containers/Tag';\r\nimport { addNewNotification, setComments } from '@Redux/Actions/DetailContract';\r\nimport { setContract, updateContract, setCurrentSigner } from '@Redux/Actions/DetailContract';\r\nimport ContractService from '@Services/contract';\r\nimport ToolUsb from '@Services/toolUsb';\r\nimport { useEffect, useState } from 'react';\r\nimport { Nav, NavItem, NavLink, Spinner, TabContainer, TabContent, TabPane } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SimpleBar from 'simplebar-react';\r\nimport GeneralService from '@Services/general';\r\nimport ContractStatus from '@Enums/contract-status';\r\nimport { setFocusComment, setPdfCurrentPage, setPreviewCurrentPage, setFocusSign, setNotificationsUnread } from '@Redux/Actions/DetailContract';\r\nimport { setReadyForReloadStatistics } from '@Redux/Actions/Data';\r\nimport { setReadyForReloading as setReadyForReloadNewContract } from '@Redux/Actions/NewContract';\r\nimport { setReadyForReloading as setReadyForReloadListContract } from '@Redux/Actions/ListContract';\r\nimport { setInstallToolModal } from '@Redux/Actions/InstallToolModal';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { setNotifications } from '@Redux/Actions/Notification';\r\nPageContractPrivate.defaultProps = {\r\n  stylePeople: 'px-3 row py-2',\r\n  styleComment: 'row px-3 pt-2',\r\n};\r\n\r\nfunction PageContractPrivate(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { user } = useSelector(state => state.auth);\r\n  const { contract, comments, currentSigner, newComment, focusComment, focusSign, isCanceling, isLoadedAllPageDetail, isLoadedAllPagePreviewDetail } = useSelector(state => state.detailContract);\r\n  const dispatch = useDispatch();\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const [loadedPreviewPDF, setLoadedPreviewPDF] = useState(isLoadedAllPagePreviewDetail);\r\n  const [loadedDetailPDF, setLoadedDetailPDF] = useState(isLoadedAllPageDetail);\r\n  const [tabKey, setTabKey] = useState('detail');\r\n  const { isGlobalSigning } = useSelector(state => state.listContracts);\r\n  const onSendSign = async (value, fileName) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const data = {\r\n          contractId: contract.id,\r\n          pemCert: value.pemCert,\r\n          signed: value.signed,\r\n          base64CertificateChain: value.base64CertificateChain,\r\n          fileName: fileName,\r\n        };\r\n        await ContractService.signContract(data);\r\n        resolve(true);\r\n      } catch (err) {\r\n        reject(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  const moveSignaturePos = () => {\r\n    const signPos = document.getElementById(`signDetail_${user.email}`);\r\n    if (signPos) {\r\n      signPos.scrollIntoView({ block: 'center' });\r\n      contract.signerDtos.forEach(item => {\r\n        if (item.email == user.email) {\r\n          dispatch(setFocusSign(item));\r\n          // dispatch(setPdfCurrentPage(item.page));\r\n          // dispatch(setPreviewCurrentPage(item.page));\r\n        }\r\n      })\r\n      // signPos.scrollIntoView({\r\n      //   block: 'center',\r\n      // });\r\n    }\r\n    setTabKey('people');\r\n    const inforSigner = document.querySelector(`.inforSigner_${user.id}`);\r\n    if (inforSigner) {\r\n      inforSigner.scrollIntoView({\r\n        block: 'center',\r\n      });\r\n    }\r\n  };\r\n\r\n  const onDataToSign = async data => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const obj = {\r\n          contractId: contract.id,\r\n          pemCert: data.pemCert,\r\n          base64CertificateChain: data.base64CertificateChain,\r\n        };\r\n        const res = await ContractService.dataToSign(obj);\r\n        resolve(res);\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      }\r\n    });\r\n  };\r\n\r\n  const signTool = async data => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        const token = await handleInfor();\r\n        const obj = {\r\n          dataToSign: data.dataToSign,\r\n          taxCode: currentSigner.company.taxCode,\r\n        };\r\n        const res = await ToolUsb.signContract(token, obj);\r\n        resolve(res);\r\n      } catch (err) {\r\n        if (err == 'WRONG_TAX_CODE') {\r\n          await ContractService.updateAuthorUser(contract.id);\r\n        }\r\n        reject(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loopSign = (dataToSign) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      let count = 0;\r\n      let success = false;\r\n      let error = '';\r\n      while (count < 5) {\r\n        try {\r\n          const resToSign = await onDataToSign(dataToSign.data);\r\n          const resSignTool = await signTool(resToSign.data);\r\n          const resSign = await onSendSign(resSignTool.data, resToSign.data.fileName);\r\n          count = 5;\r\n          success = true;\r\n          error = '';\r\n        } catch (err) {\r\n          error = err;\r\n          success = false;\r\n          if (err == 'WRONG_TAX_CODE' || err == 'CANCELLED_BY_USER') {\r\n            count = 5\r\n          } else {\r\n            count = count + 1;\r\n          }\r\n        }\r\n      }\r\n      if (!success) {\r\n        reject(error);\r\n      } else {\r\n        resolve(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onSign = async () => {\r\n    try {\r\n      moveSignaturePos();\r\n      setIsRequesting(true);\r\n      const token = await handleInfor();\r\n      const dataToSign = await ToolUsb.getDataToSign(token);\r\n      await loopSign(dataToSign);\r\n      if (user) {\r\n        const signerDtos = contract.signerDtos.map(item => {\r\n          if (item.email == user.email) {\r\n            return { ...item, ...{ isSigned: true } };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        dispatch(updateContract({ ...contract, ...{ signerDtos: signerDtos } }));\r\n      }\r\n      dispatch(setCurrentSigner({ ...currentSigner, ...{ isSigned: true, signedTime: new Date() } }));\r\n      //\r\n      dispatch(setReadyForReloadNewContract(true));\r\n      dispatch(setReadyForReloadListContract(true));\r\n      dispatch(setReadyForReloadStatistics(true));\r\n      //\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contract.title, type: 'SUCCESS_SIGN_CONTRACT', color: 'green' }))\r\n    } catch (err) {\r\n      switch (err) {\r\n        case 'WRONG_TAX_CODE':\r\n          dispatch(updateContract({ ...contract, ...{ status: 'AUTHENTICATIONFAIL' } }));\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), contractName: contract.title, color: 'purple', type: 'ERROR_AUTHOR', message: 'Sai mã số thuế.' }));\r\n          break;\r\n        case 'CANCELLED_BY_USER':\r\n          break;\r\n        case 'NOT_TOOL':\r\n          dispatch(setInstallToolModal({ isShow: true, userName: user.fullName }));\r\n          break;\r\n        case 'NOT_USBTOKEN':\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ATTACH_USBTOKEN_SIGN' }));\r\n          break;\r\n        default:\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\" }));\r\n          break;\r\n      }\r\n\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  };\r\n  const checkTool = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      ToolUsb.getToken()\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        })\r\n      setTimeout(() => {\r\n        reject('NOT_TOOL');\r\n      }, 1000);\r\n    })\r\n  }\r\n\r\n  const handleInfor = () => {\r\n    return new Promise(async (resolve, reject) => {\r\n      try {\r\n        // const resToken = await ToolUsb.getToken();\r\n        const resToken = await checkTool();\r\n        const token = resToken.data;\r\n        const checkUSB = await ToolUsb.getCheckUsb(token);\r\n        if (checkUSB.message.toUpperCase() == 'DISCONNECTED') {\r\n          reject('NOT_USBTOKEN');\r\n        } else {\r\n          resolve(token);\r\n        }\r\n      } catch (err) {\r\n        reject('NOT_TOOL');\r\n      }\r\n    });\r\n  };\r\n\r\n  const getNotificationsUnread = async () => {\r\n    try {\r\n      const contractId = props.match.params.slug;\r\n      const res = await ContractService.notificationsUnreadUser(contractId, { isRead: false });\r\n      let isNewest = false;\r\n      res.data.forEach((notify, index) => {\r\n        const notifyData = {\r\n          id: notify.commentId,\r\n          content: notify.commentContent,\r\n          parentId: notify.commentParentId ? notify.commentParentId : null,\r\n          x: notify.commentX || null,\r\n          y: notify.commentY || null,\r\n          page: notify.commentPage || null,\r\n          signer: notify.signerId\r\n            ? {\r\n              id: notify.signerId ? notify.signerId : null,\r\n              fullName: notify.signerFullName ? notify.signerFullName : '',\r\n              email: notify.signerEmail ? notify.signerEmail : '',\r\n              avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n            }\r\n            : null,\r\n          user: notify.userId\r\n            ? {\r\n              id: notify.userId ? notify.userId : null,\r\n              fullName: notify.userName || '',\r\n              email: notify.userEmail || '',\r\n              avatarPath: notify.userAvatar ? notify.userAvatar : '',\r\n            }\r\n            : null,\r\n          childCommentDtos: [],\r\n          createdTime: new Date(notify.commentCreatedTime).toISOString() || new Date(notify.createdTime).toISOString(),\r\n          // watched: false,\r\n          isRead: false,\r\n        };\r\n        const notification = {\r\n          id: notify.id,\r\n          type: notify.type,\r\n          createdTime: new Date(notify.createdTime).toISOString(),\r\n          contractId: notify.contractId,\r\n          contractName: notify.contractName,\r\n          contractContent: notify.contractContent,\r\n          data: notifyData,\r\n          status: notify.status,\r\n        };\r\n        // Start scroll tới comment mới nhất chưa đọc\r\n        if (!isNewest && !focusComment && notify.type == 'COMMENT' && !(location.search.indexOf('signerId') > -1 || location.search.indexOf('commentId') > -1)) {\r\n          isNewest = true;\r\n          dispatch(setFocusComment(notifyData));\r\n          dispatch(setPdfCurrentPage(notifyData.page));\r\n          dispatch(setPreviewCurrentPage(notifyData.page));\r\n        }\r\n        // End scroll tới comment mới nhất chưa đọc\r\n        dispatch(addNewNotification(notification));\r\n      });\r\n    } catch (err) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n    }\r\n  };\r\n\r\n  const getContracts = async () => {\r\n    try {\r\n      const contractId = props.match.params.slug;\r\n      const res = await ContractService.detailContractUser(contractId);\r\n      dispatch(setContract(res.data));\r\n      dispatch(setCurrentSigner(user));\r\n      if (location.search && location.search.indexOf('signerId') > -1) {\r\n        res.data.signerDtos.forEach(item => {\r\n          if (item.id == (location.search.split('='))[1]) {\r\n            dispatch(setFocusSign(item));\r\n          }\r\n        })\r\n      }\r\n    } catch (err) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      history.push('/trang-chu');\r\n    }\r\n  };\r\n\r\n  const isHasSigned = () => {\r\n    return (\r\n      (currentSigner && contract.signerDtos.filter(item => item.email == currentSigner.email)[0].isSigned) || contract.status == ContractStatus.CANCEL || contract.status == ContractStatus.EXPIRED || contract.status == ContractStatus.COMPLETE || contract.status == ContractStatus.AUTHENTICATIONFAIL\r\n    );\r\n  };\r\n  const countComments = () => {\r\n    let sum = 0;\r\n    if (comments && comments.length > 0) {\r\n      comments.forEach(comment => {\r\n        sum += 1;\r\n        if (comment.childCommentDtos && comment.childCommentDtos.length > 0) {\r\n          sum += comment.childCommentDtos.length;\r\n        }\r\n      });\r\n    }\r\n    return sum;\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = 'MContract';\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (newComment) {\r\n      setTabKey('comments');\r\n    }\r\n  }, [newComment]);\r\n\r\n  useEffect(() => {\r\n    if (focusComment && focusComment.id) {\r\n      setTabKey('comments');\r\n    }\r\n  }, [focusComment]);\r\n  useEffect(() => {\r\n    setLoadedPreviewPDF(isLoadedAllPagePreviewDetail);\r\n    setLoadedDetailPDF(isLoadedAllPageDetail);\r\n  }, [isLoadedAllPagePreviewDetail, isLoadedAllPageDetail]);\r\n\r\n  useEffect(() => {\r\n    getContracts();\r\n    getNotificationsUnread();\r\n    if (location.search) {\r\n      if (location.search.indexOf('commentId') > -1) {\r\n        setTabKey('comments')\r\n      }\r\n      if (location.search.indexOf('signerId') > -1) {\r\n        setTabKey('people')\r\n      }\r\n    }\r\n    return () => {\r\n      dispatch(setContract(null));\r\n      dispatch(setComments([]));\r\n      dispatch(setNotificationsUnread([]));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {contract && currentSigner ? (\r\n        <>\r\n          <div className={`docsign ${isHasSigned() ? 'has-signed' : ''} ${isCanceling ? 'pointer-canceling' : ''}`} >\r\n            <header className=\"docsign_header\">\r\n              <div className=\"top_border\"></div>\r\n              {user && (\r\n                <div className=\"back_btn\">\r\n                  <a onClick={history.goBack} className=\"btn btn_back\" title=\"Quay lại\">\r\n                    <IconArrowLeft />\r\n                  </a>\r\n                </div>\r\n              )}\r\n              <div className=\"container-fluid header_text\">\r\n                <div className=\"row\">\r\n                  <div className=\"col px-5 d-flex align-items-center\">\r\n                    <div className=\"d-none d-md-block company_name w-100 text-center pl-2\">{contract.company.name}</div>\r\n                  </div>\r\n                  <div className=\"col px-5 d-flex align-items-center\">\r\n                    <div className=\"d-none d-md-block w-100 text-center pr-2\">\r\n                      <span className=\"d-inline-block px-2\">Điện thoại: {contract.company.phoneNumber ? contract.company.phoneNumber : contract.userCreate.phoneNumber}</span>\r\n                      <span className=\"d-inline-block px-2\">Email: {contract.company.email ? contract.company.email : contract.userCreate.email}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"logo_wrap shadow-sm\">\r\n                <img\r\n                  src={contract.company.logoPath ? contract.company.logoPath : ''}\r\n                  onError={e => {\r\n                    e.target.onerror = null;\r\n                    e.target.remove();\r\n                  }}\r\n                  alt=\"\"\r\n                  loading=\"lazy\"\r\n                />\r\n                <div className=\"img_alt\">\r\n                  <span>{GeneralService.getLetterName(contract.company.name)}</span>\r\n                </div>\r\n              </div>\r\n            </header>\r\n\r\n            <main className=\"docsign_main mt-4\">\r\n              <div className=\"main_wrap container-fluid\">\r\n                <div className=\"row contract_name\">\r\n                  <h1 className=\"w-100\">{contract.title}</h1>\r\n                </div>\r\n                <div className=\"container-fluid p-0\">\r\n                  <div className=\"row\">\r\n                    <ContractDetailPreview setTabKey={setTabKey.bind(this)}></ContractDetailPreview>\r\n                    <div className=\"col doc_preview p-0\">\r\n                      <ContractDetailPDF getContracts={getContracts} setTabKey={setTabKey.bind(this)} />\r\n                    </div>\r\n                    <div className=\"d-none d-lg-block col-auto info_tabs p-0\">\r\n                      <TabContainer\r\n                        defaultActiveKey=\"detail\"\r\n                        activeKey={tabKey}\r\n                        onSelect={k => {\r\n                          setTabKey(k);\r\n                        }}\r\n                      >\r\n                        <Nav variant=\"pills\" className=\"nav-fill nav-justified\" role=\"tablist\">\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"detail\" title=\"Thông tin\" id=\"detail-tab\" role=\"tab\" aria-controls=\"home\">\r\n                              <IconInfoCircle />\r\n                            </NavLink>\r\n                          </NavItem>\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"people\" title=\"Danh sách người nhận\" id=\"people-tab\" role=\"tab\" aria-controls=\"profile\">\r\n                              <IconPeople />\r\n                              &nbsp;\r\n                              <span>({contract.signerDtos.length})</span>\r\n                            </NavLink>\r\n                          </NavItem>\r\n                          <NavItem>\r\n                            <NavLink eventKey=\"comments\" title=\"Nhận xét\" id=\"comments-tab\" role=\"tab\" aria-controls=\"contact\">\r\n                              <IconChatRightText />\r\n                              &nbsp;\r\n                              <span>({countComments()})</span>\r\n                            </NavLink>\r\n                          </NavItem>\r\n                        </Nav>\r\n                        <SimpleBar id=\"docsignTabContent\">\r\n                          <TabContent>\r\n                            <TabPane eventKey=\"detail\" className=\"p-3\" aria-labelledby=\"home-tab\">\r\n                              <ContractDetailInformation />\r\n                            </TabPane>\r\n                            <TabPane eventKey=\"people\" aria-labelledby=\"profile-tab\">\r\n                              <SignersInformation />\r\n                            </TabPane>\r\n                            <TabPane eventKey=\"comments\" className=\"pb-2\" aria-labelledby=\"contact-tab\">\r\n                              <Comments setTabKey={setTabKey.bind(this)} />\r\n                            </TabPane>\r\n                          </TabContent>\r\n                        </SimpleBar>\r\n                      </TabContainer>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </main>\r\n            <div className=\"float_noti\">\r\n              <ContractDetailNotifications setTabKey={setTabKey.bind(this)} />\r\n            </div>\r\n            <footer>\r\n              {!isHasSigned() && (\r\n                <div className=\"sign_btn text-center\">\r\n                  {window.visualViewport.width < 992 ? <>\r\n                    <button disabled={isRequesting || !loadedDetailPDF || isGlobalSigning} className=\"btn btn_site my-2\" onClick={() => onSign()}>\r\n                      {isRequesting ? (\r\n                        <>\r\n                          <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                        </>\r\n                      ) : (\r\n                        <>Ký Hợp đồng</>\r\n                      )}\r\n                    </button>\r\n                  </> : <>\r\n                    <button disabled={isRequesting || !loadedPreviewPDF || !loadedDetailPDF || isGlobalSigning} className=\"btn btn_site my-2\" onClick={() => onSign()}>\r\n                      {isRequesting ? (\r\n                        <>\r\n                          <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                        </>\r\n                      ) : (\r\n                        <>Ký Hợp đồng</>\r\n                      )}\r\n                    </button>\r\n                  </>\r\n                  }\r\n                </div>\r\n              )}\r\n              <div className=\"footer_text d-flex align-items-center\">\r\n                <div className=\"w-100 text-center\">\r\n                  <span className=\"d-none d-md-inline\">Hệ thống ký hợp đồng điện tử được phát triển bởi</span> Công ty TNHH Dịch Vụ Công Nghệ Trực Tuyến\r\n                </div>\r\n              </div>\r\n            </footer>\r\n            {/* <TabsModal contract={contract} /> */}\r\n            <TagModal contracts={[contract]} />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport { PageContractPrivate };\r\n","export default __webpack_public_path__ + \"static/media/login.f17fd677.svg\";","export default __webpack_public_path__ + \"static/media/logo_v.09dcd009.webp\";","import { AUTH_ACTION } from \"@Consts/action\";\r\n\r\nfunction setUser(user) {\r\n   return {\r\n      type: AUTH_ACTION.SET_USER,\r\n      payload: user,\r\n   };\r\n}\r\nfunction setLoadingProfile(val) {\r\n   return {\r\n      type: AUTH_ACTION.SET_LOADING_PROFILE,\r\n      payload: val,\r\n   };\r\n}\r\n\r\nfunction setLoggedOut() {\r\n   return {\r\n      type: AUTH_ACTION.SET_LOGGED_OUT\r\n   }\r\n}\r\n\r\nexport { setUser, setLoadingProfile, setLoggedOut };\r\n","import login from \"@/assets/images/login.svg\";\r\nimport logo_v from \"@/assets/images/logo_v.webp\";\r\nimport AuthService from \"@Services/auth\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { setUser } from \"@Redux/Actions/Auth\";\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\n\r\nconst SECONDS = 60;\r\n\r\nfunction PageLoginCode() {\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors },\r\n   } = useForm();\r\n   const [isRequesting, setIsRequesting] = useState(false);\r\n   const location = useLocation();\r\n   const history = useHistory();\r\n   const dispatch = useDispatch();\r\n   const [error, setError] = useState('');\r\n   const [timeGetCode, setTimeGetCode] = useState(SECONDS);\r\n   const onSubmit = async (value) => {\r\n      try {\r\n         setIsRequesting(true);\r\n         value.otp = value.otp.trim();\r\n         const data = { ...location.state, ...value };\r\n         const verifyRes = await AuthService.enterCodeLogin(data);\r\n         AuthService.saveToken(verifyRes.data);\r\n         const profileRes = await AuthService.profile();\r\n         dispatch(setUser(profileRes.data));\r\n         history.push(\"/trang-chu\");\r\n      } catch (err) {\r\n         dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      } finally {\r\n         setIsRequesting(false);\r\n      }\r\n   }\r\n\r\n   const onGetCode = async () => {\r\n      if (timeGetCode == 60 || timeGetCode == 0) {\r\n         setTimeGetCode(SECONDS);\r\n         try {\r\n            await AuthService.login(location.state);\r\n         } catch (err) {\r\n            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n         } finally {\r\n         }\r\n\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      document.title = \"MContract\"\r\n   }, []);\r\n\r\n   useEffect(() => {\r\n      if (!timeGetCode) return;\r\n      const intervalId = setInterval(() => {\r\n         setTimeGetCode(timeGetCode - 1);\r\n      }, 1000);\r\n      return () => clearInterval(intervalId);\r\n   }, [timeGetCode]);\r\n\r\n   return (\r\n      <div className=\"container-fluid main_wrapper\" style={{ background: \"#FFF\", minHeight: \"100vh\" }}>\r\n         <div className=\"row\">\r\n            <div className=\"col-12 col-lg pl-0 d-none d-lg-block\">\r\n               <div className=\"site_left\">\r\n                  <div className=\"site_left_wrapper\">\r\n                     <div className=\"site_left_content\">\r\n                        <img className=\"img-fluid\" src={login} alt=\"\" loading=\"lazy\" />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div className=\"col-12 col-lg site_right\">\r\n               <div className=\"site_form\">\r\n                  <div className=\"text-center\">\r\n                     <a href=\"javascript:void(0)\" title=\"MContract \">\r\n                        <img className=\"site_logo img-fluid\" alt=\"\" src={logo_v} loading=\"lazy\" />\r\n                     </a>\r\n                  </div>\r\n                  <h1 className=\"site_title\" style={{ marginBottom: \"15px\", textAlign: \"center\" }}>\r\n                     Nhập mã code đã nhận được từ email\r\n                  </h1>\r\n                  <form onSubmit={handleSubmit(onSubmit)}>\r\n                     <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control text-center pr-0\" placeholder=\"Nhập mã code\" autoComplete=\"off\" {...register(\"otp\", { required: true })} />\r\n                        {errors.otp && errors.otp?.type === \"required\" && <span className=\"d-flex message-errors\">Mời nhập mã code nhận được</span>}\r\n                        {/* {error && <span className=\"message-errors\">{error}</span>} */}\r\n                     </div>\r\n                     <div className=\"form_btn text-center mt-4\">\r\n                        <a onClick={() => history.goBack()} className=\"btn btn_sec1 back_btn\">\r\n                           Quay lại\r\n                        </a>\r\n                        <button disabled={isRequesting} className=\"btn btn_pri1 submit_btn\">\r\n                           {isRequesting ? (\r\n                              <>\r\n                                 <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                              </>\r\n                           ) : (\r\n                              <>Xác nhận</>\r\n                           )}\r\n                        </button>\r\n                     </div>\r\n                     {\r\n                        timeGetCode != 0 ?\r\n                           <p className=\"mt-4 a-button text-center\">Gửi lại mã code sau: {timeGetCode}s</p>\r\n                           :\r\n                           <p className=\"mt-4 a-button text-center\"> <a type=\"button\" className=\"again-code\" onClick={() => onGetCode()}>Gửi lại mã code</a></p>\r\n                     }\r\n                  </form>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport { PageLoginCode };\r\n","import login from \"@/assets/images/login.svg\";\r\nimport logo_v from \"@/assets/images/logo_v.webp\";\r\nimport AuthService from \"@Services/auth\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { setUser } from \"@Redux/Actions/Auth\";\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nconst SECONDS = 60;\r\n\r\nfunction PageSignupCode(props) {\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors },\r\n   } = useForm();\r\n   const [isRequesting, setIsRequesting] = useState(false);\r\n   const [timeGetCode, setTimeGetCode] = useState(SECONDS);\r\n   const history = useHistory();\r\n   const location = useLocation();\r\n   const dispatch = useDispatch();\r\n\r\n   const onSubmit = async (value) => {\r\n      try {\r\n         setIsRequesting(true);\r\n         value.otp = value.otp.trim();\r\n         const data = { ...location.state, ...value };\r\n         const verifyRes = await AuthService.enterCodeRegister(data);\r\n         AuthService.saveToken(verifyRes.data);\r\n         dispatch(setUser(verifyRes.data));\r\n         history.push(\"/cap-nhat-thong-tin\");\r\n      } catch (err) {\r\n         dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      } finally {\r\n         setIsRequesting(false);\r\n      }\r\n   }\r\n\r\n   const onGetCode = async () => {\r\n      if (timeGetCode == 60 || timeGetCode == 0) {\r\n         setTimeGetCode(SECONDS);\r\n         try {\r\n            await AuthService.signup(location.state);\r\n         } catch (err) {\r\n            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n         } finally {\r\n         }\r\n\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      document.title = \"MContract\"\r\n   }, []);\r\n\r\n   useEffect(() => {\r\n      if (!timeGetCode) return;\r\n      const intervalId = setInterval(() => {\r\n         setTimeGetCode(timeGetCode - 1);\r\n      }, 1000);\r\n      return () => clearInterval(intervalId);\r\n   }, [timeGetCode]);\r\n\r\n   return (\r\n      <div className=\"container-fluid main_wrapper\" style={{ background: \"#FFF\", minHeight: \"100vh\" }}>\r\n         <div className=\"row\">\r\n            <div className=\"col-12 col-lg pl-0 d-none d-lg-block\">\r\n               <div className=\"site_left\">\r\n                  <div className=\"site_left_wrapper\">\r\n                     <div className=\"site_left_content\">\r\n                        <img className=\"img-fluid\" src={login} alt=\"\" loading=\"lazy\" />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div className=\"col-12 col-lg site_right\">\r\n               <div className=\"site_form\">\r\n                  <div className=\"text-center\">\r\n                     <a href=\"javascript:void(0)\" title=\"MContract \">\r\n                        <img className=\"site_logo img-fluid\" alt=\"\" src={logo_v} loading=\"lazy\" />\r\n                     </a>\r\n                  </div>\r\n                  <h1 className=\"site_title\" style={{ marginBottom: \"15px\", textAlign: \"center\" }}>\r\n                     Nhập mã code đã nhận được từ email\r\n                  </h1>\r\n                  <form onSubmit={handleSubmit(onSubmit)}>\r\n                     <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control text-center pr-0\" placeholder=\"Nhập mã code\" autoComplete=\"off\" {...register(\"otp\", { required: true })} />\r\n                        {errors.otp && errors.otp?.type === \"required\" && <span className=\"d-flex message-errors\">Mời nhập mã code nhận được</span>}\r\n                        {/* {error && <span className=\"message-errors\">{error}</span>} */}\r\n\r\n                     </div>\r\n                     <div className=\"form_btn text-center mt-4\">\r\n                        <a onClick={() => history.goBack()} className=\"btn btn_sec1 back_btn\">\r\n                           Quay lại\r\n                        </a>\r\n                        <button disabled={isRequesting} className=\"btn btn_pri1 submit_btn\">\r\n                           {isRequesting ? (\r\n                              <>\r\n                                 <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                              </>\r\n                           ) : (\r\n                              <>Xác nhận</>\r\n                           )}\r\n                        </button>\r\n                     </div>\r\n                     {\r\n                        timeGetCode != 0 ?\r\n                           <p className=\"mt-4 a-button text-center\">Gửi lại mã code sau: {timeGetCode}s</p>\r\n                           :\r\n                           <p className=\"mt-4 a-button text-center\"> <a type=\"button\" className=\"again-code\" onClick={() => onGetCode()}>Gửi lại mã code</a></p>\r\n                     }\r\n                  </form>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport { PageSignupCode };\r\n","import ContractList from '@Containers/Contract/ContractList';\r\nimport ContractService from '@Services/contract';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setNewContracts, setReadyForReloading } from '@Redux/Actions/NewContract';\r\nfunction ContractOverview(props) {\r\n  const { newContracts, isReadyForReloading } = useSelector(state => state.newContracts);\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const dispatch = useDispatch();\r\n  function onUpdateReadStatus(status, contract = null) {\r\n    const data = {\r\n      contractIdList: [contract.id],\r\n      status: status,\r\n    };\r\n    ContractService.updateWatched(data)\r\n      .then(res => {\r\n        dispatch(setNewContracts(res.data));\r\n      });\r\n  }\r\n\r\n  const getNewContract = async () => {\r\n    try {\r\n      let params = {\r\n        sortByDate: 'DESC',\r\n        currentPage: 0,\r\n        size: 5,\r\n      };\r\n      const res = await ContractService.getContract(params);\r\n      dispatch(setNewContracts(res.data));\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setIsRequesting(false);\r\n      if (isReadyForReloading) {\r\n        dispatch(setReadyForReloading(false));\r\n      }\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    setIsRequesting(true);\r\n    getNewContract();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isReadyForReloading) {\r\n      getNewContract();\r\n    }\r\n  }, [isReadyForReloading]);\r\n\r\n  return (\r\n    <div className=\"contract_overview mt-4 shadow-sm\">\r\n      <div className=\"co_header p-3\">\r\n        <h4 className=\"mb-0\">HỢP ĐỒNG MỚI</h4>\r\n      </div>\r\n      <div className=\"contract_area\">\r\n        <ContractList contracts={newContracts} showAction={false} isRequesting={isRequesting} showAvatar={true} showContractType={true} onUpdateReadStatus={onUpdateReadStatus} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContractOverview;\r\n","const CLIENT_DOMAIN = 'https://mcontract.vn';\r\nexport { CLIENT_DOMAIN }","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { CLIENT_DOMAIN } from \"@Consts/domain\";\r\nContractPolicy.propTypes = {\r\n\r\n};\r\n\r\nfunction ContractPolicy(props) {\r\n    return (\r\n        <div className=\"row contact-policy\">\r\n            <div className=\"col-12 col-sm mt-4\">\r\n                <div className=\"policy shadow-sm\">\r\n                    <h4>CHÍNH SÁCH</h4>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-journal-medical\" viewBox=\"0 0 16 16\">\r\n                            <path fillRule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v.634l.549-.317a.5.5 0 1 1 .5.866L9 6l.549.317a.5.5 0 1 1-.5.866L8.5 6.866V7.5a.5.5 0 0 1-1 0v-.634l-.549.317a.5.5 0 1 1-.5-.866L7 6l-.549-.317a.5.5 0 0 1 .5-.866l.549.317V4.5A.5.5 0 0 1 8 4zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\" />\r\n                            <path d=\"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z\" />\r\n                            <path d=\"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">Phạm vi áp dụng</span>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-person-check\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\r\n                            <path fillRule=\"evenodd\" d=\"M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">Quyền tiếp cận chỉnh sửa thông tin của người dùng</span>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-eye-slash\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z\" />\r\n                            <path d=\"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z\" />\r\n                            <path d=\"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12 .708-.708 12 12-.708.708z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">Các biện pháp đảm bảo an toàn bảo mật thông tin</span>\r\n                    </div>\r\n                    <hr />\r\n                    <NavLink to=\"/tra-cuu\" className=\"d-block text-center\">Xem chi tiết &gt;&gt;</NavLink>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-12 col-sm mt-4\">\r\n                <div className=\"contact shadow-sm\">\r\n                    <h4>LIÊN HỆ</h4>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\" />\r\n                            <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">98 Nguyễn Công Trứ, P. Nguyễn Thái Bình, Quận 1, Tp. HCM</span>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">support@mcontract.vn</span>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"com_meta\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                            <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                        </svg>&nbsp;\r\n                        <span title=\"Phạm vi áp dụng\">086 774 6979</span>\r\n                    </div>\r\n                    <hr />\r\n                    <a href={`${CLIENT_DOMAIN}/#contact`} target=\"_blank\" rel=\"noreferrer\" className=\"d-block text-center\">Xem chi tiết &gt;&gt;</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ContractPolicy;","import ContractStatus from '@Enums/contract-status';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction CountCard(props) {\r\n    const statistics = useSelector(state => state.data.statistics);\r\n    const statisStatus = (value) => {\r\n        for (let i = 0; i < statistics.length; i++) {\r\n            if (statistics[i].status === value) {\r\n                return statistics[i].count;\r\n            }\r\n        }\r\n        //chưa có hợp đồng nào -> trả về 0\r\n        return 0;\r\n    };\r\n    return (\r\n        <div className=\"row count_card\">\r\n            <div className=\"col-12 col-sm-6 col-md-4 mt-4 \">\r\n                <div className=\"card-title completed\">\r\n                    <p>\r\n                        {statistics && statisStatus(ContractStatus.FINISH)}\r\n                        <br />\r\n                        HOÀN THÀNH\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-4 col-sm-6 col-md mt-4 \">\r\n                <div className=\"card-title expire\">\r\n                    <p>\r\n                        {statistics && statisStatus(ContractStatus.EXPIRED)}\r\n                        <br />\r\n                        HẾT HẠN\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-4 col-sm-6 col-md mt-4\">\r\n                <div className=\"card-title wait\">\r\n                    <p>\r\n                        {statistics && statisStatus(ContractStatus.IN_PROGRESS)}\r\n                        <br />\r\n                        CHỜ XỬ LÝ\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-4 col-sm-6 col-md mt-4\">\r\n                <div className=\"card-title wait\">\r\n                    <p>\r\n                        {statistics && statisStatus(ContractStatus.WAIT_PARTNER)}\r\n                        <br />\r\n                        CHỜ ĐỐI TÁC\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CountCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nStandard.propTypes = {\r\n    \r\n};\r\n\r\nfunction Standard(props) {\r\n    return (\r\n        <div className=\"standard mt-4 shadow-sm\">\r\n            <div>\r\n                <h4>\r\n                    TIÊU CHUẨN KÝ SỐ CHÂU ÂU\r\n                </h4>\r\n                <p>\r\n                    Giới thiệu và quy chuẩn ký số Châu Âu,  tiêu chuẩn ký số không\r\n                    khoảng cách, không giới hạn\r\n                </p>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Standard;","import { DefaultAPI } from \"@Utils/axios\";\r\nimport { AUTH, COMPANY } from \"@Enums/endpoints\";\r\nclass ProfileService {\r\n    static getUser = () => { \r\n        const url = AUTH.GET_USER;\r\n        return DefaultAPI.get(url);\r\n    }\r\n    static updateUser = (data) => { \r\n        const url = AUTH.UPDATE_USER;\r\n        return DefaultAPI.put(url, data);\r\n    }\r\n    static getCompany = () => {\r\n        const url = COMPANY.GET;\r\n        return DefaultAPI.get(url);\r\n    }\r\n    static updateCompany = (data) => {\r\n        const url = COMPANY.UPDATE;\r\n        return DefaultAPI.put(url, data);\r\n    }\r\n}\r\nexport default ProfileService;","import { Modal } from 'react-bootstrap';\r\nimport AvatarEditor from 'react-avatar-editor';\r\nimport { useState } from 'react';\r\nimport { BsPlus, BsDash } from 'react-icons/bs';\r\nimport React, { useRef } from 'react';\r\nconst UploadLogoModal = ({ show, onHide, image, onSubmit, isLogo = false, uploading = false }) => {\r\n  const [scale, setScale] = useState(1);\r\n  const [allowZoomOut, setAllowZoomOut] = useState(true);\r\n  let editorRef = useRef();\r\n  const handleScale = e => {\r\n    const scale = parseFloat(e.target.value);\r\n    setScale(scale);\r\n  };\r\n  const onClickSave = () => {\r\n    if (editorRef && !uploading) {\r\n      const canvas = editorRef.current.getImage();\r\n      const arrName = image.name.split('.');\r\n      canvas.toBlob(blob => {\r\n        let file = new File([blob], `${image.name}`, { type: `image/${arrName[arrName.length - 1]}` });\r\n        onHide();\r\n        onSubmit(file);\r\n      }, `image/${arrName[arrName.length - 1]}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={onHide} contentClassName=\"modal_confirm modal_site\">\r\n      <Modal.Header className=\"bg_site\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel_img_user\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" class=\"bi bi-file-image\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M8.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\r\n            <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8l-2.083-2.083a.5.5 0 0 0-.76.063L8 11 5.835 9.7a.5.5 0 0 0-.611.076L3 12V2z\" />\r\n          </svg>\r\n        </h5>\r\n        <button onClick={onHide} type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n        <div class=\"header_arrow border_top_site\"></div>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div class=\"text-center\">\r\n          <h3 class=\"head_title\">{isLogo ? 'Chỉnh sửa logo công ty' : 'Chỉnh sửa ảnh đại diện'}</h3>\r\n        </div>\r\n        <div class=\"box_img\">\r\n          <div className=\"upload-contain\">\r\n            <div className=\"img-editor\">\r\n              <AvatarEditor\r\n                ref={editorRef}\r\n                image={image}\r\n                width={164}\r\n                height={164}\r\n                borderRadius={100}\r\n                scale={scale}\r\n                color={[175, 175, 174, 1]}\r\n                border={1}\r\n                backgroundColor=\"#fff\"\r\n                className=\"bg-white\"\r\n              />\r\n            </div>\r\n            <div className=\"d-flex align-items-center py-3\">\r\n              <BsDash className=\"mr-3\" />\r\n              <input name=\"scale\" type=\"range\" onChange={handleScale} min={allowZoomOut ? '0.1' : '1'} max=\"2\" step=\"0.01\" defaultValue=\"1\" className=\"range-scale\" />\r\n              <BsPlus className=\"ml-3\" color=\"#000\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <button onClick={onHide} type=\"button\" class=\"btn btn-secondary mx-auto\">Hủy bỏ</button>\r\n          <button onClick={onClickSave} type=\"button\" class=\"btn btn-primary btn_pri1 mx-auto\">Lưu ảnh</button>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\nexport default UploadLogoModal;","import React, { useState } from \"react\";\r\nimport { ContractCreateButton } from \"@Containers/Contract\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ProfileService from '@Services/profile';\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { setUser } from '@Redux/Actions/Auth';\r\nimport GeneralService from \"@Services/general\";\r\nimport UploadLogoModal from \"@Components/UploadLogoModal\";\r\nDbTop.propTypes = {};\r\n\r\nfunction DbTop(props) {\r\n   const [showUploadModal, setShowUploadModal] = useState(false);\r\n   const [image, setImage] = useState(\"\");\r\n   const dispatch = useDispatch();\r\n   const user = useSelector(state => state.auth.user);\r\n   const [uploading, setUploading] = useState(false);\r\n\r\n   // const onLogoChange = async (e) => {\r\n   //    if (e.target.files.length > 0) {\r\n   //       try {\r\n   //          setUploading(true);\r\n   //          const f = e.target.files[0];\r\n   //          const formData = new FormData();\r\n   //          formData.append('file', f);\r\n   //          const res = await GeneralService.uploadFile(formData);\r\n   //          const data = {\r\n   //             ...user.company,\r\n   //             ...{ logoPath: res.data.path }\r\n   //          };\r\n   //          const companyRes = await ProfileService.updateCompany(data);\r\n   //          dispatch(setUser({\r\n   //             ...user,\r\n   //             ...{ company: companyRes.data }\r\n   //          }));\r\n   //       } catch (e) {\r\n   //          console.error(e);\r\n   //       } finally {\r\n   //          setUploading(false);\r\n   //       }\r\n   //    }\r\n   // }\r\n\r\n   const onLogoChange = async e => {\r\n      if (e.target.files.length > 0) {\r\n         const file = e.target.files[0];\r\n         setImage(file);\r\n         setShowUploadModal(true);\r\n      }\r\n   }\r\n\r\n   const onSubmitLogo = async (file) => {\r\n      if (file) {\r\n         try {\r\n            setUploading(true);\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n            const res = await GeneralService.uploadFile(formData);\r\n            const data = {\r\n               ...user.company,\r\n               ...{ logoPath: res.data.path }\r\n            };\r\n            const companyRes = await ProfileService.updateCompany(data);\r\n            dispatch(setUser({\r\n               ...user,\r\n               ...{ company: companyRes.data }\r\n            }));\r\n         } catch (e) {\r\n            console.error(e);\r\n         } finally {\r\n            setUploading(false);\r\n         }\r\n      }\r\n   }\r\n   const handleClose = () => {\r\n      setShowUploadModal(false);\r\n      const inputFile = document.getElementById('change-logo-company-home');\r\n      inputFile.value = '';\r\n   };\r\n   return (<>\r\n      <div className=\"db_top shadow-sm\">\r\n         <div className=\"row\">\r\n            <div className=\"col-md-5 d-flex align-items-center\">\r\n               <div className=\"p-3 text-center w-100\">\r\n                  <ContractCreateButton />\r\n                  <p className=\"mb-2\">Kết nối không khoảng cách, an toàn theo tiêu chuẩn ký số châu Âu</p>\r\n               </div>\r\n            </div>\r\n            <hr className=\"d-block d-md-none\" />\r\n            <div className=\"col-md-7\">\r\n               <div className=\"db_tr d-flex align-items-center\">\r\n                  <div className=\"row\">\r\n                     <div className=\"col-auto\">\r\n                        <div className=\"com_img_wrap d-flex justify-content-center align-items-center\">\r\n                           {\r\n                              uploading ? <>\r\n                                 <div className=\"spinner-upload\">\r\n                                    <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\r\n                                 </div>\r\n                              </> : <>\r\n                                 <img\r\n                                    src={(user.company && user.company.logoPath) ? user.company.logoPath : \"\"}\r\n                                    className=\"rounded-circle company_logo\"\r\n                                    onError={(e) => {\r\n                                       e.target.onerror = null;\r\n                                       e.target.style.display = 'none';\r\n                                    }}\r\n                                    alt=\"\" loading=\"lazy\"\r\n                                 />\r\n                                 <div className=\"img_alt\">\r\n                                    <span>{GeneralService.getLetterName(user.company.name)}</span>\r\n                                 </div>\r\n                              </>\r\n                           }\r\n                        </div>\r\n                        <a href=\"javascript:void(0)\" className=\"change_icon\" title=\"Thay đổi logo\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"></path>\r\n                              <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"></path>\r\n                           </svg>\r\n                        </a>\r\n                        <label htmlFor=\"change-logo-company-home\" className=\"change_icon\" title=\"Thay đổi logo\" style={{ margin: '0', cursor: 'pointer' }}>\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"></path>\r\n                              <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"></path>\r\n                           </svg>\r\n                        </label>\r\n                        <input type=\"file\" title=\"Thay đổi logo\" id=\"change-logo-company-home\" className=\"change_icon\" accept=\"image/png, image/jpeg, image/jpg\" style={{ zIndex: '0' }} onChange={onLogoChange} />\r\n                     </div>\r\n                     <div className=\"col overflow-hidden pl-0\">\r\n                        <div className=\"com_meta com_name text-uppercase\">{(user.company && user.company.name) ? user.company.name : \"\"}</div>\r\n                        <div className=\"com_meta\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" fill=\"currentColor\" className=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\" />\r\n                              <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                           </svg>\r\n                           &nbsp;\r\n                           <span title={(user.company && !!user.company.address) ? user.company.address : (user.address ? user.address : \"\")}>{(user.company && user.company.address) ? user.company.address : (user.address ? user.address : \"\")}</span>\r\n                        </div>\r\n                        <div className=\"com_meta\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" fill=\"currentColor\" className=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                           </svg>\r\n                           &nbsp;\r\n                           <span>{(user.company && !!user.company.phoneNumber) ? user.company.phoneNumber : (user.phoneNumber ? user.phoneNumber : '')}</span>\r\n                        </div>\r\n                        <div className=\"com_meta\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16px\" height=\"16px\" fill=\"currentColor\" className=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\" />\r\n                           </svg>\r\n                           &nbsp;\r\n                           <span title={(user.company && !!user.company.email) ? user.company.email : (user.email ? user.email : '')}>{(user.company && user.company.email) ? user.company.email : (user.email ? user.email : '')}</span>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <UploadLogoModal show={showUploadModal} isLogo={true} image={image} onHide={handleClose} onSubmit={onSubmitLogo} uploading={uploading} />\r\n      {/* <UploadAvatarModal show={showUploadModal} image={image} onHide={handleClose} onSubmit={onSubmitLogo} /> */}\r\n   </>\r\n   );\r\n}\r\n\r\nexport default DbTop;\r\n","import DefaultFooter from \"@Containers/Layout/Footer\";\r\nimport ContractOverview from \"@Containers/Dashboard/ContractOverview\";\r\nimport ContractPolicy from \"@Containers/Dashboard/ContractPolicy\";\r\nimport CountCard from \"@Containers/Dashboard/CountCard\";\r\nimport Standard from \"@Containers/Dashboard/Standard\";\r\nimport DbTop from \"@Containers/Dashboard/Top\";\r\nimport { useEffect } from \"react\";\r\nimport SimpleBar from \"simplebar-react\";\r\nfunction PageDashboard(props) {\r\n   useEffect(() => {\r\n      document.title = \"MContract\";\r\n   }, []);\r\n   return (\r\n      <SimpleBar id=\"page_content\" className=\"container-fluid px-24px\">\r\n         <div className=\"dashboard_area py-4\">\r\n            <DbTop />\r\n            <CountCard />\r\n            <ContractOverview />\r\n            <ContractPolicy />\r\n            <Standard />\r\n         </div>\r\n         <DefaultFooter />\r\n      </SimpleBar>\r\n   );\r\n}\r\n\r\nexport { PageDashboard };\r\n","export default __webpack_public_path__ + \"static/media/english.654ff673.webp\";","export default __webpack_public_path__ + \"static/media/vietnam.fb04a4c0.webp\";","import logo_en from '@/assets/images/english.webp';\r\nimport logo_vi from '@/assets/images/vietnam.webp';\r\nimport propsType from 'prop-types';\r\nimport React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nHeaderPolicy.propsType = {\r\n    title: propsType.string,\r\n    titleEn: propsType.string\r\n}\r\n\r\nfunction HeaderPolicy(props) {\r\n    function changeEnglish() {\r\n        document.getElementById('en').style.display = 'none';\r\n        document.getElementById('vi').style.display = 'block';\r\n        document.getElementsByClassName('content_vi')[0].style.display = 'none';\r\n        document.getElementsByClassName('content_en')[0].style.display = 'block';\r\n        document.getElementsByClassName('content_vi')[1].style.display = 'none';\r\n        document.getElementsByClassName('content_en')[1].style.display = 'block';\r\n    }\r\n    function changeVietNam() {\r\n        document.getElementById('en').style.display = 'block';\r\n        document.getElementById('vi').style.display = 'none';\r\n        document.getElementsByClassName('content_vi')[0].style.display = 'block'\r\n        document.getElementsByClassName('content_en')[0].style.display = 'none'\r\n        document.getElementsByClassName('content_vi')[1].style.display = 'block'\r\n        document.getElementsByClassName('content_en')[1].style.display = 'none'\r\n    }\r\n    useEffect(() => {\r\n        document.body.style.backgroundColor = \"#fff\";\r\n        return () => {\r\n            document.body.style.backgroundColor = '#eef5f9';\r\n        };\r\n    }, []);\r\n    return (\r\n        <>\r\n            <div className=\"language\">\r\n                <button type=\"button\" id=\"vi\" className=\"btn btn-primary\" onClick={changeVietNam} >\r\n                    <img src={logo_vi} className=\"rounded-circle\" alt=\"\" loading=\"lazy\" /> <span className=\"name_language\">Tiếng Việt</span>\r\n                </button>\r\n                <button type=\"button\" id=\"en\" className=\"btn btn-primary\" onClick={changeEnglish}>\r\n                    <img src={logo_en} className=\"rounded-circle\" alt=\"\" loading=\"lazy\" /> <span className=\"name_language\">English</span>\r\n                </button>\r\n            </div>\r\n            <nav id=\"navbar-example2\" className=\"navbar navbar-light bg-light\">\r\n                <ul className=\"nav nav-pills\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"nav-link nav-end\" to=\"/tra-cuu\">\r\n                            Chính sách và Hỏi đáp  &gt;</Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <a className=\"nav-link na_end nav-end\">\r\n                            <span className=\"content_vi\" > &nbsp;{props.title}</span><span className=\"content_en\" > &nbsp;{props.titleEn}</span></a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default HeaderPolicy;","import HeaderPolicy from '@Components/HeaderPolicy';\r\nimport SimpleBar from \"simplebar-react\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nPagePolicy.defaultProps = {\r\n    title: \"Điều khoản và điều kiện\",\r\n    titleEn: \"Terms and Conditions\"\r\n\r\n};\r\n\r\nfunction PagePolicy(props) {\r\n    useEffect(() => {\r\n        document.title = \"MContract\"\r\n    }, []);\r\n    return (\r\n        <div className=\"search-policy\">\r\n            <HeaderPolicy title={props.title} titleEn={props.titleEn} />\r\n            <SimpleBar className=\"container-fluid px-24px\" id=\"page_content\">\r\n                <div className=\"content_en\">\r\n\r\n                    <h3>DEFINITION/GLOSSARY</h3>\r\n                    <p>\r\n                        <b><i> “MContract”</i></b>, also know as \"ONLINE TECHNOLOGY SERVICES COMPANY LIMITED\". In this Terms and Conditions, MContract may be referred to as \"We\" depending on the context.\r\n                    </p>\r\n                    <p>\r\n                        <b><i> “Service”</i></b> means any product, Service, content, feature, technology, or functionality, as well as all related webpages and relevant applications made available to Users by MContract.\r\n                    </p>\r\n                    <p><b><i>“User”</i></b> means the person/organization that uses the Service.\r\n\r\n                    </p><p> <b><i>“Data”</i></b> may include first name and last name, address, phone number, email address, gender, date of birth, identity card number or identification number, date of issue, User photo ID, digital signature information, corporate/organization logo (for organizations). Data does not include information that does not identify a particular User.\r\n                    </p>\r\n\r\n                    <h3> USER ACCOUNT</h3>\r\n                    <p> - Some features, Services require the User to create an account and be licensed from MContract. The User is solely responsible for maintaining, updating correct information of their own, as well as the confidentiality of personal Data, including but not limited to all activities that occur in the account. The User agrees to notify MContract immediately of any breach of the account or any other breach of the security.\r\n                    </p><p> - Users may be liable for the losses generated from MContract or any other Users or visitors to the Service due to another person using your account information without your consent, resulting from the lack of your own security and confidential security of your account information.\r\n                    </p><p> - Account termination: The User can close the account and terminate the relationship with MContract at any time without loss of fees or penalties. However, the User is still responsible for rights and obligations related to the account even after the account has been terminated.\r\n                    </p><p> - The User Account may be terminated in the following cases:\r\n                    </p><p className=\"plus\">  + The User notices and requests for the termination of the account with MContract.\r\n                    </p><p className=\"plus\"> + The User violates MContract's legal agreements and/or other laws.\r\n                    </p><p>  - Any account termination will be notified by MContract to the User for the specific reason(s).\r\n                    </p><p> - The User Account cannot be terminated in the following cases:\r\n                    </p><p className=\"plus\">   + User has transactions, obligations that are not completed and need to be processed.\r\n                    </p><p className=\"plus\">  + User Account has disputes, complaints, or issues that need further verification.\r\n                    </p>\r\n\r\n                    <h3> CONTENT AND SCOPE OF USE</h3>\r\n                    <p>  - The User agrees NOT to perform the following actions in the course of using the MContract Service:\r\n                    </p><p className=\"plus\">  + Trespassing, attempting to illegally break into another User's account to access and use the Service.\r\n                    </p><p className=\"plus\">  + Infiltrate, attempt to enter, access, or use any Data on the Services and servers of MContract without permission.\r\n                    </p><p className=\"plus\">  + Distributing and using harmful programs that interfere, cheat or damage the systems, Data, information, Services of MContract.\r\n                    </p><p className=\"plus\">   + Performing actions that damage the reputation of MContract and/or MContract Services in any way.\r\n                    </p><p className=\"plus\">  + Committing actions that are contrary to general Vietnamese customs and practices, social ethics, and legal regulations in any form.\r\n                    </p><p className=\"plus\">   + Using information and Data for commercial purposes.\r\n                    </p>\r\n\r\n                    <h3>    TERMS OF PAYMENT</h3>\r\n                    <p>  - General payment:\r\n                    </p><p className=\"plus\"> + User is responsible for checking the Service, the Service agreement, terms of use carefully before making a payment.\r\n                    </p><p className=\"plus\">  + The cost of Services provided by MContract includes VAT.\r\n                    </p><p className=\"plus\">  + MContract reserves the right to update and change the price of the Service from time to time and for business purposes. Rate changes are publicly updated and notified to the User within a reasonable time. The new price will take effect at the time it is updated on MContract.vn website. If you continue to use or register to use the Service after the time of change, you agree to accept the new price.\r\n                    </p><p className=\"plus\">   + MContract is not responsible to refund the cost of the Service and or bear any other costs after the User has paid, including but not limited to partial use of the Service, request to terminate the Service ahead of due time.\r\n                    </p><p className=\"plus\">   + Payment link: MContract uses payment links with third parties to ensure business purposes and meet the User needs, including but not limited to cash, Internet Banking, e-wallet, ... In this case, we require such third parties to commit to their respective obligations with MContract under the relevant laws.\r\n                    </p><p>  - In case of payment error, the User is obliged to notify and provide verification documents for payment transaction to MContract to be checked and processed. We are only responsible for errors arising from the MContract side. MContract does not have the policy to return the amount in the transactions that have been made.\r\n                    </p><p>  - MContract always prioritizes and tries to build a safe payment system for transactions while meeting the User’s requirements.\r\n                    </p>\r\n\r\n                    <h3> USER RIGHTS AND OBLIGATIONS</h3>\r\n                    <p>  Within the scope of this agreement, the User has the following rights and obligations:\r\n                    </p><p>  - Be provided, fully and suitably informed of the Services to use them. Accordingly, the User's commitment to comply with our legal agreements is fundamental to cover this right.\r\n                    </p><p>   - Receive support from customer care channels of MContract. Accordingly, the User's commitment to providing complete, truthful, accurate, and up-to-date information is fundamental to cover this right. The Users are responsible for all information they provided.\r\n                    </p><p>   - The Users are responsible for protecting their own personal Data such as phone number, ID information, email attached to the account, digital certificate information, ... If the above information is disclosed under any form, the User must accept risks associating with the action. The Users agree to immediately notify MContract of any unauthorized use of their account and password or any action of circumventing the security system.\r\n                    </p><p>   - Commit to not perform the actions specified in this agreement.\r\n                    </p><p>  - Notify MContract via the communication channels provided in this agreement when they detect errors of the Service, problems affecting the normal operation of the relevant Service. Perform other responsibilities per the law.\r\n                    </p>\r\n\r\n                    <h3>RIGHTS AND OBLIGATIONS OF MContract </h3>\r\n                    <p>  Within the scope of this agreement, MContract has the following rights and obligations:\r\n                    </p><p>  - Affirm the legality of the Service provided to the User. Accordingly, MContract commits to publicizing Services, Service fees and agreements, and issues related to the Users.\r\n                    </p><p> - Assist the Users in using the Service; Receive and resolve complaints per the Term and Conditions during the use of the Service provided.\r\n                    </p><p>  - Secure User’s Data. MContract commits to not sell or exchange User information with third parties, except in the cases required by the law or by that User’s acceptance.\r\n                    </p><p>  - Review and retain the right to temporarily lock, terminate the User's account without consent and without any responsibility in case of detecting or having ground evidence showing that the User provides the information dishonestly, inaccurate, or the User violates any of the terms of our legal agreement.\r\n                    </p><p>  - Upon detecting violations such as fraud, cracking or stealing information, or other errors, to a reasonable extent, MContract has the right to request the authorities to intervene to resolve. Accordingly, we have the right to use the information provided to the Service to support the law enforcement process.\r\n                    </p><p> - Coordinate with competent state agencies in necessary cases related to the reporting, inspection, examination, and legal proceedings; related to terrorist activities, crime, national security.\r\n                    </p>\r\n\r\n                    <h3> PERSONAL DATA SECURITY</h3>\r\n                    <p>  At MContract, protecting the User's personal Data is the main priority. We understand that the User's Data legally belongs to the User and is protected by law. Therefore, MContract only collects, stores, and processes the User’s Data under the consent and permission of the User.\r\n                    </p><p> We endeavor to always develop and polish the terms in the Privacy Policy to secure the standards and requirements for our Users. Accordingly, the Privacy Policy applies to all the uses of the Service by MContract. The terms in the Privacy Policy are also considered a part of this User agreement. Please find out more details in the \"Privacy Policy\" document.\r\n                    </p>\r\n\r\n                    <h3> FORCE MAJEURE CLAUSE</h3>\r\n                    <p> If risks and damages occur in a force majeure case, including but are not limited to electrical short, damage to hardware & software, internet connection failure or natural disasters, etc, the Users must accept the risks and damages that occurred. MContract commits to make the very best effort to minimize the risks and losses that occurred, however; we will not bear any responsibility regarding these cases.\r\n\r\n                    </p>\r\n                    <h3>INTELLECTUAL PROPERTY</h3>\r\n                    <p>  - The User agrees that the Service, including but not limited to content, graphics, User interfaces, images, logos, electronic documents, sound clips, video clips, editorial content, and software is used to perform the Services, contains proprietary information and materials owned by MContract and or its licensors, and all the proprietary information and materials mentioned above are protected under Intellectual Property Law and other laws, including but not limited to copyright laws. The User agrees to not use this proprietary information or material in any way, except to use of Service by this Agreement.\r\n                    </p><p>   - All intellectual property rights mentioned above, in the Services belong exclusively to MContract or are legally licensed to MContract. Accordingly, all legal rights of MContract are guaranteed by law. Unless otherwise agreed in writing by MContract, Users may not use, copy, publish, reproduce, transmit or distribute in any form, any component of the Service.\r\n                    </p><p>   - MContract has all rights, including but not limited to, trademark rights, trade secrets, and other proprietary rights to MContract Services. The use of MContract's rights and ownership must be explicitly authorized in the writing forms. Accordingly, we do not grant any license of any kind, including but not limited to claims, implying a license for the User to exercise such rights.\r\n                    </p>\r\n\r\n\r\n                    <h3>TERMINATION AND  TEMPORARY TERMINATION OF SERVICE</h3>\r\n                    <p>  MContract reserves the right to discontinue the Service to the User in the following cases: The User fails to comply, or there is ground evidence for MContract to suspect that the User has failed to comply with any of the terms in this agreement; The User uses the Service and or the website to commit illegal actions including but not limited to frauds in using the Service, fraud in payment ..etc; At the request from competent authorities and in accordance with the effective laws in Vietnam.\r\n                    </p><p>   Accordingly, MContract may, without prior notice to you: (i) terminate this Agreement and/or the User's account and/or (ii) terminate your agreement to use the Services; and/or (iii) prevent you from accessing the website. The User uses the Service and/or the website to commit a law violation, including but not limited to, fraudulent practices in the Service usage, payment fraud ... As required by competent authorities and regulations of law.\r\n                    </p>\r\n\r\n                    <h3>  DISCLAIMER AND LIMITATION OF LIABILITY</h3>\r\n                    <p> - MContract disclaims liability for any damages or liabilities arising from any system failure, transmission error; technical problems; server failure, or Force Majeure ... Users must accept the risks and damages that occur. However, MContract commits to minimizing risks and potential losses.\r\n                    </p><p>  - MContract will not bear any type of liability regarding payments, fees, penalties, or compensation that does not occur from the side of MContract.\r\n                    </p><p>   - MContract will take reasonable efforts to protect the information provided by the User in connection with the Service. However, the User agrees to waive MContract from any and all liability for any damages or liabilities related to such information.\r\n                    </p><p>  - User agrees to indemnify and keep MContract, director, founding member, predecessor, heir, employee, agent, subsidiary, and an affiliate, from any harm from any of such request, liability, claim, an or expense (including attorneys' fees) by any third party resulting from, or arising out of, or in connection with the User's use of the Service.\r\n                    </p>\r\n\r\n                    <h3>  DISPUTE RESOLUTION</h3>\r\n                    <p>   - All matters related to the User's access or the use of the Service, including disputes, will be governed by effective laws in Vietnam.\r\n                    </p><p>   - Claims arising during the use of the Service must be sent to MContract as soon as the event emerges. We are committed to providing full support and reasonable settlement for cases where information is provided completely and accurately. The complainant is obliged to provide evidence related to the complaint and is responsible for the content of the complaint and the evidence provided.\r\n                    </p><p>   - In the event of a dispute between the User or a dispute between the User and a third party, the parties will arrange to resolve the matter by themselves. MContract will provide reasonable support and communication to maximize the protection of legal and legitimate rights of the User.\r\n                    </p>\r\n\r\n                    <h3> EFFECT OF AGREEMENT</h3>\r\n                    <p>  - If any part of this agreement is invalid or unenforceable, that part will be construed in a manner consistent with the law and continue to be enforceable. MContract's failure to exercise any right or provision of this agreement will not constitute a waiver of that or any other provision. We also will not be responsible for failure to perform any obligations due to reasons beyond our control.\r\n                    </p><p>   - The User agrees to grant MContract the right to take necessary or appropriate steps reasonably to enforce and/or verify compliance with any part of this agreement.\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"content_vi\">\r\n                    <h3>ĐỊNH NGHĨA</h3>\r\n                    <p>\r\n                        Các thuật ngữ viết hoa trong Điều Khoản Và Điều Kiện này có ý nghĩa như sau:\r\n                    </p>\r\n                    <p>\r\n                        <b><i>“MContract”</i></b> nghĩa là Công Ty TNHH Dịch Vụ Công Nghệ Trực Tuyến. Trong Điều Khoản Và Điều Kiện này, MContract có thể  được đề cập là “Chúng Tôi” tùy theo ngữ cảnh.\r\n                    </p>\r\n                    <p>\r\n                        <b><i>“Dịch Vụ”</i></b> nghĩa là mọi sản phẩm, Dịch Vụ, nội dung, tính năng, công nghệ hay chức năng, cũng như tất cả các trang web, ứng dụng liên quan do MContract cung cấp cho Người Dùng.\r\n                    </p>\r\n                    <p>\r\n                        <b><i>“Người Dùng”</i></b> nghĩa là cá nhân/tổ chức sử dụng Dịch Vụ.\r\n                    </p>\r\n                    <p><b><i>“Dữ Liệu”</i></b> có thể bao gồm họ và tên, địa chỉ, số điện thoại, địa chỉ email, giới tính, ngày sinh, số chứng minh nhân dân hoặc căn cước công dân, ngày cấp, hình nhận diện Người Dùng, thông tin chữ ký số, logo doanh nghiệp/tổ chức (đối với tổ chức). Dữ Liệu không bao gồm các thông tin không xác định danh tính của một Người Dùng cụ thể.\r\n                    </p>\r\n                    <h3> TÀI KHOẢN NGƯỜI DÙNG</h3>\r\n                    <p>\r\n                        - Một số tính năng, Dịch Vụ yêu cầu Người Dùng phải tạo tài khoản và được cấp phép từ MContract. Người Dùng hoàn toàn chịu trách nhiệm duy trì, cập nhật chính xác thông tin cũng như tính bảo mật của dữ liệu cá nhân, bao gồm nhưng không giới hạn mọi hoạt động xảy ra trong tài khoản. Người Dùng đồng ý thông báo cho MContract ngay lập tức về bất kỳ vi phạm nào đối với tài khoản hoặc bất kỳ vi phạm bảo mật nào khác.\r\n                    </p><p>- Người Dùng có thể phải chịu trách nhiệm cho những mất mát do MContract hoặc bất kỳ Người Dùng khác hoặc khách truy cập vào Dịch Vụ do những đối tượng này sử dụng thông tin tài khoản của bạn xuất phát từ lỗi không bảo mật và bảo mật thông tin tài khoản của mình.\r\n                    </p><p>  - Chấm dứt tài khoản: Người Dùng có thể đóng tài khoản và chấm dứt mối quan hệ với MContract bất cứ lúc nào mà không bị mất phí hoặc tiền phạt. Tuy nhiên, Người Dùng vẫn phải chịu trách nhiệm với các quyền và nghĩa vụ liên quan đến tài khoản ngay cả khi tài khoản đã chấm dứt.\r\n                    </p><p>  - Tài khoản Người Dùng có thể chấm dứt trong các trường hợp sau đây:\r\n                    </p><p className=\"plus\">  + Người Dùng thông báo và đề nghị việc chấm dứt tài khoản với MContract.\r\n                    </p><p className=\"plus\"> + Người Dùng vi phạm các thỏa thuận pháp lý của MContract và/hoặc các quy định pháp luật khác.\r\n                    </p><p> - Bất kỳ trường hợp chấm dứt tài khoản nào cũng sẽ được MContract gửi thông báo đến Người Dùng với lý do cụ thể.\r\n                    </p><p>  - Tài khoản Người Dùng không thể chấm dứt trong các trường hợp sau đây:\r\n                    </p><p className=\"plus\"> + Người Dùng đang có giao dịch, nghĩa vụ chưa hoàn thành và cần xử lý.\r\n                    </p><p className=\"plus\"> + Tài khoản Người Dùng đang có tranh chấp, khiếu nại hoặc các vấn đề cần chờ xác minh.\r\n                    </p>\r\n                    <h3> NỘI DUNG VÀ PHẠM VI SỬ DỤNG</h3>\r\n                    <p> - Người Dùng đồng ý KHÔNG thực hiện các hành vi sau đây trong quá trình sử dụng Dịch Vụ của MContract:\r\n                    </p><p className=\"plus\"> + Xâm nhập, tìm cách xâm nhập trái phép vào tài khoản Người Dùng khác để truy cập và sử dụng Dịch Vụ.\r\n                    </p><p className=\"plus\">  + Xâm nhập, tìm cách xâm nhập, tiếp cận hoặc sử dụng bất kỳ các Dữ Liệu nào trên Dịch Vụ và máy chủ của MContract mà không được cho phép.\r\n                    </p><p className=\"plus\">  + Phát tán, sử dụng các chương trình có hại gây trở ngại, gian lận hoặc ảnh hưởng tới hệ thống, Dữ Liệu, thông tin, Dịch Vụ của MContract.\r\n                    </p><p className=\"plus\"> + Thực hiện các hành vi làm tổn hại đến uy tín của MContract và/hoặc các Dịch Vụ của MContract dưới bất kỳ hình thức nào.\r\n                    </p><p className=\"plus\">  + Thực hiện các hành vi  trái với thuần phong mỹ tục, đạo đức xã hội và quy định pháp luật dưới bất kỳ hình thức nào.\r\n                    </p><p className=\"plus\"> + Sử dụng các thông tin, Dữ Liệu vào mục đích thương mại.\r\n                    </p>\r\n                    <h3>ĐIỀU KHOẢN THANH TOÁN</h3>\r\n                    <p> - Thanh toán chung:\r\n                    </p><p className=\"plus\"> + Người Dùng có trách nhiệm kiểm tra kỹ Dịch Vụ, thỏa thuận Dịch Vụ, điều khoản sử dụng trước khi thực hiện thanh toán.\r\n                    </p><p className=\"plus\"> + Chi phí các Dịch Vụ do MContract cung cấp  đã bao gồm thuế VAT.\r\n                    </p><p className=\"plus\">  + MContract có quyền cập nhật và thay đổi giá Dịch Vụ tùy từng thời điểm và mục đích kinh doanh. Việc thay đổi mức giá được cập nhật công khai và gửi thông báo đến Người Dùng trong thời gian hợp lý. Mức giá mới có hiệu lực vào thời điểm được cập nhật tại trang web mcontract.vn. Nếu bạn tiếp tục sử dụng hoặc đăng ký sử dụng Dịch Vụ  sau thời điểm thay đổi có nghĩa là bạn đã đồng ý chấp nhận mức giá mới.\r\n                    </p><p className=\"plus\"> + MContract không có trách nhiệm hoàn trả chi phí Dịch Vụ và hoặc chịu bất kỳ chi phí nào khác sau khi Người Dùng đã thanh toán, bao gồm nhưng không giới hạn các trường hợp sử dụng một phần Dịch Vụ, đề nghị chấm dứt Dịch Vụ trước thời hạn.\r\n                    </p><p className=\"plus\"> + Liên kết thanh toán:  MContract sử dụng liên kết thanh toán với bên thứ ba nhằm đảm bảo mục đích kinh doanh và đáp ứng nhu cầu sử dụng của Người Dùng, bao gồm nhưng không giới hạn tiền mặt, Internet Banking, ví điện tử,... Trong trường hợp này, chúng tôi yêu cầu các bên thứ ba đó phải đảm bảo các nghĩa vụ tương ứng với MContract theo luật pháp liên quan.\r\n                    </p><p>  - Đối với trường hợp phát sinh lỗi khi thanh toán, Người Dùng có nghĩa vụ thông báo và cung cấp các chứng từ xác minh cho giao dịch thanh toán cho MContract để được kiểm tra và xử lý. Chúng tôi chỉ chịu trách nhiệm đối với các trường hợp lỗi phát sinh từ phía MContract.  MContract không có chính sách hoàn trả lại giao dịch đã thực hiện.\r\n                    </p><p> - MContract luôn ưu tiên và nỗ lực xây dựng một cơ chế thanh toán an toàn cho các giao dịch  nhưng vẫn đáp ứng được yêu cầu sử dụng của Người Dùng.\r\n                    </p>\r\n                    <h3>QUYỀN VÀ NGHĨA VỤ NGƯỜI DÙNG</h3>\r\n                    <p>Trong phạm vi thỏa thuận này, Người Dùng có các quyền và nghĩa vụ sau:\r\n                    </p><p> - Được cung cấp, giới thiệu đầy đủ, phù hợp các Dịch Vụ nhằm đáp ứng nhu cầu sử dụng.  Theo đó, việc Người Dùng cam kết đảm bảo thực hiện đúng các thỏa thuận pháp lý của chúng tôi sẽ là cơ sở để đảm bảo quyền này.\r\n                    </p><p> - Nhận được sự hỗ trợ từ các kênh chăm sóc khách hàng của MContract. Theo đó, việc Người Dùng phải cam kết cung cấp thông tin đầy đủ,  trung thực, chính xác và luôn cập nhật sẽ là cơ sở để chúng tôi đảm bảo quyền này. Người Dùng phải chịu trách nhiệm về toàn bộ các thông tin cung cấp.\r\n                    </p><p>  - Người Dùng có trách nhiệm bảo mật dữ liệu cá nhân như: số điện thoại, thông tin giấy tờ tùy thân, email bảo vệ tài khoản, thông tin chứng thư số, ... Nếu những thông tin trên bị tiết lộ dưới bất kỳ hình thức nào thì Người Dùng phải chấp nhận những rủi ro phát sinh. Người Dùng đồng ý sẽ thông báo ngay lập tức cho MContract về bất kỳ trường hợp nào sử dụng trái phép tài khoản và mật khẩu của bạn hoặc bất kỳ các hành động phá vỡ hệ thống bảo mật nào.\r\n                    </p><p>  - Cam kết không thực hiện các hành vi được quy định tại thỏa thuận này.\r\n                    </p><p>  - Thông báo cho MContract theo các kênh liên lạc được cung cấp tại thỏa thuận này khi phát hiện ra lỗi của Dịch Vụ, các vấn đề gây ảnh hưởng tới hoạt động bình thường của Dịch Vụ liên quan.Thực hiện trách nhiệm khác theo quy định pháp luật.\r\n                    </p>\r\n                    <h3>QUYỀN VÀ NGHĨA VỤ CỦA MContract </h3>\r\n                    <p> Trong phạm vi thỏa thuận này, MContract có các quyền và nghĩa vụ sau:\r\n                    </p><p>- Đảm bảo tính pháp lý của Dịch Vụ cung cấp cho Người Dùng. Theo đó, MContract cam kết công khai các Dịch Vụ, Chi phí Dịch Vụ, thỏa thuận cũng như các vấn đề liên quan đến Người Dùng.\r\n                    </p><p>- Hỗ trợ Người Dùng trong quá trình sử dụng Dịch Vụ được cung cấp; Tiếp nhận, giải quyết khiếu nại đúng quy định của Người Dùng trong quá trình sử dụng Dịch Vụ được cung cấp.\r\n                    </p><p> - Bảo mật Dữ Liệu của Người Dùng. MContract cam kết không bán hoặc trao đổi những thông tin này với bên thứ ba, trừ trường hợp theo quy định pháp luật hoặc được thành viên chấp nhận.\r\n                    </p><p>   - Rà soát và có quyền tạm khóa, chấm dứt tài khoản của Người Dùng mà không cần sự đồng ý và không phải chịu bất cứ trách nhiệm nào trong trường hợp phát hiện hoặc có cơ sở cho thấy Người Dùng cung cấp thông tin không trung thực, không chính xác, hoặc  Người Dùng vi phạm bất cứ điều khoản nào trong thỏa thuận pháp lý của chúng tôi.\r\n                    </p><p> - Khi phát hiện những vi phạm như gian lận, bẻ khóa hay đánh cắp thông tin hoặc những lỗi khác, ở mức độ hợp lý, MContract có quyền yêu cầu cơ quan chức năng can thiệp để giải quyết. Theo đó, chúng tôi có quyền sử dụng thông tin được cung cấp để phục vụ quá trình này  theo quy định của pháp luật.\r\n                    </p><p>   - Phối hợp với cơ quan nhà nước có thẩm quyền trong các trường hợp cần thiết liên quan quy trình báo cáo, thanh tra, kiểm tra, kiện tụng pháp lý; liên quan đến các hoạt động khủng bố, tội phạm, an ninh quốc gia.\r\n                    </p>\r\n                    <h3> BẢO MẬT DỮ LIỆU CÁ NHÂN</h3>\r\n                    <p> Tại MContract việc bảo vệ Dữ Liệu của Người Dùng luôn là ưu tiên hàng đầu. Chúng tôi hiểu rằng, các dữ liệu của Người Dùng là thuộc quyền sở hữu hợp pháp và được pháp luật bảo vệ, chính vì vậy, việc thu thập, lưu giữ, xử lý Dữ Liệu chỉ được MContract thực hiện khi có sự đồng ý và cho phép của Người Dùng.\r\n                    </p><p>  Chúng tôi luôn nỗ lực xây dựng và hoàn thiện các điều khoản trong Chính Sách Bảo Mật để đảm bảo các tiêu chuẩn và yêu cầu của Người Dùng. Theo đó, Chính Sách Bảo Mật áp dụng cho toàn bộ việc sử dụng Dịch Vụ của MContract. Các điều khoản của Chính Sách Bảo Mật cũng được coi là một phần của thỏa thuận Người Dùng này. Bạn vui lòng tìm hiểu chi tiết tại “Chính Sách Bảo Mật”.\r\n                    </p>\r\n                    <h3>TRƯỜNG HỢP BẤT KHẢ KHÁNG</h3>\r\n                    <p>Nếu phát sinh rủi ro, thiệt hại trong trường hợp bất khả kháng bao gồm nhưng không giới hạn như chập điện, hư hỏng phần cứng, phần mềm, sự cố đường truyền internet hoặc do thiên tai, .... Người Dùng phải chấp nhận những rủi ro, thiệt hại nếu có. MContract cam kết sẽ nỗ lực giảm thiểu những rủi ro, thiệt hại phát sinh. Tuy nhiên chúng tôi sẽ không chịu bất cứ trách nhiệm nào phát sinh trong các trường hợp này.\r\n                    </p>\r\n                    <h3>SỞ HỮU TRÍ TUỆ</h3>\r\n                    <p>- Người Dùng đồng ý rằng Dịch Dịch Vụ, bao gồm nhưng không giới hạn ở nội dung, đồ họa, giao diện Người Dùng, hình ảnh, logo, tài liệu điện tử, clip âm thanh, clip video, nội dung biên tập và phần mềm được sử dụng để thực hiện Dịch Vụ, có chứa thông tin và tài liệu độc quyền thuộc sở hữu của MContract và/hoặc bên cấp phép của MContract, và được bảo vệ theo luật sở hữu trí tuệ và các luật khác, bao gồm nhưng không giới hạn ở luật bản quyền. Người Dùng đồng ý sẽ không sử dụng thông tin hoặc tài liệu độc quyền này theo bất kỳ cách nào, ngoại trừ việc sử dụng Dịch Vụ phù hợp với Thỏa thuận này.\r\n                    </p><p>- Tất cả quyền sở hữu trí tuệ tồn tại trên, trong các Dịch Vụ đều thuộc về MContract hoặc được cấp phép hợp pháp cho MContract. Theo đó, tất cả các quyền hợp pháp của MContract đều được đảm bảo bởi pháp luật. Trừ khi có sự đồng ý bằng văn bản của MContract, Người Dùng không được phép sử dụng, sao chép, xuất bản, tái sản xuất, truyền hoặc phân phát bằng bất cứ hình thức nào, bất cứ thành phần nào của Dịch Vụ.\r\n                    </p><p>- MContract có toàn quyền, bao gồm nhưng không giới hạn các quyền về thương hiệu, bí mật kinh doanh và các quyền sở hữu khác đối với Dịch Vụ của MContract. Việc sử dụng quyền và sở hữu của MContract cần phải được cấp phép rõ ràng bằng văn bản. Theo đó chúng tôi không cấp phép dưới bất kỳ hình thức nào bao gồm nhưng không giới hạn các công bố, hàm ý cho phép Người Dùng thực hiện các quyền trên.\r\n                    </p>\r\n                    <h3>CHẤM DỨT VÀ TẠM NGỪNG DỊCH VỤ</h3>\r\n                    <p>MContract có quyền ngừng cung cấp Dịch Vụ cho Người Dùng trong các trường hợp sau: Người Dùng không tuân thủ, hoặc có căn cứ để MContract nghi ngờ Người Dùng đã không tuân thủ, bất kỳ điều khoản nào của thỏa thuận này; Người Dùng sử dụng Dịch Vụ và/hoặc trang web nhằm thực hiện hành vi vi phạm pháp luật. Bao gồm nhưng không giới hạn các hành vi gian lận trong sử dụng Dịch Vụ, gian lận trong thanh toán…; Theo yêu cầu của cơ quan chức năng có thẩm quyền và quy định của pháp luật.\r\n                    </p>\r\n                    <p>Theo đó MContract có thể, mà không cần thông báo cho quý khách: (i) chấm dứt Thỏa thuận này và/hoặc tài khoản của Người Dùng và/hoặc (ii) chấm dứt thỏa thuận sử dụng Dịch Vụ của quý khách; và/hoặc (iii) ngăn cản quý khách truy cập vào trang web.</p>\r\n\r\n                    <h3>TỪ CHỐI BẢO ĐẢM VÀ GIỚI HẠN TRÁCH NHIỆM</h3>\r\n                    <p> - MContract tuyên bố từ chối trách nhiệm đối với mọi thiệt hại, trách nhiệm pháp lý phát sinh do bất kỳ lỗi hệ thống, lỗi đường truyền; sự cố kỹ thuật; sự cố máy chủ hoặc do trường hợp Bất khả kháng; … Người Dùng phải chấp nhận những rủi ro, thiệt hại nếu có. Tuy nhiên, MContract cam kết sẽ nỗ lực giảm thiểu rủi ro, thiệt hại phát sinh.\r\n                    </p><p> - MContract sẽ không chịu bất kỳ loại trách nhiệm nào cùng với các khoản thanh toán, phí, tiền phạt hay bồi thường mà không phải phát sinh từ lỗi cố ý của MContract.\r\n                    </p><p> - MContract sẽ thực hiện những cố gắng hợp lý để bảo vệ thông tin do Người Dùng cung cấp có liên quan đến Dịch Vụ. Tuy nhiên, Người Dùng đồng ý miễn trừ MContract đối với bất kỳ và tất cả trách nhiệm pháp lý với bất kỳ thiệt hại hoặc trách nhiệm nào liên quan đến các thông tin đó.\r\n                    </p><p> - Người Dùng đồng ý bồi thường và giữ cho MContract, giám đốc, thành viên sáng lập, người tiền nhiệm, người kế thừa, nhân viên, đại lý, công ty con và chi nhánh, không bị tổn hại bởi bất kỳ yêu cầu, trách nhiệm, khiếu nại hoặc chi phí nào (kể cả phí luật sư) bởi bất kỳ bên thứ ba nào do hoặc phát sinh từ hoặc liên quan đến việc Người Dùng sử dụng Dịch Vụ.\r\n                    </p>\r\n                    <h3>GIẢI QUYẾT TRANH CHẤP</h3>\r\n                    <p> - Tất cả các vấn đề liên quan đến việc Người Dùng truy cập hoặc sử dụng Dịch Vụ, bao gồm các tranh chấp, sẽ chịu sự điều chỉnh của luật pháp Việt Nam.\r\n                    </p><p> - Các khiếu nại phát sinh trong quá trình sử dụng Dịch Vụ phải được gửi đến MContract ngay khi sự kiện đó phát sinh. Chúng tôi cam kết sẽ hỗ trợ giải quyết hợp lý cho những trường hợp cung cấp thông tin đầy đủ chính xác. Bên khiếu nại có nghĩa vụ cung cấp bằng chứng liên quan đến khiếu nại và chịu trách nhiệm về nội dung khiếu nại cũng như bằng chứng đã cung cấp.\r\n                    </p><p> - Trong trường hợp xảy ra tranh chấp giữa Người Dùng hoặc tranh chấp với bên thứ ba, các bên  sẽ tự sắp xếp giải quyết vấn đề của mình. MContract sẽ hỗ trợ thông tin liên hệ và các thông tin hợp lý để bảo vệ tối đa quyền lợi hợp pháp và chính đáng của Người Dùng.\r\n                    </p>\r\n                    <h3>HIỆU LỰC THỎA THUẬN</h3>\r\n                    <p>- Nếu bất kỳ phần nào của thỏa thuận này không có hiệu lực hoặc không thể thi hành, phần đó sẽ được hiểu theo cách phù hợp với pháp luật và tiếp tục có hiệu lực thi hành. Việc MContract không thực hiện bất kỳ quyền hoặc quy định nào trong thỏa thuận này sẽ không được coi là từ bỏ quy định đó hoặc bất kỳ quy định nào khác. Chúng tôi cũng sẽ không chịu trách nhiệm về việc không thực hiện bất kỳ nghĩa vụ nào do các nguyên nhân nằm ngoài tầm kiểm soát của mình.\r\n                    </p><p>- Người Dùng đồng ý cấp cho MContract quyền thực hiện các bước cần thiết hoặc thích hợp một cách hợp lý để thi hành và/hoặc xác minh sự tuân thủ với bất kỳ phần nào của thỏa thuận này.\r\n                    </p>\r\n                </div>\r\n            </SimpleBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { PagePolicy };","export default __webpack_public_path__ + \"static/media/ap.3efb7435.webp\";","export default __webpack_public_path__ + \"static/media/infomation.5fa61d05.webp\";","export default __webpack_public_path__ + \"static/media/step_1.cef88020.webp\";","export default __webpack_public_path__ + \"static/media/step_2.a055d792.webp\";","export default __webpack_public_path__ + \"static/media/step_3.ba272722.webp\";","export default __webpack_public_path__ + \"static/media/step_4.c00a9eb9.webp\";","export default __webpack_public_path__ + \"static/media/step_5.61c88a90.webp\";","import ap from '@/assets/images/ap.webp';\r\nimport infomation from '@/assets/images/infomation.webp';\r\nimport step_1 from '@/assets/images/step_1.webp';\r\nimport step_2 from '@/assets/images/step_2.webp';\r\nimport step_3 from '@/assets/images/step_3.webp';\r\nimport step_4 from '@/assets/images/step_4.webp';\r\nimport step_5 from '@/assets/images/step_5.webp';\r\nimport { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SimpleBar from \"simplebar-react\";\r\nimport { IconFileCheckLarge, IconSupport } from '@Components/Icon';\r\n\r\nPageSearch.propTypes = {\r\n\r\n};\r\n\r\nfunction PageSearch(props) {\r\n    useEffect(() => {\r\n        document.body.style.backgroundColor = \"#fff\";\r\n        return () => {\r\n            document.body.style.backgroundColor = '#eef5f9';\r\n        };\r\n    }, []);\r\n    useEffect(() => {\r\n        document.title = \"MContract\"\r\n    }, []);\r\n    return (\r\n        <div className=\"search-policy\">\r\n            <nav id=\"navbar-example2\" className=\"navbar navbar-light bg-light\">\r\n                <a className=\"navbar-brand\" href=\"javascript:void(0)\">TRA CỨU THÔNG TIN</a>\r\n                <ul className=\"nav nav-pills\">\r\n                    <li className=\"nav-item\">\r\n                        <a className=\"nav-link\" href=\"#policy\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                                className=\"bi bi-journal-check\" viewBox=\"0 0 16 16\">\r\n                                <path fillRule=\"evenodd\"\r\n                                    d=\"M10.854 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 8.793l2.646-2.647a.5.5 0 0 1 .708 0z\" />\r\n                                <path d=\"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z\" />\r\n                                <path d=\"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z\" />\r\n                            </svg>\r\n                            &nbsp;Chính sách</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <a className=\"nav-link\" href=\"#info\">\r\n                            <IconSupport />\r\n                            &nbsp;Câu hỏi thường gặp</a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n            <SimpleBar className=\"container-fluid px-24px\" id=\"page_content\">\r\n                <div data-spy=\"scroll\" data-target=\"#navbar-example2\" data-offset=\"0\">\r\n                    <h4 id=\"policy\">THÔNG TIN CHÍNH SÁCH</h4>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-md-6 mb-3 mb-sm-0\">\r\n                            <div className=\"card h-100\">\r\n                                <img src={ap} className=\"card-img-top\" alt=\"...\" loading=\"lazy\" />\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Điều khoản và điều kiện</h5>\r\n                                    <p className=\"card-text\">\r\n                                        Hệ thống MContract thu thấp thông tin của khách hàng với các mục đích....\r\n                                    </p>\r\n                                    <Link to=\"/tra-cuu/dieu-khoan\" className=\"btn btn-primary\"\r\n                                    >Xem chi tiết\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-12 col-md-6 mb-3 mb-sm-0\">\r\n                            <div className=\"card h-100\">\r\n                                <img src={infomation} className=\"card-img-top\" alt=\"...\" loading=\"lazy\" />\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Chính sách bảo mật</h5>\r\n                                    <p className=\"card-text\">Chính sách bảo mật nhằm bảo vệ thông tin của khách hàng khi sử dụng...</p>\r\n                                    <Link to=\"/tra-cuu/chinh-sach\" className=\"btn btn-primary\" >Xem chi tiết\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <h4 id=\"info\">CÂU HỎI THƯỜNG GẶP</h4>\r\n                    <div className=\"fqa pb-5 text-justify\">\r\n                        <div className=\"accordion\" id=\"accordionExample\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" id=\"headingOne\">\r\n                                    <h2 className=\"mb-0\">\r\n                                        <button className=\"btn btn-link btn-block text-left question-custom\" type=\"button\"\r\n                                            data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"false\"\r\n                                            aria-controls=\"collapseOne\">\r\n                                            <div className=\"circle\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\"\r\n                                                    fill=\"currentColor\" className=\"bi bi-question\" viewBox=\"0 0 16 16\">\r\n                                                    <path d=\"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z\" />\r\n                                                </svg>\r\n                                            </div>\r\n                                            <span>Tính pháp lý của hợp đồng ký số điện tử?</span>\r\n                                        </button>\r\n                                    </h2>\r\n                                </div>\r\n\r\n                                <div id=\"collapseOne\" className=\"collapse\" aria-labelledby=\"headingOne\"\r\n                                    data-parent=\"#accordionExample\">\r\n                                    <div className=\"card-body\">\r\n                                        <p>\r\n                                            Tính pháp lý của Hợp đồng điện tử được căn cứ vào các văn bản pháp luật dưới\r\n                                            đây:\r\n                                        </p>\r\n                                        <p>\r\n                                            <b>Căn cứ vào Luật mẫu của UNCITRAL</b>\r\n                                            (Ủy ban Luật Thương mại quốc tế của Liên\r\n                                            hợp quốc) về Thương mại điện tử năm 1996 (sửa đổi năm 1998),\r\n                                            Luật Giao dịch điện tử 2005:\r\n                                        </p>\r\n\r\n                                        <p>Thừa nhận tính pháp lý của Hợp đồng điện tử.</p>\r\n\r\n                                        <p>\r\n                                            <b>Căn cứ vào Nghị định 130/2018/NĐ-CP</b> quy định chi tiết thi hành Luật giao\r\n                                            dịch điện tử về chữ ký số và dịch vụ chứng thực chữ ký số\r\n                                        </p>\r\n\r\n                                        <p>\r\n                                            Giá trị của chữ ký số trên thông điệp dữ liệu là tương đương với chữ ký trên văn\r\n                                            bản giấy.\r\n                                        </p>\r\n\r\n                                        <p>\r\n                                            Giá trị của chữ ký số của cơ quan/tổ chức trên thông điệp dữ liệu là tương đương\r\n                                            với con dấu.\r\n                                        </p>\r\n\r\n                                        <p>\r\n                                            <b>Căn cứ vào Luật mẫu về Chữ ký điện tử năm 2001</b>: ngày 05 tháng 07 năm 2001,\r\n                                            UNCITRAL đã thông qua Luật mẫu về Chữ ký điện tử và sách hướng dẫn về việc áp\r\n                                            dụng.\r\n                                        </p>\r\n                                        <p>\r\n                                            <b>Căn cứ Công ước Liên hợp quốc về sử dụng các giao dịch điện tử trong các hợp\r\n                                                đồng quốc tế năm 2005</b>:\r\n                                        </p>\r\n                                        <p>\r\n                                            Được bắt đầu từ năm 2001, ngay sau Luật mẫu về Chữ ký điện tử được ban hành. Việc\r\n                                            xây dựng Công ước quốc tế về sử dụng các giao dịch điện tử trong các hợp đồng\r\n                                            quốc tế đã hoàn tất vào ngày 23/11/2005 sau khi được Đại hội đồng Liên hợp quốc\r\n                                            thông qua. Công ước này bao gồm các điều khoản quy định về những vấn đề liên\r\n                                            quan đến hợp đồng điện tử nhằm mục đích tăng cường tính an toàn pháp lý và khả\r\n                                            năng tiên lượng trong thương mại khi mà các giao dịch hợp đồng quốc tế được thực\r\n                                            hiện thông qua các phương tiện điện tử.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" id=\"headingTwo\">\r\n                                    <h2 className=\"mb-0\">\r\n                                        <button className=\"btn btn-link btn-block text-left collapsed question-custom\" type=\"button\"\r\n                                            data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\"\r\n                                            aria-controls=\"collapseTwo\">\r\n                                            <div className=\"circle\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\"\r\n                                                    fill=\"currentColor\" className=\"bi bi-hdd\" viewBox=\"0 0 16 16\">\r\n                                                    <path d=\"M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM3 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\" />\r\n                                                    <path d=\"M16 11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V9.51c0-.418.105-.83.305-1.197l2.472-4.531A1.5 1.5 0 0 1 4.094 3h7.812a1.5 1.5 0 0 1 1.317.782l2.472 4.53c.2.368.305.78.305 1.198V11zM3.655 4.26 1.592 8.043C1.724 8.014 1.86 8 2 8h12c.14 0 .276.014.408.042L12.345 4.26a.5.5 0 0 0-.439-.26H4.094a.5.5 0 0 0-.44.26zM1 10v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1z\" />\r\n                                                </svg>\r\n                                            </div>\r\n                                            <span>USB Token là gì? Nó được cung cấp ở đâu?</span>\r\n                                        </button>\r\n                                    </h2>\r\n                                </div>\r\n                                <div id=\"collapseTwo\" className=\"collapse\" aria-labelledby=\"headingTwo\"\r\n                                    data-parent=\"#accordionExample\">\r\n                                    <div className=\"card-body\">\r\n                                        <p>\r\n                                            <b>Thiết bị USB Token</b> còn được gọi là Chữ ký số hay Chứng thư số, là một\r\n                                            thiết bị chứa các dữ liệu mã hóa và thông tin của một doanh nghiệp, dùng để xác\r\n                                            nhận thay cho chữ ký của doanh nghiệp đó trên các loại văn bản và tài liệu số\r\n                                            được thực hiện trong các giao dịch điện tử qua mạng internet.\r\n                                        </p>\r\n                                        <p>\r\n                                            <b>Thông tin có trong USB Token dành cho doanh nghiệp bao gồm: </b></p>\r\n\r\n                                        <p> - Thông tin doanh nghiệp: tên doanh nghiệp, mã số thuế...</p>\r\n\r\n                                        <p> - Số hiệu của chứng thư số (số seri).</p>\r\n\r\n                                        <p> - Thời hạn có hiệu lực của chứng thư số.</p>\r\n\r\n                                        <p>- Tên của tổ chức chứng thực chữ ký số (Ví dụ: VNPT-CA).</p>\r\n\r\n                                        <p> - Chữ ký số của tổ chức chứng thực chữ ký số.</p>\r\n\r\n                                        <p> - Các hạn chế về mục đích, phạm vi sử dụng của chữ ký số.</p>\r\n\r\n                                        <p> - Các hạn chế về trách nhiệm của tổ chức cung cấp dịch vụ chứng thực chữ ký\r\n                                            số.</p>\r\n\r\n                                        <p> - Các nội dung cần thiết khác theo quy định của Bộ Thông Tin Truyền Thông.</p>\r\n\r\n                                        <p> Như vậy, chữ ký số có giá trị pháp lý tương đương với chữ ký tay và con dấu.</p>\r\n                                        <p>\r\n                                            Hiện nay, doanh nghiệp có thể mua chữ ký số của các doanh nghiệp sau: <b>TẬP\r\n                                                ĐOÀN VIETTEL, FPT, BKAV, CK, VINA, NEWTEL, NACENCOMM, SAFE… </b>Các nhà cung cấp\r\n                                            này được phép cung cấp token cho doanh nghiệp theo quy định của pháp luật.\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" id=\"headingThree\">\r\n                                    <h2 className=\"mb-0\">\r\n                                        <button className=\"btn btn-link btn-block text-left collapsed question-custom\" type=\"button\"\r\n                                            data-toggle=\"collapse\" data-target=\"#collapseThree\" aria-expanded=\"false\"\r\n                                            aria-controls=\"collapseThree\">\r\n                                            <div className=\"circle\">\r\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\"\r\n                                                    fill=\"currentColor\" className=\"bi bi-bar-chart-steps\" viewBox=\"0 0 16 16\">\r\n                                                    <path d=\"M.5 0a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 .5 0zM2 1.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1-.5-.5v-1zm2 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1z\" />\r\n                                                </svg>\r\n                                            </div>\r\n                                            <span>Các bước ký số điện tử với hệ thống MContract?</span>\r\n                                        </button>\r\n                                    </h2>\r\n                                </div>\r\n                                <div id=\"collapseThree\" className=\"collapse\" aria-labelledby=\"headingThree\"\r\n                                    data-parent=\"#accordionExample\">\r\n                                    <div className=\"card-body step\">\r\n                                        <p>Để thực hiện ký số điện tử với hệ thống MContract khách hàng cần thực hiện lần\r\n                                            lượt <b>4 bước</b> đơn giản như sau:</p>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-12 col-md-4 pt-3\">\r\n                                                <p><b>Bước 1: Tải lên hợp đồng</b></p>\r\n                                                <img src={step_1} alt=\"\" loading=\"lazy\" />\r\n                                            </div>\r\n                                            <div className=\"col-12 col-md-4 pt-3\">\r\n                                                <p><b>Hợp đồng đã được tải lên</b></p>\r\n                                                <img src={step_2} alt=\"\" loading=\"lazy\" />\r\n                                            </div>\r\n                                            <div className=\"col-12 col-md-4 pt-3\">\r\n                                                <p><b>Bước 2: Chọn đối tác</b></p>\r\n                                                <img src={step_3} alt=\"\" loading=\"lazy\" />\r\n                                            </div>\r\n                                            <div className=\"col-12 col-md-4 pt-3\">\r\n                                                <p><b>Bước 3: Thiết kế hợp đồng</b></p>\r\n                                                <img src={step_4} alt=\"\" loading=\"lazy\" />\r\n                                            </div>\r\n                                            <div className=\"col-12 col-md-4 pt-3\">\r\n                                                <p><b>Bước 4: Gửi đi</b></p>\r\n                                                <img src={step_5} alt=\"\" loading=\"lazy\" />\r\n                                            </div>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\" id=\"headingfour\">\r\n                                    <h2 className=\"mb-0\">\r\n                                        <button className=\"btn btn-link btn-block text-left collapsed question-custom\" type=\"button\"\r\n                                            data-toggle=\"collapse\" data-target=\"#collapsefour\" aria-expanded=\"false\"\r\n                                            aria-controls=\"collapsefour\">\r\n                                            <div className=\"circle\">\r\n                                                <IconFileCheckLarge />\r\n                                            </div>\r\n                                            <span>Các định dạng hợp đồng hỗ trợ tải lên hệ thống MContract?</span>\r\n                                        </button>\r\n                                    </h2>\r\n                                </div>\r\n                                <div id=\"collapsefour\" className=\"collapse\" aria-labelledby=\"headingfour\"\r\n                                    data-parent=\"#accordionExample\">\r\n                                    <div className=\"card-body\">\r\n                                        <p>Hiện tại hệ thống MContract đang hỗ trợ hợp đồng tải lên theo các định dạng\r\n                                            sau:</p>\r\n                                        <p>- Định dạng đuôi <b>.doc, docx.</b></p>\r\n                                        <p>- Định dạng đuôi <b>.pdf.</b></p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </SimpleBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { PageSearch };","import HeaderPolicy from '@Components/HeaderPolicy';\r\nimport React, { useEffect } from 'react';\r\nimport SimpleBar from \"simplebar-react\";\r\n\r\nPageSecurity.defaultProps = {\r\n    title: \"Chính sách bảo mật\",\r\n    titleEn: \"Privacy Policy\"\r\n};\r\n\r\nfunction PageSecurity(props) {\r\n    useEffect(() => {\r\n        document.title = \"MContract\"\r\n    }, []);\r\n    return (\r\n        <div className=\"search-policy\">\r\n            <HeaderPolicy title={props.title} titleEn={props.titleEn} />\r\n            <SimpleBar className=\"container-fluid px-24px\" id=\"page_content\">\r\n                <div className=\"content_en\">\r\n\r\n                    <p>At MContract, protecting the User's personal Data is the main priority. We understand that the User's Data legally belongs to the User and is protected by law. Therefore, MContract only collects, stores, and processes the User’s Data under the consent and permission of the User.\r\n                        In addition to agreeing to the Terms of Use, the User must carefully read the following privacy policies by MContract to access and use the Service. The registration for the Service offered by MContract means the User has agreed and accepted the terms of this Privacy Policy.\r\n                        The Privacy Policy explains how MContract collects, stores, and processes Data when the User accesses or uses our Services.\r\n                    </p>\r\n                    <h3> DEFINITION/GLOSSARY</h3>\r\n                    <p><b><i>“MContract”</i></b>, also know as \"ONLINE TECHNOLOGY SERVICES COMPANY LIMITED\". In this Privacy Policy, MContract may be referred to as \"We\" depending on the context.\r\n                    </p>\r\n                    <p>\r\n                        <b><i>“Service”</i></b> means any product, Service, content, feature, technology, or functionality, as well as all related webpages and relevant applications made available to Users by MContract.\r\n                    </p>\r\n                    <p><b><i>“User”</i></b> means the person/organization that uses the Service.\r\n\r\n                    </p>\r\n                    <p>\r\n                        <b><i>“Data”</i></b> may include first name and last name, address, phone number, email address, gender, date of birth, identity card number or identification number, date of issue, User photo ID, digital signature information, corporate/organization logo (for organizations). Data does not include information that does not identify a particular User.\r\n                    </p>\r\n\r\n                    <h3>  PURPOSE AND SCOPE OF INFORMATION COLLECTION</h3>\r\n                    <p> Data collection aims to:\r\n                    </p><p> - Comply with the legal regulations, perform legal obligations required to provide the Data system.\r\n                    </p><p> - Implement processes and procedures necessary to conduct our business purposes and serve the interests of the Users.\r\n                    </p><p> - Guarantee the storage of the User's information system in MContract's system.\r\n                    </p><p>  - Secure a groundwork for MContract to solve problems and disputes (if any) that occur in the future.\r\n                    </p><p>To the extent of the rights to collect User's information, MContract only collects Data when a User accesses or uses our Services, including the following information:\r\n                    </p><p> - Registration information: When a User registers to use our Service by creating an account, we will collect the necessary Data to perform the requested Service, including full name, address, phone number, email address, gender, date of birth, identity card number or identification number, date of issue, User photo ID, digital signature information, business/organization logo (for organizations). With this information, Users are solely responsible for the security and storage of all activities related to the Service. MContract may ask you to provide additional Data in the course of using the Service.\r\n                    </p><p> - Transaction information and experience: When Users use the payment methods for the MContract Service, we will collect information about these transactions, as well as other information related to the transaction, including but not limited to: the money amount paid for the Services, billing account information, payment method used to complete the transaction, device information, technical usage information, and location information.\r\n                    </p><p> - Information you choose to provide us in order to obtain certain additional Services: when a User requests additional Services or other optional functions, we may need to collect additional information.\r\n                    </p><p> - Other information regarding the User's usage of the Services by MContract: when the User contacts MContract, MContract customer Service department, or responds to a survey, we may collect additional necessary information from the User, or about the User.\r\n\r\n                    </p>\r\n                    <h3>COLLECTION METHODM</h3>\r\n                    <p>When you visit and use Services by MContract, we may use Cookies and other tracking technologies (collectively referred to as \"Cookies\") to recognize and customize the User's online experience: the Services in use, online content, and advertising; to measure the effectiveness of promotions and perform analysis; and to minimize risks, prevent potential fraud, and improve the reliability and safety on Services by MContract.\r\n                    </p><p>  To avoid confusion, the use of Cookies is only performed with the User's consent. However, be noted that some features of our Services are only available only with the use of Cookies. Therefore, if you choose to disable or decline Cookie, the Services may be limited or impossible to process for you.\r\n\r\n                    </p>\r\n                    <h3>SCOPE OF DATA USAGE</h3>\r\n                    <p>MContract only uses the Data with the consent of the User, to carry the purposes described in this Privacy Policy, or when MContract determines it is necessary for the purposes of the legitimate interests of the parties involved. Including:\r\n                    </p><p> - Service operation and provision: the collection of Data enables MContract to regularly communicate with Users regarding the latest Services, updates, upcoming events of MContract. To avoid confusion, the User has the right to choose to participate in the MContract mailing list or not.\r\n                    </p><p> - Delivery of important notices regarding Service: Data collection enables MContract to send important notices such as price information, changes in terms & conditions, and changes in policies. Since this is important information regarding the activities of the involved parties, the User cannot refuse to receive these notices.\r\n                    </p><p> - Personalization of User experience: Data collection enables  MContract to propose and provide Users with the appropriate Services, selection and promotion.\r\n                    </p><p> - Respond to a User's immediate request, for example, to contact the User about a question sent to our customer Service.\r\n                    </p><p>- Risk management and protection of Services and Users from fraud by verifying User identity. Data collection along with device information, technical information, and location information enable MContract to detect and prevent fraud and Service abuse.\r\n                    </p><p> - Manage and develop business operations: Data collection enables MContract to track, analyze and improve the Service, customer care process.\r\n                    </p><p>- Fulfill our obligations to this Privacy Policy as well as to all applicable laws and regulations.\r\n\r\n                    </p>\r\n                    <h3>DATA SHARING</h3>\r\n                    <p>MContract commits to not provide, share or distribute the Data under our management to any third party, except with the consent of the User.\r\n                    </p><p>In some cases, MContract may disclose Data to a third party, with the following specifics:\r\n                    </p><p> - Under the User’s consent.\r\n                    </p><p> - Meet the requirements of the User, including but not limited to the payment linkage, delivery of contracts, documents related to the Service at the request of the User. In these cases, we require the third party to ensure the processing of this Data in accordance with relevant laws.\r\n                    </p><p> - In accordance with the law, legal process, litigation and/or required by the competent authority.\r\n                    </p><p>- Where MContract believes or has reason to believe that the disclosure of the Data is necessary or appropriate to detect, prevent and respond to fraud, unauthorized use of the Service, or violation toward our terms or policies or other illegal or harmful operation; to protect ourselves (including rights, property, Services, prevention of financial loss or physical damage), you or others; to comply with national security, law enforcement or other matters.\r\n                    </p><p> - In addition, in the event of restructure or merger, MContract may transfer any of all Data we collected to the relevant third party.\r\n\r\n                    </p>\r\n                    <h3>DATA RETENTION TIME</h3>\r\n                    <p>The storage of Data will be confidential, Data storage on MContract's server is permanent.\r\n                    </p>\r\n                    <h3>MEASURES AND TOOLS FOR USERS TO ACCESS AND EDIT DATA</h3>\r\n                    <p>The User has the right to check, update, and adjust their personal information by logging into their account and editing personal information or requesting MContract to do so.\r\n                    </p>\r\n\r\n                    <h3>DATA SECURITY COMMITMENT</h3>\r\n                    <p>MContract always gives the confidentiality of User Data the main priority. We maintain technical, physical, and administrative security measures designed to provide reasonable protection of User Data from loss, misuse, unauthorized access, reveal and change.\r\n                    </p><p> - MContract commits to absolutely secure User’s Data confidentiality under this Privacy Policy. The collection and usage of User’s Data are performed only with the consent of the User or upon the request of a competent authority.\r\n                    </p><p> - MContract does not use, transfer, provide or disclose to any third party about the Data without permission from the User.\r\n                    </p><p> - In the event that the Data storage server is attacked by the hackers, resulting in Data loss, MContract will be responsible for reporting the incident to the competent authority for prompt investigation and notification to the User. MContract will not hold any responsibility regarding this case.\r\n                    </p><p>- MContract requires individuals when registering as a member, to provide all relevant personal information such as full name, contact address, email, identity card number, phone ..., and take the responsibility for the legality of the above information. MContract does not take any responsibility or resolve any claims/dispute related to the interests of that User given all information provided by the User in the initial registration is inaccurate.\r\n                    </p><p>  - Users have the right to submit complaints about the disclosure of personal information to third parties to MContract. When receiving these claims, MContract will validate the information, be responsible for responding to the User’s claim regarding the reason and guide Users to recover and secure the information.\r\n                    </p><p>  - In case MContract has modifications or supplements, it is not obligated to notify the User in advance, the modification happens in a default manner. Users must regularly check for updates to this Privacy Policy. In case MContract updates the Privacy Policy and the User continues to use the Service after the update, it means that the User agrees to the new term(s) provided in the update.\r\n                    </p><p> - While we are committed to protecting the systems and Services, Users are still responsible for protecting and maintaining the privacy of their own passwords and account/profile registration information and verification, proven that the Data we hold is accurate and is always up to date.\r\n                    </p><p> - Users are solely responsible for personal information when sharing products and Services of MContract on other platforms. Please be careful when sharing this information.\r\n                    </p>\r\n\r\n                    <h3>TERMS AND CONDITIONS</h3>\r\n                    <p> Users are required to read and agree to these Terms and Conditions before using the Service.\r\n                    </p><p>The Terms and Conditions govern the rights and obligations of the User, as a customer, to use the Services provided by MContract.\r\n                    </p>\r\n                </div>\r\n                <div className=\"content_vi\">\r\n                    <p>Tại MContract việc bảo vệ dữ liệu cá nhân của Người Dùng là ưu tiên hàng đầu. Chúng tôi hiểu rằng, các dữ liệu của Người Dùng là thuộc quyền sở hữu hợp pháp và được pháp luật bảo vệ. Chính vì vậy, việc thu thập, lưu trữ và xử lý dữ liệu cá nhân chỉ được MContract thực hiện khi có sự đồng ý và cho phép của Người Dùng.\r\n                    </p><p>  Để truy cập và sử dụng Dịch Vụ ngoài việc đồng ý về điều khoản sử dụng thì Người Dùng còn phải đọc kỹ những chính sách bảo mật của MContract sau đây. Việc đăng ký sử dụng Dịch Vụ của MContract cũng có nghĩa rằng Người Dùng đã đồng ý và chấp thuận ràng buộc bởi các điều khoản của bản Chính Sách Bảo Mật này.\r\n                    </p><p> Chính Sách Bảo Mật giải thích cách MContract thu thập, lưu giữ và xử lý Dữ Liệu trong quá trình Người Dùng truy cập hoặc sử dụng Dịch Vụ của Chúng Tôi.\r\n                    </p>\r\n                    <h3>ĐỊNH NGHĨA</h3>\r\n                    <p>Các thuật ngữ viết hoa trong Chính Sách Bảo Mật này có ý nghĩa như sau:\r\n                    </p><p> <b><i>“MContract”</i></b> nghĩa là Công Ty TNHH Dịch Vụ Công Nghệ Trực Tuyến. Trong Chính Sách Bảo Mật này,  MContract có thể  được đề cập là “Chúng Tôi” tùy theo ngữ cảnh.\r\n                    </p><p> <b><i>“Dịch Vụ”</i></b> nghĩa là mọi sản phẩm, Dịch Vụ, nội dung, tính năng, công nghệ hay chức năng, cũng như tất cả các trang web, ứng dụng liên quan do MContract cung cấp cho Người Dùng.\r\n                    </p><p><b><i>“Người Dùng”</i></b> nghĩa là cá nhân/tổ chức sử dụng Dịch Vụ.\r\n\r\n                    </p><p><b><i>“Dữ Liệu”</i></b> có thể bao gồm họ và tên, địa chỉ, số điện thoại, địa chỉ email, giới tính, ngày sinh, số chứng minh nhân dân hoặc căn cước công dân, ngày cấp, hình nhận diện Người Dùng, thông tin chữ ký số, logo doanh nghiệp/tổ chức (đối với tổ chức). Dữ Liệu không bao gồm các thông tin không xác định danh tính của một Người Dùng cụ thể.\r\n                    </p>\r\n                    <h3>MỤC ĐÍCH THU THẬP THÔNG TIN VÀ PHẠM VI ÁP DỤNG</h3>\r\n                    <p> Việc thu thập Dữ Liệu nhằm:\r\n                    </p><p> - Tuân thủ các quy định pháp luật, thực hiện các nghĩa vụ pháp lý yêu cầu cung cấp hệ thống Dữ Liệu.\r\n                    </p><p>- Thực hiện các quy trình, thủ tục nhằm đảm bảo mục đích kinh doanh của chúng tôi và quyền lợi của Người Dùng.\r\n                    </p><p> - Đảm bảo việc lưu trữ hệ thống thông tin của Người Dùng trong hệ thống của MContract.\r\n                    </p><p> - Tạo cơ sở để MContract giải quyết những vấn đề , tranh chấp (nếu có) xảy ra.\r\n\r\n                    </p><p> Trong phạm vi về quyền thu thập thông tin của Người Dùng, MContract thu thập các Dữ Liệu khi Người Dùng truy cập hay sử dụng Dịch Vụ của chúng tôi, bao gồm những thông tin sau:\r\n                    </p><p> - Thông tin đăng ký sử dụng: Khi Người Dùng đăng ký sử dụng Dịch Vụ của chúng tôi bằng cách tạo tài khoản, chúng tôi sẽ thu thập Dữ Liệu cần thiết để thực hiện Dịch Vụ được yêu cầu, bao gồm:  họ và tên, địa chỉ, số điện thoại, địa chỉ email, giới tính, ngày sinh, số chứng minh nhân dân hoặc căn cước công dân, ngày cấp, hình nhận diện Người Dùng, thông tin chữ ký số, logo doanh nghiệp/tổ chức (đối với tổ chức). Với các thông tin này, Người Dùng sẽ tự chịu trách nhiệm về bảo mật và lưu giữ mọi hoạt động sử dụng Dịch Vụ. MContract có thể yêu cầu bạn cung cấp Dữ Liệu bổ sung trong quá trình sử dụng Dịch Vụ.\r\n                    </p><p> - Thông tin giao dịch và trải nghiệm:  Khi Người Dùng sử dụng các phương thức thanh toán cho Dịch Vụ của MContract, chúng tôi sẽ thu thập thông tin về các giao dịch này, cũng như thông tin khác liên quan đến giao dịch, bao gồm nhưng không giới hạn: số tiền thanh toán cho các Dịch Vụ, thông tin về tài khoản thanh toán, phương thức thanh toán được sử dụng để hoàn tất giao dịch, thông tin về thiết bị, dữ liệu sử dụng kỹ thuật và thông tin vị trí địa lý.\r\n                    </p><p>- Thông tin bạn chọn cung cấp cho chúng tôi để có được Dịch Vụ bổ sung cụ thể: khi Người Dùng yêu cầu thêm các Dịch Vụ khác  hoặc các chức năng tùy chọn khác, chúng tôi có thể cần thu thập thêm thông tin.\r\n                    </p><p>- Thông tin khác liên quan đến việc Người Dùng sử dụng các Dịch Vụ của MContract: khi Người Dùng liên lạc với MContract, liên hệ với bộ phận chăm sóc khách hàng của MContract hoặc trả lời khảo sát, chúng tôi có thể thu thập thêm thông tin cần thiết từ hoặc về Người Dùng.\r\n                    </p>\r\n                    <h3>PHƯƠNG THỨC THU THẬP</h3>\r\n                    <p>Khi bạn truy cập, sử dụng Dịch vụ MContract có thể sử dụng Cookie và các công nghệ theo dõi khác (gọi chung là \"Cookie\") để nhận ra và tùy chỉnh trải nghiệm trực tuyến của Người Dùng: các Dịch Vụ được sử dụng, nội dung trực tuyến và quảng cáo; đo lường hiệu quả của chương trình khuyến mãi và thực hiện phân tích; và để giảm thiểu rủi ro, ngăn chặn gian lận tiềm ẩn và nâng cao độ tin cậy và an toàn trên Dịch Vụ của MContract.\r\n                    </p><p>Để tránh nhầm lẫn, việc sử dụng Cookie chỉ được thực hiện dưới sự cho phép của Người Dùng. Tuy nhiên, lưu ý rằng, một số tính năng các Dịch Vụ của chúng tôi chỉ khả dụng khi sử dụng Cookie. Vì vậy, nếu bạn chọn tắt hoặc từ chối Cookie, việc sử dụng các Dịch Vụ của bạn có thể bị giới hạn hoặc không thể thực hiện được.\r\n                    </p>\r\n                    <h3>PHẠM VI SỬ DỤNG DỮ LIỆU</h3>\r\n                    <p>MContract sử dụng các Dữ Liệu với sự chấp thuận của Người Dùng, nhằm thực hiện các mục đích được mô tả trong Chính Sách Bảo Mật này, hoặc khi MContract đánh giá việc này là cần thiết vì mục đích của lợi ích hợp pháp của các bên. Bao gồm:\r\n                    </p><p> - Vận hành và cung cấp Dịch Vụ: Dữ Liệu thu thập được cho phép MContract thường xuyên liên lạc với Người Dùng về các Dịch Vụ mới nhất, cập nhật thông tin, sự kiện sắp tới của MContract. Để tránh nhầm lẫn, Người Dùng có quyền lựa chọn có/không tham gia vào danh sách gửi thư của MContract.\r\n                    </p><p>- Gửi thông báo quan trọng liên quan đến Dịch Vụ: Dữ Liệu thu thập được cho phép MContract gửi các thông báo quan trọng như: thông tin về giá, các thay đổi đối với điều khoản, điều kiện và chính sách của MContract. Vì đây là thông tin quan trọng đối với hoạt động của các bên nên Người Dùng không thể từ chối nhận các thông báo này.\r\n                    </p><p>- Cá nhân hóa trải nghiệm của Người Dùng: Dữ Liệu thu thập được cho phép MContract đề xuất, cung cấp cho Người Dùng các Dịch Vụ, lựa chọn, ưu đãi phù hợp.\r\n                    </p><p>- Đáp ứng yêu cầu phát sinh tức thời của Người Dùng, ví dụ: để liên hệ với bạn về thắc mắc bạn đã gửi cho bộ phận chăm sóc khách hàng của chúng tôi.\r\n                    </p><p> - Quản lý rủi ro và bảo vệ các Dịch Vụ và Người Dùng tránh khỏi gian lận bằng cách xác minh danh tính Người Dùng. Dữ Liệu thu thập được cùng với các thông tin thiết bị, dữ liệu kỹ thuật, vị trí địa lý giúp MContract phát hiện và ngăn chặn gian lận và lạm dụng các Dịch Vụ.\r\n                    </p><p> - Quản lý, phát triển hoạt động kinh doanh: Dữ Liệu thu thập được cho phép MContract theo dõi, phân tích và cải thiện Dịch Vụ, quy trình chăm sóc khách hàng.\r\n                    </p><p> - Thực hiện nghĩa vụ của chúng tôi với Chính Sách Bảo Mật này cũng như đối với tất cả các luật và quy định hiện hành.\r\n                    </p>\r\n                    <h3>CHIA SẺ DỮ LIỆU</h3>\r\n                    <p>MContract cam kết không cung cấp, chia sẻ phát tán Dữ Liệu mà mình thu thập, quản lý cho bên thứ ba bất kỳ,  trừ trường hợp có sự đồng ý của Người Dùng đó.\r\n                    </p><p>Trong một vài trường hợp, MContract có thể tiết lộ Dữ Liệu cho bên thứ ba, cụ thể như sau:\r\n                    </p><p>- Khi có sự đồng ý của Người Dùng.\r\n                    </p><p>- Đáp ứng yêu cầu của Người Dùng, bao gồm nhưng không giới hạn việc liên kết thanh toán, giao nhận hợp đồng, chứng từ liên quan đến Dịch Vụ theo yêu cầu của Người Dùng. Trong những trường hợp này, chúng tôi yêu cầu các bên thứ ba đó phải đảm bảo xử lý các Dữ Liệu này theo luật pháp liên quan.\r\n                    </p><p>- Theo pháp luật, quy trình pháp lý, kiện tụng và/hoặc có yêu cầu của cơ quan có thẩm quyền.\r\n                    </p><p>- Trường hợp MContract tin rằng hoặc có lý do để tin rằng, việc tiết lộ Dữ Liệu là cần thiết hoặc phù hợp để phát hiện, ngăn chặn và xử lý hành vi gian lận, hành vi sử dụng trái phép Dịch Vụ, hành vi vi phạm các điều khoản hoặc chính sách của chúng tôi hay hoạt động phi pháp hoặc có hại khác; để bảo vệ chính chúng tôi (gồm quyền, tài sản, Dịch Vụ, ngăn chặn tổn thất tài chính hoặc thiệt hại vật chất), bạn hoặc những người khác; vì mục đích an ninh quốc gia, thực thi pháp luật hoặc các vấn đề khác.\r\n                    </p><p>- Ngoài ra, trong trường hợp tổ chức lại, sáp nhập, MContract có thể chuyển giao bất kỳ và tất cả Dữ Liệu chúng tôi thu thập được cho bên thứ ba có liên quan.\r\n                    </p>\r\n                    <h3>THỜI GIAN LƯU TRỮ DỮ LIỆU</h3>\r\n                    <p>Việc lưu trữ Dữ liệu sẽ được bảo mật, lưu trữ tại máy chủ của MContract là vĩnh viễn.\r\n                    </p>\r\n                    <h3>PHƯƠNG TIỆN VÀ CÔNG CỤ ĐỂ NGƯỜI DÙNG TIẾP CẬN VÀ CHỈNH SỬA DỮ LIỆU</h3>\r\n                    <p>Người Dùng có quyền tự kiểm tra, cập nhật, điều chỉnh thông tin cá nhân của mình bằng cách đăng nhập vào tài khoản và chỉnh sửa thông tin cá nhân hoặc yêu cầu MContract thực hiện việc này.\r\n                    </p>\r\n                    <h3>CAM KẾT BẢO MẬT DỮ LIỆU</h3>\r\n                    <p>MContract luôn coi trọng việc bảo mật Dữ Liệu của Người Dùng. Chúng tôi duy trì các biện pháp bảo mật bằng kỹ thuật, vật lý và quản trị được thiết kế để cung cấp biện pháp bảo vệ hợp lý cho Dữ Liệu của Người Dùng khỏi bị thất lạc, lạm dụng, truy cập trái phép, tiết lộ và thay đổi.\r\n                    </p><p>- Dữ Liệu của Người Dùng được MContract cam kết bảo mật tuyệt đối theo Chính Sách Bảo Mật này. Việc thu thập và sử dụng chỉ được thực hiện khi có sự đồng ý của Người Dùng hoặc theo yêu cầu của cơ quan nhà nước có thẩm quyền.\r\n                    </p><p>- Không sử dụng, không chuyển giao, cung cấp hay tiết lộ cho bên thứ ba nào về Dữ Liệu khi không có sự cho phép từ Người Dùng.\r\n                    </p><p>- Trong trường hợp máy chủ lưu trữ dữ liệu bị hacker tấn công dẫn đến mất mát Dữ Liệu, MContract sẽ có trách nhiệm thông báo vụ việc cho cơ quan chức năng điều tra xử lý kịp thời và thông báo cho Người Dùng được biết. MContract sẽ không phải chịu trách nhiệm phát sinh liên quan đến việc mất mát Dữ Liệu này của Người Dùng.\r\n                    </p><p>- MContract yêu cầu các cá nhân khi đăng ký là thành viên, phải cung cấp đầy đủ thông tin cá nhân có liên quan như: họ và tên, địa chỉ liên lạc, email, số chứng minh nhân dân, số điện thoại …., và chịu trách nhiệm về tính pháp lý của những thông tin trên. MContract không chịu trách nhiệm cũng như không giải quyết mọi khiếu nại có liên quan đến quyền lợi của Người Dùng đó nếu xét thấy tất cả thông tin cung cấp khi đăng ký ban đầu là không chính xác.\r\n                    </p><p>- Người Dùng có quyền gửi khiếu nại về việc lộ thông tin cá nhân cho bên thứ ba đến MContract. Khi tiếp nhận những phản hồi này, MContract sẽ xác nhận lại thông tin, phải có trách nhiệm trả lời lý do và hướng dẫn Người Dùng khôi phục và bảo mật lại thông tin.\r\n                    </p><p>- Trường hợp MContract có sửa đổi, bổ sung thì không cần phải thông báo trước cho Người Dùng mà mặc định việc sửa đổi, bổ sung này. Người Dùng phải thường xuyên kiểm tra lại để có các bản cập nhật cho Chính Sách Bảo Mật này. Trong trường hợp MContract cập nhật Chính Sách Bảo Mật và Người Dùng tiếp tục sử dụng Dịch Vụ sau khi cập nhật, điều đó có nghĩa là Người Dùng đồng ý với (các) điều khoản mới được xác định trong bản cập nhật.\r\n                    </p><p>- Mặc dù chúng tôi cam kết bảo vệ hệ thống và Dịch Vụ của chúng tôi nhưng Người Dùng vẫn có trách nhiệm bảo vệ và duy trì quyền riêng tư đối với mật khẩu và thông tin đăng ký tài khoản/hồ sơ của mình và xác minh rằng Dữ Liệu chúng tôi đang lưu giữ là chính xác và luôn được cập nhật.\r\n                    </p><p>- Người Dùng tự chịu trách nhiệm đối với thông tin cá nhân khi chia sẻ về sản phẩm, Dịch Vụ của MContract trên các nền tảng.  Vui lòng cẩn thận khi chia sẻ các thông tin này.\r\n                    </p>\r\n                </div>\r\n            </SimpleBar>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { PageSecurity };","import { useEffect, useRef, useState } from 'react';\r\n\r\nfunction Select({ optionData, currentValue, optionValue, optionText, register, fieldName, validators, onChange, ...props }) {\r\n  const [value, setValue] = useState(currentValue);\r\n  const [data, setData] = useState(optionData);\r\n  const field = register(fieldName, validators);\r\n\r\n  function defaultText(data) {\r\n    // return !data || data.length == 0 ? 'Đang tải dữ liệu...' : 'Vui lòng chọn';\r\n    return 'Vui lòng chọn';\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(currentValue);\r\n  }, [currentValue]);\r\n  useEffect(() => {\r\n    setData(optionData);\r\n  }, [optionData]);\r\n\r\n  return (\r\n    <select\r\n      defaultValue={value}\r\n      {...props}\r\n      {...register(fieldName)}\r\n      onChange={e => {\r\n        field.onChange(e);\r\n        if (onChange) {\r\n          onChange(e.target.value);\r\n        }\r\n      }}\r\n    >\r\n      <option value=\"\">\r\n        {defaultText(data)}\r\n      </option>\r\n      {data.map(item => (\r\n        <option key={optionValue(item)} value={optionValue(item)} selected={value == optionValue(item)} >\r\n          {optionText(item)}\r\n        </option>\r\n      ))}\r\n    </select>\r\n\r\n  );\r\n}\r\nexport default Select;\r\n","import Select from '@Components/Select';\r\nimport { setUser } from '@Redux/Actions/Auth';\r\nimport AuthService from '@Services/auth';\r\nimport GeneralService from '@Services/general';\r\nimport ProfileService from '@Services/profile';\r\nimport { useEffect, useState } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { IconCalendar2 } from '@Components/Icon';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport UploadLogoModal from '@Components/UploadLogoModal';\r\nimport { splitSpace } from '@Utils/helpers';\r\nfunction FormCompany() {\r\n  const user = useSelector(state => state.auth.user);\r\n  const dispatch = useDispatch();\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const {\r\n    register,\r\n    setValue,\r\n    handleSubmit,\r\n    getValues,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: {\r\n      logoPath: user.company.logoPath,\r\n      name: user.company.name,\r\n      email: user.company.email,\r\n      foundDate: user.company.foundDate,\r\n      phoneNumber: user.company.phoneNumber,\r\n      taxCode: user.company.taxCode,\r\n      // proviceCode: user.company.proviceCode,\r\n      // districtCode: user.company.districtCode,\r\n      // wardCode: user.company.wardCode,\r\n      address: user.company.address,\r\n    },\r\n  });\r\n\r\n  // const [provinces, setProvinces] = useState([]);\r\n\r\n  // const [districts, setDistricts] = useState([]);\r\n  // const [isLoadingDistrict, setIsLoadingDistrict] = useState(false);\r\n\r\n  // const [wards, setWards] = useState([]);\r\n  // const [isLoadingWard, setIsLoadingWard] = useState(false);\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const [acceptEmail, setAcceptEmail] = useState(() => {\r\n    return user.acceptEmailNotification;\r\n  });\r\n\r\n  const onSubmitForm = async () => {\r\n    try {\r\n      setIsSubmitting(true);\r\n      // const { name, taxCode, address, proviceCode, districtCode, wardCode } = user.company;\r\n      // const data = {\r\n      //   ...getValues(),\r\n      //   ...{ name, taxCode, address, proviceCode, districtCode, wardCode },\r\n      // };\r\n      const { name, taxCode, address } = user.company;\r\n      const data = {\r\n        ...getValues(),\r\n        ...{ name, taxCode, address },\r\n      };\r\n      const newObj = splitSpace(data, ['logoPath', 'name', 'taxCode', 'address'])\r\n      await ProfileService.updateCompany(newObj);\r\n      const res = await AuthService.profile();\r\n      dispatch(setUser(res.data));\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'SUCCESS_INFOR' }));\r\n    } catch (e) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\" }));\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const onLogoChange = async e => {\r\n    if (e.target.files.length > 0) {\r\n      const file = e.target.files[0];\r\n      setImage(file);\r\n      setShowUploadModal(true);\r\n    }\r\n  }\r\n\r\n  const onSubmitLogo = async (file) => {\r\n    if (file) {\r\n      try {\r\n        setIsUploading(true);\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        const res = await GeneralService.uploadFile(formData);\r\n        setValue('logoPath', res.data.path);\r\n        // const { name, email, taxCode, address, proviceCode, districtCode, wardCode } = user.company;\r\n        // const data = {\r\n        //   ...getValues(),\r\n        //   ...{ name, email, taxCode, address, proviceCode, districtCode, wardCode },\r\n        // };\r\n        const { name, email, taxCode, address } = user.company;\r\n        const data = {\r\n          ...getValues(),\r\n          ...{ name, email, taxCode, address },\r\n        };\r\n        await ProfileService.updateCompany(data);\r\n        const resProfile = await AuthService.profile();\r\n        dispatch(setUser(resProfile.data));\r\n      } catch (err) {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      } finally {\r\n        setIsUploading(false);\r\n      }\r\n    }\r\n  }\r\n  const handleClose = () => {\r\n    setShowUploadModal(false);\r\n    const inputFile = document.getElementById('change-logo-company');\r\n    inputFile.value = '';\r\n  };\r\n\r\n  function AcceptEmailNoti(e) {\r\n    AuthService.acceptEmailNoti({ status: e.target.checked })\r\n      .then(res => {\r\n        user.acceptEmailNotification = res.data.acceptEmailNotification;\r\n        setAcceptEmail(res.data.acceptEmailNotification);\r\n      })\r\n      .catch(err => {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      });\r\n  }\r\n\r\n  // function onProvinceChange(provinceName) {\r\n  //   if (provinceName) {\r\n  //     const arr = provinces.filter(item => item.name.toUpperCase() == provinceName.toUpperCase());\r\n  //     setIsLoadingDistrict(true);\r\n  //     GeneralService.getDistricts(arr[0].id).then(resDistricts => {\r\n  //       const arrayDistricts = resDistricts.data;\r\n  //       setDistricts(arrayDistricts);\r\n  //       setValue('districtCode', ``);\r\n  //       setValue('wardCode', ``);\r\n  //       setIsLoadingDistrict(false);\r\n  //       setIsLoadingWard(true);\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  // function onDistrictChange(districtName) {\r\n  //   if (districtName) {\r\n  //     const arr = districts.filter(item => `${item.prefix} ${item.name}`.toUpperCase() == districtName.toUpperCase());\r\n  //     GeneralService.getWards(arr[0].id)\r\n  //       .then(res => {\r\n  //         setIsLoadingWard(false);\r\n  //         const arrayWards = res.data;\r\n  //         setWards(arrayWards);\r\n  //         setValue('wardCode', ``);\r\n  //       })\r\n  //       .catch(err => {\r\n  //         dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n  //       });\r\n  //   }\r\n  // }\r\n\r\n  // useEffect(() => {\r\n  //   (async () => {\r\n  //     const provinceRes = await GeneralService.getProvinces();\r\n  //     setProvinces(provinceRes.data);\r\n  //     const arr = provinceRes.data.filter(p => p.name.toUpperCase() == user.company.proviceCode.toUpperCase());\r\n  //     if (arr.length > 0) {\r\n  //       const districtRes = await GeneralService.getDistricts(arr[0].id);\r\n  //       setDistricts(districtRes.data);\r\n  //       setIsLoadingDistrict(false);\r\n  //       const arrDis = districtRes.data.filter(d => `${d.prefix.toUpperCase()} ${d.name.toUpperCase()}` == user.company.districtCode.toUpperCase());\r\n  //       if (arrDis.length > 0) {\r\n  //         const wardRes = await GeneralService.getWards(arrDis[0].id);\r\n  //         setWards(wardRes.data);\r\n  //         setIsLoadingWard(false);\r\n  //       } else {\r\n  //         setIsLoadingWard(true);\r\n  //       }\r\n  //     } else {\r\n  //       setIsLoadingDistrict(true);\r\n  //       setIsLoadingWard(true);\r\n  //     }\r\n  //   })();\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, []);\r\n  // function onWardChange(wardName) {\r\n  // }\r\n  function tranformDate(date) {\r\n    const arr = date.split('/');\r\n    return `${arr[1]}/${arr[0]}/${arr[2]}`;\r\n  }\r\n  const isInValidFounded = () => {\r\n    const val = getValues();\r\n    if (val.foundDate && user.birthDate) {\r\n      return new Date(tranformDate(val.foundDate)).getTime() > new Date(tranformDate(user.birthDate)).getTime();\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {Object.keys(user.company).length > 0 && (\r\n        <div className=\"account_section\">\r\n          <div className=\"as_header\">\r\n            <h4>Thông tin doanh nghiệp</h4>\r\n          </div>\r\n          <form onSubmit={handleSubmit(onSubmitForm)} className=\"profile-company\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12 col-sm-auto d-flex align-items-center\">\r\n                <div className=\"as_img_wrap\">\r\n                  <div className=\"com_img_wrap d-flex justify-content-center align-items-center\">\r\n                    {isUploading ? (\r\n                      <>\r\n                        <div className=\"spinner-upload\">\r\n                          <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <img\r\n                          src={getValues('logoPath') ? getValues('logoPath') : ''}\r\n                          className=\"rounded-circle company_logo\"\r\n                          onError={e => {\r\n                            e.target.style.display = 'none';\r\n                          }}\r\n                          alt=\"\"\r\n                          loading=\"lazy\"\r\n                        />\r\n                        <div className=\"img_alt\">\r\n                          <span>{GeneralService.getLetterName(user.company.name)}</span>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <label htmlFor=\"change-logo-company\" className=\"change_icon\" title=\"Thay đổi logo\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"></path>\r\n                      <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"></path>\r\n                    </svg>\r\n                  </label>\r\n                  <input type=\"file\" title=\"Thay đổi logo\" id=\"change-logo-company\" className=\"change_icon\" onChange={e => onLogoChange(e)} accept=\"image/png, image/jpeg, image/jpg\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 col-sm\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"companyName\" className=\"mb-0\">\r\n                    Tên công ty\r\n                  </label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"companyName\" {...register('name')} disabled />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-building\" viewBox=\"0 0 16 16\">\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694L1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z\"\r\n                      />\r\n                      <path d=\"M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.name && errors.name?.type === 'required' && <span className=\"message-errors\">Mời nhập tên công ty</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"comphone\" className=\"mb-0\">\r\n                    Số điện thoại\r\n                  </label>\r\n                  <input type=\"tel\"\r\n                    // className={`form-control ${errors.phoneNumber ? 'is-invalid' : ''} `} \r\n                    className=\"form-control\"\r\n                    id=\"comphone\" autoComplete=\"disable\" {...register('phoneNumber', { required: true, pattern: /^([\\s]{0,})[0][1-9]([0-9]{8})([\\s]{0,})$/g })} />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.phoneNumber && errors.phoneNumber?.type === 'required' && <span className=\"message-errors\">Mời nhập số điện thoại</span>}\r\n                  {errors.phoneNumber && errors.phoneNumber?.type === 'pattern' && <span className=\"message-errors\">Số điện thoại không hợp lệ</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\" className=\"mb-0\">\r\n                    Email\r\n                  </label>\r\n                  <input type=\"email\" className=\"form-control\" id=\"email\" {...register('email', { required: true, pattern: /^([\\s]{0,})[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}([\\s]{0,})$/g })} />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.email && errors.email?.type === 'required' && <span className=\"message-errors d-block\">Mời nhập email</span>}\r\n                  {errors.email && errors.email?.type === 'pattern' && <span className=\"message-errors d-block\">Email không hợp lệ</span>}\r\n                </div>\r\n\r\n              </div>\r\n              <div className=\"col-12 col-sm\">\r\n                {/* <div className=\"form-group\">\r\n                  <label htmlFor=\"city\" className=\"mb-0\">\r\n                    Tỉnh/Thành phố\r\n                  </label>\r\n                  <select disabled id=\"city\" className=\"custom-select\">\r\n                    {user.company.proviceCode ? <option selected value={user.company.proviceCode}>{user.company.proviceCode}</option> : \"\"}\r\n                  </select>\r\n                  {errors.proviceCode && errors.proviceCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Tỉnh/Thành phố</span>}\r\n                </div> */}\r\n                {/* <div className=\"form-group\">\r\n                  <label htmlFor=\"district\" className=\"mb-0\">\r\n                    Quận/Huyện\r\n                  </label>\r\n                  <select disabled id=\"district\" className=\"custom-select\">\r\n                    {user.company.districtCode ? <option selected value={user.company.districtCode}>{user.company.districtCode}</option> : \"\"}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"ward\" className=\"mb-0\">\r\n                    Phường/Xã\r\n                  </label>\r\n                  <select disabled id=\"district\" className=\"custom-select\">\r\n                    {user.company.wardCode ? <option selected value={user.company.wardCode}>{user.company.wardCode}</option> : \"\"}\r\n                  </select>\r\n                </div> */}\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"taxcode\" className=\"mb-0\">\r\n                    Mã số thuế\r\n                  </label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"taxcode\" {...register('taxCode', { required: true, pattern: /^[0-9]{10,13}$/ })} disabled />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-key\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z\" />\r\n                      <path d=\"M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.taxCode && errors.taxCode?.type === 'required' && <span className=\"message-errors\">Mời nhập mã số thuế</span>}\r\n                  {errors.taxCode && errors.taxCode?.type === 'pattern' && <span className=\"message-errors\">Mã số thuế không hợp lệ</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"found_date\" className=\"mb-0\">\r\n                    Ngày thành lập\r\n                  </label>\r\n                  <input type=\"text\"\r\n                    // className={`form-control datepicker-date ${errors.foundDate ? 'is-invalid' : ''} `} \r\n                    className=\"form-control datepicker-date\"\r\n                    id=\"found_date\" autoComplete=\"disable\" {...register('foundDate', { required: true, validate: isInValidFounded })} />\r\n                  <span className=\"input_icon\">\r\n                    <IconCalendar2 />\r\n                  </span>\r\n                  {errors.foundDate && errors.foundDate?.type === 'required' && <span className=\"message-errors\">Mời nhập ngày thành lập</span>}\r\n                  {errors.foundDate && errors.foundDate?.type === 'validate' && <span className=\"message-errors\">Ngày thành lập phải lớn hơn ngày sinh</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"addressCompany\" className=\"mb-0\">\r\n                    Địa chỉ\r\n                  </label>\r\n                  <input type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"addressCompany\" autoComplete=\"disable\" {...register('address')} disabled />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-geo\" viewBox=\"0 0 16 16\">\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z\"\r\n                      />\r\n                    </svg>\r\n                  </span>\r\n                  {/* {errors.address && errors.address?.type === 'required' && <span className=\"message-errors\">Mời nhập địa chỉ</span>} */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <button className=\"btn btn_new mb-4\" disabled={isSubmitting || isUploading}>\r\n                {isSubmitting ? (\r\n                  <>\r\n                    <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                  </>\r\n                ) : (\r\n                  <>Cập nhật thông tin</>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      <div className=\"account_section\">\r\n        <div className=\"as_header\">\r\n          <h4>Cài đặt thông báo</h4>\r\n        </div>\r\n        <div className=\"row as_noti mb-3\">\r\n          <div className=\"col\">\r\n            <h5>Nhận thông báo qua email</h5>\r\n            <p>MContract sẽ gửi thông báo hợp đồng mới, phản hồi mới, hợp đồng sắp hết hạn,... qua email service@mcontract.vn</p>\r\n          </div>\r\n          <div className=\"col-auto\">\r\n            <div className=\"custom-control custom-switch custom-switch-md\">\r\n              <input type=\"checkbox\" checked={acceptEmail ? true : user.acceptEmailNotification ? true : false} className=\"custom-control-input\" id=\"customSwitch1\" onChange={e => AcceptEmailNoti(e)} />\r\n              <label className=\"custom-control-label\" htmlFor=\"customSwitch1\" style={{ cursor: 'pointer' }}></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <UploadLogoModal show={showUploadModal} isLogo={true} image={image} onHide={handleClose} onSubmit={onSubmitLogo} uploading={isUploading} />\r\n      {/* <UploadAvatarModal show={showUploadModal} image={image} onHide={handleClose} onSubmit={onSubmitLogo} /> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormCompany;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport ProfileService from '@Services/profile';\r\nimport { IconCalendar2 } from '@Components/Icon';\r\nimport GeneralService from '@Services/general';\r\nimport AuthService from '@Services/auth';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Select from '@Components/Select';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { setUser } from '@Redux/Actions/Auth';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport { splitSpace } from '@Utils/helpers';\r\nimport UploadLogoModal from '@Components/UploadLogoModal';\r\n\r\nfunction FormUser() {\r\n  const information = useSelector(state => state.auth.user);\r\n  const [showUploadModal, setShowUploadModal] = useState(false);\r\n  const [image, setImage] = useState('');\r\n  const dispatch = useDispatch();\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    getValues,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: {\r\n      fullName: information.fullName,\r\n      birthDate: information.birthDate,\r\n      districtCode: information.districtCode,\r\n      address: information.address,\r\n      idNo: information.idNo,\r\n      issuedOn: information.issuedOn,\r\n      phoneNumber: information.phoneNumber,\r\n      proviceCode: information.proviceCode,\r\n      sex: information.sex,\r\n      wardCode: information.wardCode,\r\n      avatarPath: information.avatarPath ? information.avatarPath : '',\r\n    },\r\n  });\r\n  const [provinces, setProvinces] = useState([]);\r\n\r\n  const [districts, setDistricts] = useState([]);\r\n  const [isLoadingDistrict, setIsLoadingDistrict] = useState(false);\r\n\r\n  const [wards, setWards] = useState([]);\r\n  const [isLoadingWard, setIsLoadingWard] = useState(false);\r\n\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const onSubmit = async data => {\r\n    try {\r\n      setSubmitting(true);\r\n      const newObj = splitSpace(data, ['birthDate', 'proviceCode', 'wardCode', 'districtCode', 'issuedOn']);\r\n      await ProfileService.updateUser(newObj);\r\n      const res = await AuthService.profile();\r\n      dispatch(setUser(res.data));\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'SUCCESS_INFOR' }));\r\n    } catch (e) {\r\n      dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\" }));\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const [gender, setGender] = useState(() => {\r\n    return information.sex;\r\n  });\r\n\r\n  const onChangeAvatar = async e => {\r\n    if (e.target.files.length > 0) {\r\n      const file = e.target.files[0];\r\n      setImage(file);\r\n      setShowUploadModal(true);\r\n    }\r\n  };\r\n\r\n  const onSubmitAvatar = async file => {\r\n    if (file) {\r\n      try {\r\n        setUploading(true);\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        const res = await GeneralService.uploadFile(formData);\r\n        setValue('avatarPath', res.data.path);\r\n        await ProfileService.updateUser(getValues());\r\n        const resProfile = await AuthService.profile();\r\n        dispatch(setUser(resProfile.data));\r\n      } catch (e) {\r\n        console.error(e);\r\n      } finally {\r\n        setUploading(false);\r\n      }\r\n    }\r\n  };\r\n  function handleCheckGender(e) {\r\n    information.sex = e.target.value;\r\n    setGender(e.target.value);\r\n  }\r\n\r\n  function onProvinceChange(provinceName) {\r\n    if (provinceName) {\r\n      const arr = provinces.filter(item => item.name.toUpperCase() == provinceName.toUpperCase());\r\n      setIsLoadingDistrict(true);\r\n      GeneralService.getDistricts(arr[0].id).then(resDistricts => {\r\n        const arrayDistricts = resDistricts.data;\r\n        setDistricts(arrayDistricts);\r\n        setValue('districtCode', ``);\r\n        setValue('wardCode', ``);\r\n        setIsLoadingDistrict(false);\r\n        setIsLoadingWard(true);\r\n      });\r\n    }\r\n  }\r\n\r\n  function onDistrictChange(districtName) {\r\n    if (districtName) {\r\n      const arr = districts.filter(item => `${item.prefix} ${item.name}`.toUpperCase() == districtName.toUpperCase());\r\n      GeneralService.getWards(arr[0].id)\r\n        .then(res => {\r\n          setWards(res.data);\r\n          setValue('wardCode', ``);\r\n          setIsLoadingWard(false);\r\n        })\r\n        .catch(err => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n        });\r\n    }\r\n  }\r\n  const handleClose = () => {\r\n    setShowUploadModal(false);\r\n    const inputFile = document.getElementById('change-logo-avatar-setting');\r\n    inputFile.value = '';\r\n  };\r\n  function tranformDate(date) {\r\n    const arr = date.split('/');\r\n    return `${arr[1]}/${arr[0]}/${arr[2]}`;\r\n  }\r\n  const isInValidFounded = () => {\r\n    const val = getValues();\r\n    if (val.issuedOn && val.birthDate) {\r\n      return new Date(tranformDate(val.issuedOn)).getTime() > new Date(tranformDate(val.birthDate)).getTime();\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const getAge = (birthDate) => {\r\n    var today = new Date();\r\n    var age = today.getFullYear() - birthDate.getFullYear();\r\n    var m = today.getMonth() - birthDate.getMonth();\r\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n      age--;\r\n    }\r\n    return age;\r\n  }\r\n  const isInvalidBirthday = () => {\r\n    const val = getValues();\r\n    if (val.birthDate) {\r\n      return getAge(new Date(tranformDate(val.birthDate))) >= 18;\r\n    }\r\n    return false;\r\n  }\r\n  useEffect(() => {\r\n    (async () => {\r\n      const provinceRes = await GeneralService.getProvinces();\r\n      const provinceId = provinceRes.data.filter(p => {\r\n        console.log(p.name, information.proviceCode, p.name.toUpperCase().normalize() == information.proviceCode.toUpperCase().normalize() );\r\n        return p.name.toUpperCase().normalize() == information.proviceCode.toUpperCase().normalize();\r\n      })[0].id;\r\n      const districtRes = await GeneralService.getDistricts(provinceId);\r\n      const districtId = districtRes.data.filter(d => `${(d.prefix.toUpperCase() + \" \" + d.name.toUpperCase()).normalize()}` == information.districtCode.toUpperCase().normalize())[0].id;\r\n      const wardRes = await GeneralService.getWards(districtId);\r\n      setProvinces(provinceRes.data);\r\n      setDistricts(districtRes.data);\r\n      setWards(wardRes.data);\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {Object.keys(information).length > 0 && (\r\n        <div className=\"account_section\">\r\n          <div className=\"as_header\">\r\n            <h4>Thông tin cá nhân</h4>\r\n          </div>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"row\">\r\n              <div className=\"col-12 col-sm-auto d-flex align-items-center\">\r\n                <div className=\"as_img_wrap\">\r\n                  <div className=\"com_img_wrap d-flex justify-content-center align-items-center\">\r\n                    {uploading ?\r\n                      <div className=\"spinner-upload\" style={{ position: 'absolute', zIndex: 1, left: 0, top: 0, width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#FFF', borderRadius: '50%' }}>\r\n                        <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\r\n                      </div>\r\n                      : <>\r\n                        <img\r\n                          src={getValues('avatarPath') ? getValues('avatarPath') : ''}\r\n                          className=\"rounded-circle company_logo\"\r\n                          onError={e => {\r\n                            e.target.style.display = 'none';\r\n                          }}\r\n                          alt=\"Avatar\"\r\n                          loading=\"lazy\"\r\n                        />\r\n                        <div className=\"avatar_img_alt\">\r\n                          <span>{GeneralService.getLetterName(information.fullName)}</span>\r\n                        </div>\r\n                      </>\r\n                    }\r\n                  </div>\r\n                  <label htmlFor=\"change-logo-avatar-setting\" className=\"change_icon\" title=\"Thay đổi logo\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-image\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"></path>\r\n                      <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\"></path>\r\n                    </svg>\r\n                  </label>\r\n                  <input type=\"file\" title=\"Thay đổi logo\" id=\"change-logo-avatar-setting\" className=\"change_icon\" onChange={e => onChangeAvatar(e)} accept=\"image/png, image/jpeg, image/jpg\" />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 col-sm\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"fullname\" className=\"mb-0\">\r\n                    Họ tên\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    // className={`form-control ${errors.fullName ? 'is-invalid' : ''} `}\r\n                    className=\"form-control\"\r\n                    id=\"fullname\"\r\n                    autoComplete=\"disable\"\r\n                    {...register('fullName', {\r\n                      required: 'Mời nhập họ tên',\r\n                      maxLength: {\r\n                        value: 100,\r\n                        message: 'Họ tên không được dài quá 100 ký tự',\r\n                      },\r\n                      pattern: {\r\n                        value: /^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/,\r\n                        message: 'Họ tên không hợp lệ',\r\n                      },\r\n                    })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"22\" viewBox=\"0 0 24 24\" width=\"22\" fill=\"currentColor\">\r\n                      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                      <path d=\"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-2.66-5.33-4-8-4z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.fullName && <span className=\"message-errors\">{errors.fullName.message}</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"birthday\" className=\"mb-0\">\r\n                    Ngày sinh\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    // className={`form-control datepicker-date ${errors.birthDate ? 'is-invalid' : ''} `}\r\n                    className=\"form-control datepicker-date\"\r\n                    min=\"1900\"\r\n                    id=\"birthday\"\r\n                    autoComplete=\"disable\"\r\n                    {...register('birthDate', { required: true, validate: isInvalidBirthday })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <IconCalendar2 />\r\n                  </span>\r\n                  {errors.birthDate && errors.birthDate?.type === 'required' && <span className=\"message-errors\">Mời nhập ngày sinh</span>}\r\n                  {errors.birthDate && errors.birthDate?.type === 'validate' && <span className=\"message-errors\">Bạn phải đủ 18 tuổi</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"mb-0\">Giới tính</label>\r\n                  <div className=\"gender_area\">\r\n                    <div className=\"custom-control custom-radio custom-control-inline mr-4\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"gender1\"\r\n                        name=\"gender\"\r\n                        className=\"custom-control-input\"\r\n                        checked={gender === 'Nam' ? true : information.sex === 'Nam' ? true : false}\r\n                        onClick={e => {\r\n                          handleCheckGender(e);\r\n                        }}\r\n                        value=\"Nam\"\r\n                        {...register('sex', { required: 'Mời chọn giới tính' })}\r\n                      />\r\n                      <label className=\"custom-control-label\" htmlFor=\"gender1\">\r\n                        Nam\r\n                      </label>\r\n                    </div>\r\n                    <div className=\"custom-control custom-radio custom-control-inline\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        id=\"gender2\"\r\n                        name=\"gender\"\r\n                        className=\"custom-control-input\"\r\n                        checked={gender === 'Nữ' ? true : information.sex === 'Nữ' ? true : false}\r\n                        onClick={e => {\r\n                          handleCheckGender(e);\r\n                        }}\r\n                        value=\"Nữ\"\r\n                        {...register('sex', { required: 'Mời chọn giới tính' })}\r\n                      />\r\n                      <label className=\"custom-control-label\" htmlFor=\"gender2\">\r\n                        Nữ\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"identity\" className=\"mb-0\">\r\n                    Số CMND/CCCD\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    // className={`form-control ${errors.idNo ? 'is-invalid' : ''} `}\r\n                    className=\"form-control\"\r\n                    id=\"identity\"\r\n                    autoComplete=\"disable\"\r\n                    {...register('idNo', { required: 'Mời nhập số CMND/CCCD', pattern: { value: /^([\\s]{0,})[0-9]{9,12}([\\s]{0,})$/g, message: 'Số CMND/CCCD không hợp lệ' } })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-card-heading\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z\" />\r\n                      <path d=\"M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.idNo && <span className=\"message-errors\">{errors.idNo.message}</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"valid_date\" className=\"mb-0\">\r\n                    Ngày cấp\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    // className={`form-control datepicker-date ${errors.issuedOn ? 'is-invalid' : ''} `}\r\n                    className=\"form-control datepicker-date\"\r\n                    id=\"valid_date\"\r\n                    autoComplete=\"disable\"\r\n                    {...register('issuedOn', { required: true, validate: isInValidFounded })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <IconCalendar2 />\r\n                  </span>\r\n                  {/* {errors.issuedOn && <span className=\"message-errors\">{errors.issuedOn.message}</span>} */}\r\n                  {errors.issuedOn && errors.issuedOn?.type === 'required' && <span className=\"message-errors\">Mời nhập ngày cấp</span>}\r\n                  {errors.issuedOn && errors.issuedOn?.type === 'validate' && <span className=\"message-errors\">Ngày cấp phải lớn hơn ngày sinh</span>}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 col-sm\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"phone\" className=\"mb-0\">\r\n                    Số điện thoại\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    // className={`form-control ${errors.phoneNumber ? 'is-invalid' : ''} `}\r\n                    className=\"form-control\"\r\n                    id=\"phone\"\r\n                    autoComplete=\"disable\"\r\n                    {...register('phoneNumber', {\r\n                      required: 'Mời nhập số điện thoại',\r\n                      pattern: {\r\n                        value: /^([\\s]{0,})[0][1-9]([0-9]{8})([\\s]{0,})$/g,\r\n                        message: 'Số điện thoại không hợp lệ',\r\n                      },\r\n                    })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                      <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.phoneNumber && <span className=\"message-errors\">{errors.phoneNumber.message}</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"city\" className=\"mb-0\">\r\n                    Tỉnh/Thành phố\r\n                  </label>\r\n                  <Select\r\n                    // className={`custom-select ${errors.proviceCode ? 'is-invalid' : ''}`}\r\n                    className=\"custom-select\"\r\n                    register={register}\r\n                    fieldName=\"proviceCode\"\r\n                    validators={{ required: true }}\r\n                    optionData={provinces}\r\n                    currentValue={getValues('proviceCode')}\r\n                    optionValue={item => `${item.name}`}\r\n                    optionText={item => `${item.name}`}\r\n                    onChange={onProvinceChange}\r\n                  />\r\n                  {errors.proviceCode && errors.proviceCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Tỉnh/Thành phố</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"district\" className=\"mb-0\">\r\n                    Quận/Huyện\r\n                  </label>\r\n                  <Select\r\n                    disabled={isLoadingDistrict}\r\n                    // className={`custom-select ${errors.districtCode ? 'is-invalid' : ''}`}\r\n                    className=\"custom-select\"\r\n                    register={register}\r\n                    fieldName=\"districtCode\"\r\n                    validators={{ required: true }}\r\n                    optionData={districts}\r\n                    currentValue={getValues('districtCode')}\r\n                    optionValue={item => `${item.prefix} ${item.name}`}\r\n                    optionText={item => `${item.prefix} ${item.name}`}\r\n                    onChange={onDistrictChange}\r\n                  />\r\n                  {errors.districtCode && errors.districtCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Quận/Huyện</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"ward\" className=\"mb-0\">\r\n                    Phường/Xã\r\n                  </label>\r\n                  <Select\r\n                    disabled={isLoadingWard}\r\n                    // className={`custom-select ${errors.wardCode ? 'is-invalid' : ''}`}\r\n                    className=\"custom-select\"\r\n                    register={register}\r\n                    fieldName=\"wardCode\"\r\n                    validators={{ required: true }}\r\n                    optionData={wards}\r\n                    currentValue={getValues('wardCode')}\r\n                    optionValue={item => `${item.prefix} ${item.name}`}\r\n                    optionText={item => `${item.prefix} ${item.name}`}\r\n                  />\r\n                  {errors.wardCode && errors.wardCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Phường/Xã</span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"address\" className=\"mb-0\">\r\n                    Địa chỉ\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    // className={`form-control ${errors.address ? 'is-invalid' : ''} `}\r\n                    className=\"form-control\"\r\n                    id=\"addressUser\"\r\n                    autoComplete=\"off\"\r\n                    {...register('address', {\r\n                      required: 'Mời nhập địa chỉ', pattern: {\r\n                        value: /^([\\s]{0,})([^\\s.]+\\s?){1,}([\\s]{0,})$/g,\r\n                        message: 'Mời nhập địa chỉ'\r\n                      }\r\n                    })}\r\n                  />\r\n                  <span className=\"input_icon\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-geo\" viewBox=\"0 0 16 16\">\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z\"\r\n                      />\r\n                    </svg>\r\n                  </span>\r\n                  {errors.address && <span className=\"message-errors\">{errors.address.message}</span>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <button className=\"btn btn_new mb-4\">\r\n                {submitting ? (\r\n                  <>\r\n                    <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                  </>\r\n                ) : (\r\n                  <>Cập nhật thông tin</>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n      <UploadLogoModal show={showUploadModal} isLogo={false} image={image} onHide={handleClose} onSubmit={onSubmitAvatar} uploading={uploading} />\r\n      {/* <UploadAvatarModal show={showUploadModal} title=\"Cập nhật ảnh đại diện\" image={image} onHide={handleClose} onSubmit={onSubmitAvatar} /> */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormUser;\r\n","import DefaultFooter from '@Containers/Layout/Footer';\r\nimport NavFilter from '@Containers/Layout/NavFilter';\r\nimport FormCompany from '@Containers/Profile/ProfileFormCompany';\r\nimport FormUser from '@Containers/Profile/ProfileFormUser';\r\nimport $ from 'jquery';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport SimpleBar from \"simplebar-react\";\r\nimport ProfileService from '@Services/profile';\r\nimport ContractCreateButtonMobile from '@Containers/Contract/ContractCreateButtonMobile';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\n\r\nfunction PageProfile(props) {\r\n    const [information, setInformation] = useState({});\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        ProfileService.getUser().then(res => {\r\n            setInformation(res.data);\r\n        }).catch(err => {\r\n            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n        })\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.title = \"Thay đổi thông tin tài khoản\";\r\n        $('.datepicker-date').datepicker({\r\n            format: 'dd/mm/yyyy',\r\n            autoclose: true,\r\n            weekStart: 1,\r\n            language: \"vi\",\r\n            todayHighlight: true,\r\n            startDate: \"01/01/1900\",\r\n        }).on('hide', function () {\r\n            if (!this.firstHide) {\r\n                if (!$(this).is(\":focus\")) {\r\n                    this.firstHide = true;\r\n                    this.focus();\r\n                }\r\n            } else {\r\n                this.firstHide = false;\r\n            }\r\n        }).on('show', function () {\r\n            if (this.firstHide) {\r\n                $(this).datepicker('hide');\r\n            }\r\n        });\r\n    }, []);\r\n    useEffect(() => {\r\n        document.title = \"MContract\"\r\n    }, []);\r\n    return (\r\n        <div className=\"account\">\r\n            <SimpleBar id=\"page_content\" className=\"container-fluid px-24px\">\r\n                <div className=\"account_info_area py-4\">\r\n                    <FormUser information={information} />\r\n                    <FormCompany information={information} />\r\n                </div>\r\n                <DefaultFooter />\r\n            </SimpleBar>\r\n            {/* <ChangePassword /> */}\r\n            <NavFilter />\r\n            <ContractCreateButtonMobile />\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport { PageProfile };","import login from \"@/assets/images/login.svg\";\r\nimport logo_v from \"@/assets/images/logo_v.webp\";\r\nimport AuthService from \"@Services/auth\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { CLIENT_DOMAIN } from \"@Consts/domain\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addToast } from \"@Redux/Actions/AlertToast\";\r\n\r\nfunction PageLogin() {\r\n   const [isRequesting, setIsRequesting] = useState(false);\r\n   const user = useSelector((state) => state.auth.user);\r\n   const dispatch = useDispatch();\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors },\r\n   } = useForm();\r\n   const history = useHistory();\r\n\r\n   useEffect(() => {\r\n      document.title = \"MContract\"\r\n   }, []);\r\n\r\n   if (user) {\r\n      return <Redirect to=\"/trang-chu\" />;\r\n   }\r\n\r\n   const onSubmit = async (data) => {\r\n      try {\r\n         setIsRequesting(true);\r\n         data.email = data.email.toLowerCase().trim();\r\n         await AuthService.login(data);\r\n         history.push(\"/dang-nhap/ma-xac-thuc\", data);\r\n      } catch (err) {\r\n         dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }));\r\n      } finally {\r\n         setIsRequesting(false);\r\n      }\r\n   }\r\n\r\n   return (\r\n      <div className=\"container-fluid main_wrapper\" style={{ background: \"#FFF\", minHeight: \"100vh\" }}>\r\n         <div className=\"row\">\r\n            <div className=\"col-12 col-lg pl-0 d-none d-lg-block\">\r\n               <div className=\"site_left\">\r\n                  <div className=\"site_left_wrapper\">\r\n                     <div className=\"site_left_content\">\r\n                        <div className=\"slbtn_area\">\r\n                           <h4>Bạn chưa có tài khoản?</h4>\r\n                           <Link to=\"/dang-ki\" className=\"btn btn_sec2\">\r\n                              Đăng ký ngay\r\n                           </Link>\r\n                        </div>\r\n                        <img className=\"img-fluid\" src={login} alt=\"\" loading=\"lazy\" />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div className=\"col-12 col-lg site_right\">\r\n               <div className=\"site_form\">\r\n                  <div className=\"text-center\">\r\n                     <a href=\"javascript:void(0)\" title=\"MContract \">\r\n                        <img className=\"site_logo img-fluid\" alt=\"\" src={logo_v} loading=\"lazy\" />\r\n                     </a>\r\n                  </div>\r\n                  <h1 className=\"site_title\">Đăng nhập tài khoản</h1>\r\n                  <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\r\n                     {/* <input style={{ display: 'none' }} type=\"text\" name=\"password\" hidden autoComplete=\"new-password\" /> */}\r\n                     <div className=\"form-group\">\r\n                        <label htmlFor=\"username\" className=\"mb-0\">\r\n                           Địa chỉ Email\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\" autoComplete=\"off\" id=\"email\" {...register(\"email\", { required: true, pattern: /^([\\s]{0,})[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}([\\s]{0,})$/g })} />\r\n                        <span className=\"input_icon\">\r\n                           <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-envelope\" viewBox=\"0 0 16 16\">\r\n                              <path d=\"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383l-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z\" />\r\n                           </svg>\r\n                        </span>\r\n                        {errors.email && errors.email?.type === \"required\" && <span className=\"message-errors d-block\">Mời nhập email</span>}\r\n                        {errors.email && errors.email?.type === \"pattern\" && <span className=\"message-errors d-block\">Email không hợp lệ</span>}\r\n                     </div>\r\n                     <div className=\"form_btn text-center mt-4\">\r\n                        <a href={`${CLIENT_DOMAIN}`} alt=\"Quay lại\" className=\"btn btn_sec1 back_btn\">\r\n                           Quay lại\r\n                        </a>\r\n                        <button disabled={isRequesting} className=\"btn btn_pri1 submit_btn\">\r\n                           {isRequesting ? (\r\n                              <>\r\n                                 <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                              </>\r\n                           ) : (\r\n                              <>Đăng nhập</>\r\n                           )}\r\n                        </button>\r\n                     </div>\r\n                  </form>\r\n\r\n                  <div className=\"bl_area text-center d-block d-lg-none\">\r\n                     <p className=\"mb-0\">Bạn chưa có tài khoản?</p>\r\n                     <Link to=\"/dang-ki\" className=\"link_site\">\r\n                        Đăng ký ngay\r\n                     </Link>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\nexport { PageLogin };\r\n","export default __webpack_public_path__ + \"static/media/signup.f7d45d47.svg\";","import logo_v from '@/assets/images/logo_v.webp';\r\nimport signup_img from '@/assets/images/signup.svg';\r\nimport AuthService from '@Services/auth';\r\nimport ToolUsb from '@Services/toolUsb';\r\nimport { useEffect, useState } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport GeneralService from '@Services/general';\r\nimport { IconCalendar2 } from '@Components/Icon';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser } from '@Redux/Actions/Auth';\r\nimport { remove, get } from \"@Utils/cookie\";\r\nimport { setInstallToolModal } from '@Redux/Actions/InstallToolModal';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport SimpleBar from 'simplebar-react';\r\nimport $ from 'jquery';\r\nfunction PageSignupProfile() {\r\n  const history = useHistory();\r\n  const {\r\n    watch,\r\n    register,\r\n    getValues,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const dispatch = useDispatch();\r\n\r\n  const [isRequesting, setIsRequesting] = useState(false);\r\n  const [provinces, setProvinces] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [wards, setWards] = useState([]);\r\n  const watchProvince = watch('proviceCode', null);\r\n  const watchDistrict = watch('districtCode', null);\r\n  const watchWard = watch('wardCode', null);\r\n\r\n  async function onSubmit(data) {\r\n    data.phoneNumber = data.phoneNumber.trim();\r\n    data.idNo = data.idNo.trim();\r\n    try {\r\n      setIsRequesting(true);\r\n      const companyData = await getCompanyData();\r\n      const resProfile = await AuthService.updateProfile(data);\r\n      const resCompany = await AuthService.addCompany(companyData);\r\n      const user = { ...resProfile.data, ...{ company: resCompany.data } };\r\n      dispatch(setUser(user));\r\n      history.push('/trang-chu');\r\n    } catch (err) {\r\n      switch (err) {\r\n        case 'NOT_TOOL':\r\n          dispatch(setInstallToolModal({ isShow: true }));\r\n          break;\r\n        case 'NOT_USBTOKEN':\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ATTACH_USBTOKEN_SIGNUP' }));\r\n          break;\r\n        default:\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\", message: err.errorMsg }));\r\n          break;\r\n      }\r\n    } finally {\r\n      setIsRequesting(false);\r\n    }\r\n  }\r\n\r\n  function getCompanyData() {\r\n    return new Promise((resolve, reject) => {\r\n      (async () => {\r\n        try {\r\n          const resToken = await ToolUsb.getToken();\r\n          const checkUSB = await ToolUsb.getCheckUsb(resToken.data);\r\n          if (checkUSB.message.toUpperCase() == 'DISCONNECTED') {\r\n            reject('NOT_USBTOKEN');\r\n          } else {\r\n            const inforUSB = await ToolUsb.getCertificate(resToken.data);\r\n            const data = {\r\n              name: inforUSB.data.company,\r\n              email: inforUSB.data.email,\r\n              foundDate: '',\r\n              phoneNumber: '',\r\n              taxCode: inforUSB.data.taxCode,\r\n              address: inforUSB.data.location ? inforUSB.data.location : ''\r\n            };\r\n            resolve(data);\r\n          }\r\n        } catch (err) {\r\n          reject('NOT_TOOL');\r\n        }\r\n      })();\r\n    });\r\n  }\r\n  const getAge = (birthDate) => {\r\n    var today = new Date();\r\n    var age = today.getFullYear() - birthDate.getFullYear();\r\n    var m = today.getMonth() - birthDate.getMonth();\r\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\r\n      age--;\r\n    }\r\n    return age;\r\n  }\r\n  const isInvalidBirthday = () => {\r\n    const val = getValues();\r\n    if (val.birthDate) {\r\n      return getAge(new Date(tranformDate(val.birthDate))) >= 18;\r\n    }\r\n    return false;\r\n  }\r\n  function tranformDate(date) {\r\n    const arr = date.split('/');\r\n    return `${arr[1]}/${arr[0]}/${arr[2]}`;\r\n  }\r\n  const isInValidFounded = () => {\r\n    const val = getValues();\r\n    if (val.issuedOn && val.birthDate) {\r\n      return new Date(tranformDate(val.issuedOn)).getTime() > new Date(tranformDate(val.birthDate)).getTime();\r\n    }\r\n    return false;\r\n  };\r\n  // function validateBirthday(e) {\r\n  //   const birthdayYear = new Date(`${e}`).getFullYear();\r\n  //   const birthdayMonth = new Date(`${e}`).getMonth();\r\n  //   const birthdayDate = new Date(`${e}`).getDate();\r\n  //   const currentYear = new Date().getFullYear();\r\n  //   const currentMonth = new Date().getMonth();\r\n  //   const currentDate = new Date().getDate();\r\n  //   let month = currentMonth - birthdayMonth;\r\n  //   let age = currentYear - birthdayYear;\r\n  //   if (month < 0 || (month === 0 && currentDate < birthdayDate)) {\r\n  //     age--;\r\n  //   }\r\n  //   if (age < 18) {\r\n  //     return false;\r\n  //   } else {\r\n  //     return true;\r\n  //   }\r\n  // }\r\n\r\n  function handleProvince(val) {\r\n    if (val) {\r\n      const arr = provinces.filter(item => item.name.toUpperCase() == val.toUpperCase());\r\n      GeneralService.getDistricts(arr[0].id)\r\n        .then(res => {\r\n          setDistricts(res.data);\r\n          setValue('districtCode', '');\r\n          setValue('wardCode', '');\r\n        })\r\n        .catch(err => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red', message: err.errorMsg }));\r\n        });\r\n    }\r\n  }\r\n\r\n  function handleDistrict(val) {\r\n    if (val && val != watchDistrict) {\r\n      const arr = districts.filter(item => `${item.prefix} ${item.name}`.toUpperCase() == val.toUpperCase());\r\n      GeneralService.getWards(arr[0].id)\r\n        .then(res => {\r\n          setWards(res.data);\r\n        })\r\n        .catch(err => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red', message: err.errorMsg }));\r\n        });\r\n    }\r\n  }\r\n\r\n  function getProvinces() {\r\n    GeneralService.getProvinces()\r\n      .then(res => {\r\n        setProvinces(res.data);\r\n      })\r\n      .catch(err => {\r\n        dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red', message: err.errorMsg }));\r\n      });\r\n  }\r\n  function handleLogout() {\r\n    if (get('digital_signature_token')) {\r\n      AuthService.logout()\r\n        .then((res) => {\r\n          remove('digital_signature_token');\r\n          remove('digital_signature_token_type');\r\n          remove('digital_signature_refresh_token');\r\n          window.location.href = '/dang-nhap';\r\n        })\r\n        .catch((err) => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\", message: err.errorMsg }));\r\n        });\r\n    } else {\r\n      window.location.href = '/dang-nhap';\r\n    }\r\n  }\r\n  window.addEventListener('popstate', function (e) {\r\n    if (get('digital_signature_token')) {\r\n      AuthService.logout()\r\n        .then((res) => {\r\n          remove('digital_signature_token');\r\n          remove('digital_signature_token_type');\r\n          remove('digital_signature_refresh_token');\r\n          window.location.href = '/dang-nhap';\r\n        })\r\n        .catch((err) => {\r\n          dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: 'ERROR', color: \"red\", message: err.errorMsg }));\r\n        });\r\n    } else {\r\n      window.location.href = '/dang-nhap';\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getProvinces();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.title = 'MContract';\r\n    $('.datepicker-date').datepicker({\r\n      format: 'dd/mm/yyyy',\r\n      autoclose: true,\r\n      weekStart: 1,\r\n      language: \"vi\",\r\n      todayHighlight: true,\r\n      startDate: \"01/01/1900\",\r\n    }).on('hide', function () {\r\n      if (!this.firstHide) {\r\n        if (!$(this).is(\":focus\")) {\r\n          this.firstHide = true;\r\n          this.focus();\r\n        }\r\n      } else {\r\n        this.firstHide = false;\r\n      }\r\n    }).on('show', function () {\r\n      if (this.firstHide) {\r\n        $(this).datepicker('hide');\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    < SimpleBar className=\"container-fluid main_wrapper\" style={{ background: '#FFF', minHeight: '100vh', maxHeight: '100vh' }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-lg pl-0 d-none d-lg-block\">\r\n          <div className=\"site_left\">\r\n            <div className=\"site_left_wrapper\">\r\n              <div className=\"site_left_content\">\r\n                <div className=\"slbtn_area\">\r\n                  <h4>Bạn đã có tài khoản?</h4>\r\n                  <Link onClick={handleLogout} className=\"btn btn_sec2\">\r\n                    Đăng nhập\r\n                  </Link>\r\n                </div>\r\n                <img className=\"img-fluid\" src={signup_img} alt=\"\" loading=\"lazy\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12 col-lg site_right\">\r\n          <div className=\"site_form info_form\">\r\n            <div className=\"text-center\">\r\n              <a href=\"javascript:void(0)\" title=\"MContract \">\r\n                <img className=\"site_logo img-fluid\" alt=\"\" src={logo_v} loading=\"lazy\" />\r\n              </a>\r\n            </div>\r\n            <h1 className=\"site_title\">Thông tin tài khoản</h1>\r\n            <form onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\r\n              {/* <input type=\"text\" autoComplete=\"new-passowrd\" style={{ display: 'none' }} /> */}\r\n              <div className=\"row\">\r\n                <div className=\"col-12 col-sm\">\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"fullname\" className=\"mb-0\">\r\n                      Họ tên\r\n                    </label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"fullname\" autoComplete=\"disable\" {...register('fullName',\r\n                      { required: true, maxLength: 100, pattern: /^([\\s]{0,})([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]+\\s?){1,}([\\s]{0,})$/ })} />\r\n                    <span className=\"input_icon\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"22\" viewBox=\"0 0 24 24\" width=\"22\" fill=\"currentColor\">\r\n                        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n                        <path d=\"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-2.66-5.33-4-8-4z\" />\r\n                      </svg>\r\n                    </span>\r\n                    {errors.fullName && errors.fullName?.type === 'required' && <span className=\"message-errors\">Mời nhập họ tên</span>}\r\n                    {errors.fullName && errors.fullName?.type === 'pattern' && <span className=\"message-errors\">Họ tên không hợp lệ</span>}\r\n                    {errors.fullName && errors.fullName?.type === 'maxLength' && <span className=\"message-errors\">Họ tên không vượt quá 100 ký tự.</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"birthday\" className=\"mb-0\">\r\n                      Ngày sinh\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control datepicker-date\"\r\n                      id=\"birthday\"\r\n                      autoComplete=\"disable\"\r\n                      {...register('birthDate', {\r\n                        required: true,\r\n                        validate: isInvalidBirthday\r\n                        // validate: {\r\n                        //   checkBirthday: e => validateBirthday(e),\r\n                        // },\r\n                      })}\r\n                    />\r\n                    <span className=\"input_icon\">\r\n                      <IconCalendar2 />\r\n                    </span>\r\n                    {errors.birthDate && errors.birthDate?.type === 'required' && <span className=\"message-errors\">Mời nhập ngày sinh</span>}\r\n                    {errors.birthDate && errors.birthDate?.type === 'validate' && <span className=\"message-errors\">Bạn phải đủ 18 tuổi</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label className=\"mb-0\">Giới tính</label>\r\n                    <div className=\"gender_area\">\r\n                      <div className=\"custom-control custom-radio custom-control-inline mr-4\">\r\n                        <input type=\"radio\" id=\"gender1\" name=\"gender\" className=\"custom-control-input\" value=\"Nam\" {...register('sex', { required: true })} />\r\n                        <label className=\"custom-control-label label-signup\" htmlFor=\"gender1\">\r\n                          Nam\r\n                        </label>\r\n                      </div>\r\n                      &nbsp;\r\n                      <div className=\"custom-control custom-radio custom-control-inline\">\r\n                        <input type=\"radio\" id=\"gender2\" name=\"gender\" className=\"custom-control-input\" value=\"Nữ\" {...register('sex', { required: true })} />\r\n                        <label className=\"custom-control-label label-signup\" htmlFor=\"gender2\">\r\n                          Nữ\r\n                        </label>\r\n                      </div>\r\n                      <br />\r\n                      {errors.sex && errors.sex?.type === 'required' && <span className=\"message-errors\">Mời chọn giới tính</span>}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"identity\" className=\"mb-0\">\r\n                      Số CMND/CCCD\r\n                    </label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"identity\" autoComplete=\"disable\" {...register('idNo', { required: true, pattern: /^([\\s]{0,})([0-9]{9}|[0-9]{12})([\\s]{0,})$/g })} />\r\n                    <span className=\"input_icon\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-card-heading\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z\" />\r\n                        <path d=\"M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z\" />\r\n                      </svg>\r\n                    </span>\r\n                    {errors.idNo && errors.idNo?.type === 'required' && <span className=\"message-errors\">Mời nhập CMND/CCCD</span>}\r\n                    {errors.idNo && errors.idNo?.type === 'pattern' && <span className=\"message-errors\">CMND/CCCD không hợp lệ</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"valid_date\" className=\"mb-0\">\r\n                      Ngày cấp\r\n                    </label>\r\n                    <input type=\"text\" className=\"form-control datepicker-date\" id=\"valid_date\" autoComplete=\"disable\" {...register('issuedOn', { required: true, validate: isInValidFounded })} />\r\n                    <span className=\"input_icon\">\r\n                      <IconCalendar2 />\r\n                    </span>\r\n                    {errors.issuedOn && errors.issuedOn?.type === 'required' && <span className=\"message-errors\">Mời nhập ngày cấp</span>}\r\n                    {errors.issuedOn && errors.issuedOn?.type === 'validate' && <span className=\"message-errors\">Ngày cấp phải lớn hơn ngày sinh</span>}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12 col-sm\">\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"phone\" className=\"mb-0\">\r\n                      Số điện thoại\r\n                    </label>\r\n                    <input type=\"tel\" className=\"form-control\" id=\"phone\" autoComplete=\"disable\" {...register('phoneNumber', { required: true, pattern: /^([\\s]{0,})[0][1-9]([0-9]{8}|[0-9]{9})([\\s]{0,})$/g })} />\r\n                    <span className=\"input_icon\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-telephone\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\r\n                      </svg>\r\n                    </span>\r\n                    {errors.phoneNumber && errors.phoneNumber?.type === 'required' && <span className=\"message-errors\">Mời nhập số điện thoại</span>}\r\n                    {errors.phoneNumber && errors.phoneNumber?.type === 'pattern' && <span className=\"message-errors\">Số điện thoại không hợp lệ</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"city\" className=\"mb-0\">\r\n                      Tỉnh/Thành phố\r\n                    </label>\r\n                    <select id=\"city\" className=\"custom-select\" {...register('proviceCode', { required: true, setValueAs: e => handleProvince(e) })}>\r\n                      <option value=\"\">Vui lòng chọn</option>\r\n                      {provinces.map((pro, index) => (\r\n                        <option key={index} value={pro.name}>\r\n                          {pro.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {errors.proviceCode && errors.proviceCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Tỉnh/Thành phố</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"district\" className=\"mb-0\">\r\n                      Quận/Huyện\r\n                    </label>\r\n                    <select id=\"district\" disabled={!watchProvince} className=\"custom-select\" {...register('districtCode', { required: true, setValueAs: e => handleDistrict(e) })}>\r\n                      <option value=\"\">Vui lòng chọn</option>\r\n                      {districts.map((district, index) => (\r\n                        <option key={index} value={`${district.prefix} ${district.name}`}>\r\n                          {`${district.prefix} ${district.name}`}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {errors.districtCode && errors.districtCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Quận/Huyện</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"ward\" className=\"mb-0\">\r\n                      Phường/Xã\r\n                    </label>\r\n                    <select disabled={!watchDistrict} id=\"ward\" className=\"custom-select\" {...register('wardCode', { required: true })}>\r\n                      <option value=\"\">Vui lòng chọn</option>\r\n                      {wards.map((ward, index) => (\r\n                        <option key={index} value={`${ward.prefix} ${ward.name}`}>\r\n                          {`${ward.prefix} ${ward.name}`}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {errors.wardCode && errors.wardCode?.type === 'required' && <span className=\"message-errors\">Mời chọn Phường/Xã</span>}\r\n                  </div>\r\n                  <div className=\"form-group p-0\">\r\n                    <label htmlFor=\"address\" className=\"mb-0\">\r\n                      Địa chỉ\r\n                    </label>\r\n                    <input type=\"text\" className=\"form-control\" id=\"address\" {...register('address', { required: true, pattern: /^([\\s]{0,})([^\\s.]+\\s?){1,}([\\s]{0,})$/g })} autoComplete=\"off\" />\r\n                    <span className=\"input_icon\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-geo\" viewBox=\"0 0 16 16\">\r\n                        <path\r\n                          fillRule=\"evenodd\"\r\n                          d=\"M8 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zM4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z\"\r\n                        />\r\n                      </svg>\r\n                    </span>\r\n                    {errors.address && errors.address?.type === 'required' && <span className=\"message-errors\">Mời nhập địa chỉ</span>}\r\n                    {errors.address && errors.address?.type === 'pattern' && <span className=\"message-errors\">Mời nhập địa chỉ</span>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"form_btn text-center mt-4\">\r\n                <a onClick={handleLogout} className=\"btn btn_sec1 back_btn\">\r\n                  Quay lại\r\n                </a>\r\n                <button disabled={isRequesting} className=\"btn btn_pri1 submit_btn\">\r\n                  {isRequesting ? (\r\n                    <>\r\n                      <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                    </>\r\n                  ) : (\r\n                    <>Đăng ký</>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <div className=\"bl_area text-center d-block d-lg-none\">\r\n              <p className=\"mb-0\">Bạn đã có tài khoản?</p>\r\n              <a onClick={handleLogout} className=\"link_site\">\r\n                Đăng nhập\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </SimpleBar>\r\n  );\r\n}\r\n\r\nexport { PageSignupProfile };\r\n","import logo_v from \"@/assets/images/logo_v.webp\";\r\nimport signup from \"@/assets/images/signup.svg\";\r\nimport AuthService from \"@Services/auth\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { CLIENT_DOMAIN } from \"@Consts/domain\";\r\nimport { IconEnvelop } from \"@Components/Icon\";\r\nimport { setModal } from '@Redux/Actions/AlertModal';\r\nimport { addToast } from '@Redux/Actions/AlertToast';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction PageSignup() {\r\n   const dispatch = useDispatch();\r\n   const [isRequesting, setIsRequesting] = useState(false);\r\n   const {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors },\r\n   } = useForm();\r\n   const history = useHistory();\r\n\r\n   function onSubmit(data) {\r\n      setIsRequesting(true);\r\n      data.email = data.email.toLowerCase().trim();\r\n      AuthService.signup(data)\r\n         .then((res) => {\r\n            history.push(\"/dang-ki/ma-xac-thuc\", data);\r\n            setIsRequesting(false);\r\n         })\r\n         .catch((err) => {\r\n            dispatch(addToast({ id: Math.floor(Math.random() * 10000), type: err.errorCode, color: 'red' }))\r\n            setIsRequesting(false);\r\n         });\r\n   }\r\n\r\n   function goHome() {\r\n      window.location.href = CLIENT_DOMAIN;\r\n   }\r\n   useEffect(() => {\r\n      document.title = \"MContract\"\r\n   }, []);\r\n   return (\r\n      <div className=\"container-fluid main_wrapper\" style={{ background: \"#FFF\", minHeight: \"100vh\" }}>\r\n         <div className=\"row\">\r\n            <div className=\"col-12 col-lg pl-0 d-none d-lg-block\">\r\n               <div className=\"site_left\">\r\n                  <div className=\"site_left_wrapper\">\r\n                     <div className=\"site_left_content\">\r\n                        <div className=\"slbtn_area\">\r\n                           <h4>Bạn đã có tài khoản?</h4>\r\n                           <Link to=\"/dang-nhap\" className=\"btn btn_sec2\">\r\n                              Đăng nhập\r\n                           </Link>\r\n                        </div>\r\n                        <img className=\"img-fluid\" src={signup} alt=\"\" loading=\"lazy\" />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div className=\"col-12 col-lg site_right\">\r\n               <div className=\"site_form\">\r\n                  <div className=\"text-center\">\r\n                     <a href=\"javascript:void(0)\" title=\"MContract \">\r\n                        <img className=\"site_logo img-fluid\" alt=\"\" src={logo_v} loading=\"lazy\" />\r\n                     </a>\r\n                  </div>\r\n                  <h1 className=\"site_title\">Đăng ký tài khoản</h1>\r\n                  <form onSubmit={handleSubmit(onSubmit)}>\r\n                     <div className=\"form-group\">\r\n                        <label htmlFor=\"username\" className=\"mb-0\">\r\n                           Địa chỉ Email\r\n                        </label>\r\n                        {/* /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i */}\r\n                        <input type=\"text\" className=\"form-control\" id=\"username\" autoComplete=\"off\" {...register(\"email\", { required: true, pattern: /^([\\s]{0,})[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}([\\s]{0,})$/g })} />\r\n                        <span className=\"input_icon\">\r\n                           <IconEnvelop />\r\n                        </span>\r\n                        {errors.email && errors.email?.type === \"required\" && <span className=\"message-errors\">Mời nhập email</span>}\r\n                        {errors.email && errors.email?.type === \"pattern\" && <span className=\"message-errors\">Email không hợp lệ</span>}\r\n                     </div>\r\n                     <div className=\"form-group mt-2\">\r\n                        Bằng việc đăng ký bạn đã đồng ý với{\" \"}\r\n                        <a href={`${CLIENT_DOMAIN}/dieu-khoan`} target=\"_blank\" rel=\"noreferrer\">\r\n                           điều khoản\r\n                        </a>{\" \"}\r\n                        và{\" \"}\r\n                        <a href={`${CLIENT_DOMAIN}/chinh-sach`} rel=\"noreferrer\" target=\"_blank\">\r\n                           chính sách bảo mật\r\n                        </a>{\" \"}\r\n                        của MContract\r\n                     </div>\r\n                     <div className=\"form_btn text-center mt-4\">\r\n                        <a onClick={goHome} className=\"btn btn_sec1 back_btn\">\r\n                           Quay lại\r\n                        </a>\r\n                        <button disabled={isRequesting} className=\"btn btn_pri1 submit_btn\">\r\n                           {isRequesting ? (\r\n                              <>\r\n                                 <Spinner as=\"span\" animation=\"grow\" size=\"sm\" role=\"status\" aria-hidden=\"true\" /> Loading....\r\n                              </>\r\n                           ) : (\r\n                              <>Tiếp tục</>\r\n                           )}\r\n                        </button>\r\n                     </div>\r\n                  </form>\r\n\r\n                  <div className=\"bl_area text-center d-block d-lg-none\">\r\n                     <p className=\"mb-0\">Bạn đã có tài khoản?</p>\r\n                     <Link to=\"/dang-nhap\" className=\"link_site\">\r\n                        Đăng nhập\r\n                     </Link>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport { PageSignup };\r\n","\r\nconst PageTest = () => {\r\n  return null\r\n}\r\nexport { PageTest };","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport ContractTable from '@Containers/Contract/ContractTable';\r\n\r\nfunction PageContracts({ title, status, search }) {\r\n  const location = useLocation();\r\n  const URLParams = new URLSearchParams(location.search);\r\n  const query = {\r\n    status: status ? status : '',\r\n    type: URLParams.get('type') || '',\r\n    partner: URLParams.get('partner') || '',\r\n    search: URLParams.get('search') || '',\r\n    topic: URLParams.get('topic') || '',\r\n    fromDate: URLParams.get('fromDate') || '',\r\n    toDate: URLParams.get('toDate') || '',\r\n    tagId: URLParams.get('tagId') || null,\r\n  };\r\n  useEffect(() => {\r\n    document.title = title;\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <ContractTable query={query} />\r\n  );\r\n}\r\n\r\nexport { PageContracts };\r\n","import { Button, Modal } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setModal } from '@Redux/Actions/AlertModal';\r\nconst AlertModal = (props) => {\r\n    const { isShow, title, message } = useSelector(state => state.alertModal);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClose = () => dispatch(setModal({ isShow: false }));\r\n    return <>\r\n        <Modal show={isShow} onHide={handleClose}>\r\n            {title && <Modal.Header className=\"py-2\" closeButton>\r\n                <Modal.Title>{title}</Modal.Title>\r\n            </Modal.Header>}\r\n            <Modal.Body>\r\n                <p>{message}</p>\r\n                <div className=\"text-right mt-3\">\r\n                    <button type=\"button\" className=\"btn btn-secondary px-3 btn-sm\" onClick={handleClose}>Đóng</button>\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    </>\r\n}\r\nexport default AlertModal","import { Button, Modal } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setInstallToolModal } from '@Redux/Actions/InstallToolModal';\r\nconst InstallToolModal = () => {\r\n    const user = useSelector(state => state.auth.user);\r\n    const { isShow, userName } = useSelector(state => state.installToolModal);\r\n    const { contract, currentSignerToken } = useSelector(state => state.detailContract);\r\n    const dispatch = useDispatch();\r\n    const handleClose = () => dispatch(setInstallToolModal({ isShow: false }));\r\n    return <>\r\n        <Modal show={isShow} onHide={handleClose} contentClassName=\"modal_confirm modal_site\">\r\n            <Modal.Header className=\"bg_site\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel_partner\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"currentColor\" className=\"bi bi-gear\" viewBox=\"0 0 16 16\">\r\n                        <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\" />\r\n                        <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\" />\r\n                    </svg>\r\n                </h5>\r\n                <button type=\"button\" onClick={handleClose} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <div className=\"header_arrow border_top_site\"></div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div className=\"text-center\">\r\n                    <h3 className=\"head_title\">Cài đặt tool ký số</h3>\r\n                </div>\r\n                <p>Kính chào Quý khách hàng{userName ? <>: <b>{userName}</b>.</> : '.'}</p>\r\n                {\r\n                    ((user && user.fullName) || currentSignerToken) ? <>\r\n                        <p>Quý khách vui lòng <b>cài đặt tool ký số</b>  và <b>cắm USB Token</b> để hoàn tất quá trình ký số.</p>\r\n                    </> :\r\n                        <>\r\n                            <p>Quý khách vui lòng <b>cài đặt tool ký số</b>  và <b>cắm USB Token</b>  để hoàn tất đăng ký toàn khoản <b><a href=\"https://mcontract.vn\" target=\"_blank\">MContract</a></b>.</p>\r\n                        </>\r\n                }\r\n                <div className=\"text-center\">\r\n                    <a type=\"button\" className=\"btn btn-primary btn_pri1 mx-auto a-button a-download\" href=\"https://mcontract.vn/uploads/MContract.zip\" download>Tải tool ký số</a>\r\n                    {user ?\r\n                        <>\r\n                            <i class=\"d-block mt-3\">Cảm ơn quý khách đã sử dụng dịch vụ <b class=\"text-site\"><a href=\"https://mcontract.vn\" target=\"_blank\">MContract</a></b>.</i>\r\n                        </> :\r\n                        <>\r\n                            <i class=\"d-block mt-3\">Đăng ký tài khoản <b class=\"text-site\"><a href=\"https://mcontract.vn\" target=\"_blank\">MContract</a></b> hoàn toàn miễn phí <b><a href=\"https://mcontract.vn/dang-ki\" target=\"_blank\">tại đây</a></b>.</i>\r\n                        </>\r\n                    }\r\n                </div>\r\n            </Modal.Body>\r\n        </Modal>\r\n    </>\r\n}\r\nexport default InstallToolModal","import React, { useEffect, useRef, useState } from 'react';\r\nimport $ from 'jquery';\r\nimport { IconToastBug, IconToastBugSystem, IconToastCheckUser, IconToastCode, IconToastExpired, IconToastNoResources, IconToastNotFile, IconToastSuccess, IconToastSuccessContract, IconToastNotReadFile, IconToastSuccessInfor, IconToastUSBToken, IconToastUSBTokenLogin, IconToastSaveFile } from '@Components/Icon';\r\nconst ToastIcon = ({ type }) => {\r\n    switch (type) {\r\n        case 'ERROR':\r\n            return <IconToastBug />;\r\n        case 'ERROR_SIGN':\r\n            return <IconToastBug />;\r\n        case 'CODE_EXPIRED':\r\n            return <IconToastExpired />;\r\n        case 'OTP_FAILED':\r\n            return <IconToastExpired />;\r\n        case 'ACCOUNT_NOTFOUND':\r\n            return <IconToastNoResources />;\r\n        case 'NO_RESOURCE':\r\n            return <IconToastNoResources />;\r\n        case 'NOT_FILE':\r\n            return <IconToastNotFile />;\r\n        case 'NOT_READ_FILE':\r\n            return <IconToastNotReadFile />;\r\n        case 'BUG_SAVE_FILE':\r\n            return <IconToastSaveFile />;\r\n        case 'ERROR_SYSTEM':\r\n            return <IconToastBugSystem />;\r\n        case 'USER_EXIST':\r\n            return <IconToastCheckUser />;\r\n        case 'ERROR_AUTHOR':\r\n            return <IconToastCode />;\r\n        case 'SUCCESS_CONTACT':\r\n            return <IconToastSuccessInfor />;\r\n        case 'SUCCESS_INFOR':\r\n            return <IconToastSuccessInfor />;\r\n        case 'SUCCESS_SIGN_CONTRACT':\r\n            return <IconToastSuccessContract />;\r\n        case 'ATTACH_USBTOKEN_SIGN':\r\n            return <IconToastUSBToken />;\r\n        case 'ATTACH_USBTOKEN_SIGNUP':\r\n            return <IconToastUSBTokenLogin />;\r\n        case 'SUCCESS_CANCEL_CONTRACT':\r\n            return <IconToastSuccess />;\r\n        default:\r\n            return <IconToastSuccess />;\r\n    }\r\n};\r\nconst ToastContent = ({ type, message = 'Lỗi hệ thống', contractName = '', isCreateContract }) => {\r\n    switch (type) {\r\n        case 'ERROR':\r\n            return <p class=\"text-center\">{message}</p>;\r\n        case 'ERROR_SIGN':\r\n            return <><p>Trong quá trình ký kết <b>“{contractName}”</b> đã phát sinh lỗi.</p>\r\n                <p>Quý khách vui lòng thử lại!</p></>\r\n        case 'CODE_EXPIRED':\r\n            return <p class=\"text-center\">Mã xác thực không hợp lệ hoặc đã hết hạn.</p>;\r\n        case 'OTP_FAILED':\r\n            return <p class=\"text-center\">Mã xác thực không hợp lệ hoặc đã hết hạn.</p>;\r\n        case 'ACCOUNT_NOTFOUND':\r\n            return <p class=\"text-center\">Tài khoản chưa đăng kí.</p>;\r\n        case 'NO_RESOURCE':\r\n            return <p class=\"text-center\">Tài nguyên không tồn tại.</p>;\r\n        case 'NOT_FILE':\r\n            return <p class=\"text-center\">Không tìm thấy Hợp đồng.</p>;\r\n        case 'NOT_READ_FILE':\r\n            return <p class=\"text-center\">Hệ thống không đọc được tệp tin Hợp đồng.</p>;\r\n        case 'BUG_SAVE_FILE':\r\n            return <p class=\"text-center\">Lỗi trong quá trình lưu Hợp đồng.</p>;\r\n        case 'ERROR_SYSTEM':\r\n            return <p class=\"text-center\">Hệ thống phát sinh lỗi.</p>;\r\n        case 'USER_EXIST':\r\n            return <p class=\"text-center\">Tài khoản đã tồn tại!</p>;\r\n        case 'ERROR_AUTHOR':\r\n            return <>\r\n                <p>Quá trình {isCreateContract ? 'tạo' : 'ký'} <b>“{contractName}”</b> bị sai xác thực.\r\n                </p>\r\n                <p>Lỗi {message}</p>\r\n                <p>Vui lòng kiểm tra thông tin USB Token.</p>\r\n            </>\r\n        case 'SUCCESS_CONTACT':\r\n            return <p class=\"text-center\">Gửi liên hệ thành công!</p>;\r\n        case 'SUCCESS_INFOR':\r\n            return <p class=\"text-center\">Cập nhật thông tin thành công.</p>;\r\n        case 'SUCCESS_SIGN_CONTRACT':\r\n            return <p class=\"text-center\" >Ký kết thành công <b>“{contractName}”</b>.</p>;\r\n        case 'ATTACH_USBTOKEN_SIGN':\r\n            return <p class=\"text-center\">Vui lòng <b>cắm USB Token</b> để tiếp tục ký số!</p>;\r\n        case 'ATTACH_USBTOKEN_SIGNUP':\r\n            return <p class=\"text-center\">Vui lòng <b>cắm USB Token</b> để hoàn tất đăng ký tài khoản <b><a href=\"https://mcontract.vn/\" target=\"_blank\">MContract</a></b>!</p>;\r\n        case 'SUCCESS_CANCEL_CONTRACT':\r\n            return <p class=\"text-center\">Hủy Hợp đồng thành công!</p>;\r\n        default:\r\n            return <p class=\"text-center\">{message}</p>;\r\n    }\r\n}\r\n\r\n\r\nconst Toast = ({ id, contractName, type = 'ERROR', message, color, onDestroy, isCreateContract = false }) => {\r\n    const setClassColor = (color) => {\r\n        switch (color) {\r\n            case 'red':\r\n                return 'bg_site_bug';\r\n            case 'green':\r\n                return 'bg_site_contract';\r\n            case 'purple':\r\n                return 'bg_site_code';\r\n            default:\r\n                return 'bg_site';\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTimeout(function () {\r\n            $('.toast_site').fadeOut(350);\r\n            setTimeout(() => {\r\n                onDestroy(id);\r\n            }, 350);\r\n        }, 3000);\r\n    }, []);\r\n\r\n    return <>\r\n        <div className=\"contain-toast\">\r\n            <div className=\"toast_site shadow\">\r\n                <div className={`toast_icon ${setClassColor(color)}`}>\r\n                    <ToastIcon type={type} />\r\n                </div>\r\n                <div className=\"p-3\">\r\n                    <ToastContent contractName={contractName} type={type} message={message} isCreateContract={isCreateContract} />\r\n                </div>\r\n                <div className={`toast_footer ${setClassColor(color)}`} >\r\n                    <div className=\"footer_arrow\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\nexport default Toast\r\n","import Toast from '@Components/Toast';\r\nimport { removeToast } from '@Redux/Actions/AlertToast';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst Toasts = () => {\r\n  const { toasts } = useSelector(state => state.alertToast);\r\n  const [listToasts, setListToasts] = useState(toasts);\r\n  const dispatch = useDispatch();\r\n\r\n  const destroyToast = id => {\r\n    dispatch(removeToast({ id: id }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setListToasts(toasts);\r\n  }, [toasts]);\r\n\r\n  return (\r\n    <>\r\n      {listToasts.map(item =>\r\n        <Toast key={item.id} id={item.id} contractName={item.contractName} type={item.type} color={item.color} message={item.message} onDestroy={destroyToast} isCreateContract={item.isCreateContract} />\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default Toasts;\r\n","import '@/assets/js';\r\nimport DefaultLayout from '@Containers/Layout';\r\nimport PrivateRoute from '@Containers/PrivateRoute';\r\nimport { PageContractPublic } from '@Pages/PageContractPublic';\r\nimport { PageContractPrivate } from '@Pages/PageContractPrivate';\r\nimport { PageLoginCode } from '@Pages/PageLoginCode';\r\nimport { PageSignupCode } from '@Pages/PageSignupCode';\r\nimport { PageDashboard } from '@Pages/PageDashboard';\r\nimport { PagePolicy } from '@Pages/PagePolicy';\r\nimport { PageSearch } from '@Pages/PageSearch';\r\nimport { PageSecurity } from '@Pages/PageSecurity';\r\nimport { PageProfile } from '@Pages/PageProfile';\r\nimport { PageLogin } from '@Pages/PageLogin';\r\nimport { PageSignupProfile } from '@Pages/PageSignupProfile';\r\nimport { PageSignup } from '@Pages/PageSignup';\r\nimport { PageTest } from '@Pages/PageTest';\r\nimport { BrowserRouter, Route, Switch, useLocation } from 'react-router-dom';\r\nimport { PageContracts } from './Pages/PageContracts';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AuthService from './Services/auth';\r\nimport { setLoadingProfile, setUser } from './Redux/Actions/Auth';\r\nimport { useEffect } from 'react';\r\nimport AlertModal from '@Components/AlertModal';\r\nimport InstallToolModal from '@Components/InstallToolModal';\r\nimport Toasts from '@Components/Toasts';\r\n\r\nfunction App() {\r\n  const isLoadingProfile = useSelector(state => state.auth.isLoadingProfile);\r\n  const location = window.location;\r\n  const isAuthenticated = AuthService.isAuthenticated();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && location.pathname.indexOf('ky-hop-dong') == -1) {\r\n      AuthService.profile()\r\n        .then(res => {\r\n          dispatch(setUser(res.data));\r\n          dispatch(setLoadingProfile(false));\r\n        })\r\n        .catch(err => {\r\n          dispatch(setLoadingProfile(false));\r\n        });\r\n    } else {\r\n      dispatch(setLoadingProfile(false));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  console.log('14/12/2021')\r\n  return (\r\n    <>\r\n      {!isLoadingProfile ? (\r\n        <>\r\n          <BrowserRouter>\r\n            <Switch>\r\n              <Route exact path=\"/dang-nhap\" component={PageLogin} />\r\n              <Route exact path=\"/dang-ki\" component={PageSignup} />\r\n              <Route path=\"/dang-nhap/ma-xac-thuc\" component={PageLoginCode} />\r\n              <Route path=\"/dang-ki/ma-xac-thuc\" component={PageSignupCode} />\r\n              <Route exact path=\"/hop-dong/:slug\" component={PageContractPrivate} />\r\n              <Route path=\"/ky-hop-dong/:slug\" component={PageContractPublic} />\r\n              <Route path=\"/cap-nhat-thong-tin\" component={PageSignupProfile} />\r\n              <Route path=\"/test\" component={PageTest} />\r\n              <PrivateRoute>\r\n                <DefaultLayout>\r\n                  <Route exact path={['/trang-chu']} component={PageDashboard} />\r\n                  <Route exact path=\"/thong-tin-ca-nhan\" component={PageProfile} />\r\n                  <Route exact path=\"/tra-cuu\" component={PageSearch} />\r\n                  <Route exact path=\"/tra-cuu/dieu-khoan\" component={PagePolicy} />\r\n                  <Route exact path=\"/tra-cuu/chinh-sach\" component={PageSecurity} />\r\n                  <Route path=\"/tat-ca-hop-dong\" render={() => <PageContracts title=\"MContract\" />} />\r\n                  <Route path=\"/cho-xu-ly\" render={() => <PageContracts title=\"MContract\" status=\"PROCESSING\" />} />\r\n                  <Route path=\"/cho-doi-tac\" render={() => <PageContracts title=\"MContract\" status=\"WAITINGFORPARTNER\" />} />\r\n                  <Route path=\"/sai-xac-thuc\" render={() => <PageContracts title=\"MContract\" status=\"AUTHENTICATIONFAIL\" />} />\r\n                  <Route path=\"/hoan-thanh\" render={() => <PageContracts title=\"MContract\" status=\"COMPLETE\" />} />\r\n                  <Route path=\"/het-han\" render={() => <PageContracts title=\"MContract\" status=\"EXPIRED\" />} />\r\n                  <Route path=\"/huy-bo\" render={() => <PageContracts title=\"MContract\" status=\"CANCEL\" />} />\r\n                  <Route path=\"/tim-kiem-hop-dong\" render={() => <PageContracts title=\"MContract\" />} />\r\n                  <Route path=\"/hop-dong-theo-the\" render={() => <PageContracts title=\"MContract\" />} />\r\n                </DefaultLayout>\r\n              </PrivateRoute>\r\n            </Switch>\r\n          </BrowserRouter>\r\n        </>\r\n      ) : (\r\n        <>Loading dữ liệu người dùng</>\r\n      )}\r\n      <AlertModal />\r\n      <InstallToolModal />\r\n      <Toasts />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { DATA_ACTION } from \"@Consts/action\";\r\n\r\nfunction setLoadingData(state, action) {\r\n   return {\r\n      ...state,\r\n      isLoadingData: action.payload,\r\n   };\r\n}\r\nfunction setStatistics(state, action) {\r\n   return {\r\n      ...state,\r\n      statistics: action.payload,\r\n   };\r\n}\r\n\r\nfunction setReadyForReloadStatistics(state, action) {\r\n   return {\r\n      ...state,\r\n      readyForReloadStatistics: action.payload,\r\n   };\r\n}\r\n\r\n\r\nfunction setTags(state, action) {\r\n   return {\r\n      ...state,\r\n      tags: action.payload,\r\n   };\r\n}\r\nfunction setReloadContract(state, action) {\r\n   return {\r\n      ...state,\r\n      needReload: action.payload,\r\n   };\r\n}\r\nfunction setIsDisconnect(state, isDisconnect) {\r\n   return {\r\n      ...state,\r\n      ...{ isDisconnect: isDisconnect },\r\n   };\r\n}\r\nfunction setSumUnreadNotification(state, action) {\r\n   return {\r\n      ...state,\r\n      unreadNotification: action.payload,\r\n   };\r\n}\r\nfunction setActiveTabNotification(state, action) {\r\n   return {\r\n      ...state,\r\n      activeTabNotification: action.payload,\r\n   };\r\n}\r\n\r\nconst initialState = {\r\n   isLoadingData: false,\r\n   isDisconnect: false,\r\n   statistics: null,\r\n   tags: null,\r\n   needReload: false,\r\n   readyForReloadStatistics: false,\r\n   activeTabNotification: null,\r\n   unreadNotification: null\r\n};\r\nfunction DataReducer(state = initialState, action) {\r\n   switch (action.type) {\r\n      case DATA_ACTION.SET_LOADING_DATA:\r\n         return setLoadingData(state, action);\r\n      case DATA_ACTION.SET_STATISTICS:\r\n         return setStatistics(state, action);\r\n      case DATA_ACTION.SET_TAGS:\r\n         return setTags(state, action)\r\n      case DATA_ACTION.SET_RELOAD_CONTRACT:\r\n         return setReloadContract(state, action);\r\n      case DATA_ACTION.SET_READY_FOR_RELOAD_STATISTICS:\r\n         return setReadyForReloadStatistics(state, action);\r\n      case DATA_ACTION.SET_IS_DISCONNECT:\r\n         return setIsDisconnect(state, action);\r\n      case DATA_ACTION.SET_UNREAD_NOTIFICATION:\r\n         return setSumUnreadNotification(state, action);\r\n      case DATA_ACTION.SET_ACTIVE_TAB_NOTIFICATION:\r\n         return setActiveTabNotification(state, action);\r\n      default:\r\n         return state;\r\n   }\r\n}\r\nexport default DataReducer;\r\n","import { AUTH_ACTION } from \"@Consts/action\";\r\n\r\nfunction setUser(state, action) {\r\n  return {\r\n    ...state,\r\n    user: action.payload,\r\n  }\r\n}\r\n\r\nfunction setLoggedOut(state, action) {\r\n  return {\r\n    ...state,\r\n    user: null,\r\n  }\r\n}\r\n\r\n\r\nfunction setLoadingProfile(state, action) {\r\n  return {\r\n    ...state,\r\n    isLoadingProfile: action.payload\r\n  }\r\n}\r\n\r\n\r\nconst initialState = {\r\n  isLoadingProfile: true,\r\n  user: null\r\n};\r\n\r\nfunction AuthReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case AUTH_ACTION.SET_USER:\r\n      return setUser(state, action);\r\n    case AUTH_ACTION.SET_LOADING_PROFILE: \r\n      return setLoadingProfile(state, action);\r\n    case AUTH_ACTION.SET_LOGGED_OUT: \r\n      return setLoggedOut(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default AuthReducer;","const MOCK_MENU = [\r\n    {\r\n        id: 0,\r\n        title: 'Tất cả hợp đồng',\r\n        icon: 'DOCUMENTS',\r\n        status: \"TOTAL\",\r\n        path: '/tat-ca-hop-dong'\r\n    },\r\n    {\r\n        id: 1,\r\n        title: 'Chờ xử lí',\r\n        icon: 'CLOCK',\r\n        status: \"PROCESSING\",\r\n        path: '/cho-xu-ly'\r\n    },\r\n    {\r\n        id: 2,\r\n        title: 'Chờ đối tác',\r\n        icon: 'HOURCLASS',\r\n        status: \"WAITINGFORPARTNER\",\r\n        path: '/cho-doi-tac'\r\n    },\r\n    {\r\n        id: 3,\r\n        title: 'Sai xác thực',\r\n        icon: 'FAIL_SHIELD',\r\n        status: \"AUTHENTICATIONFAIL\",\r\n        path: '/sai-xac-thuc'\r\n    },\r\n    {\r\n        id: 4,\r\n        title: 'Hoàn thành',\r\n        icon: 'CHECK_DOCUMENT',\r\n        status: \"COMPLETE\",\r\n        path: '/hoan-thanh'\r\n    },\r\n    {\r\n        id: 5,\r\n        title: 'Hết hạn',\r\n        icon: 'FAIL_DOCUMENT',\r\n        status: \"EXPIRED\",\r\n        path: '/het-han'\r\n    },\r\n    {\r\n        id: 6,\r\n        title: 'Hủy bỏ',\r\n        icon: 'CANCEL_DOCUMENT',\r\n        status: \"CANCEL\",\r\n        path: '/huy-bo'\r\n    }\r\n];\r\n\r\nexport {MOCK_MENU};","import {MENU_ACTION} from '@Consts/action';\r\nimport {MOCK_MENU} from '@Mocks/menu';\r\nfunction load(state){\r\n    return {\r\n        ...state,\r\n        menu: MOCK_MENU,\r\n    }\r\n}\r\nconst initialState = {\r\n    menu: MOCK_MENU,\r\n}\r\nfunction MenuReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case MENU_ACTION.LOAD:\r\n            return load(state);\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default MenuReducer;","import { DETAIL_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setContract(state, contract) {\r\n  return {\r\n    ...state,\r\n    ...{ contract: contract },\r\n  };\r\n}\r\n\r\nfunction updateContract(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{ contract: { ...state.contract, ...data } },\r\n  };\r\n}\r\n\r\nfunction setComments(state, comments) {\r\n  return {\r\n    ...state,\r\n    ...{ comments: comments },\r\n  };\r\n}\r\n\r\nfunction setNewComment(state, comment) {\r\n  return {\r\n    ...state,\r\n    ...{ newComment: comment },\r\n  };\r\n}\r\n\r\nfunction addNewComment(state, comment) {\r\n  return {\r\n    ...state,\r\n    ...{ comments: [...state.comments, comment] },\r\n  };\r\n}\r\n\r\nfunction setStartComment(state, value) {\r\n  return {\r\n    ...state,\r\n    ...{ startComment: value },\r\n  };\r\n}\r\nfunction sortNotification(arr) {\r\n  return arr.sort((a, b) => parseInt(new Date(b.createdTime).getTime()) - parseInt(new Date(a.createdTime).getTime()));\r\n}\r\nfunction addNewNotification(state, notification) {\r\n  return {\r\n    ...state,\r\n    ...{ notifications: sortNotification([...state.notifications, ...[notification]]) },\r\n  };\r\n}\r\n\r\nfunction removeNotification(state, notificationId) {\r\n  return {\r\n    ...state,\r\n    ...{ notifications: state.notifications.filter(n => n.id != notificationId) },\r\n  };\r\n}\r\n\r\nfunction setCurrentSigner(state, signer) {\r\n  return {\r\n    ...state,\r\n    ...{ currentSigner: signer },\r\n  };\r\n}\r\n\r\nfunction setFocusComment(state, comment) {\r\n  return {\r\n    ...state,\r\n    ...{ focusComment: comment },\r\n  };\r\n}\r\n\r\nfunction setFocusSign(state, sign) {\r\n  return {\r\n    ...state,\r\n    ...{ focusSign: sign },\r\n  };\r\n}\r\n\r\nfunction setCurrentSignerToken(state, token) {\r\n  return {\r\n    ...state,\r\n    ...{ currentSignerToken: token },\r\n  };\r\n}\r\n\r\nfunction addComment(state, comment) {\r\n  return {\r\n    ...state,\r\n    ...{ comments: [...state.comments, ...[comment]] },\r\n  };\r\n}\r\n\r\nfunction appendChildComment(comments, childComment) {\r\n  return comments.map(comment => {\r\n    if (comment.id == childComment.parentId) {\r\n      return {\r\n        ...comment,\r\n        ...{ childCommentDtos: comment.childCommentDtos ? [...comment.childCommentDtos, ...[childComment]] : [childComment] },\r\n      };\r\n    } else {\r\n      if (comment.childCommentDtos && comment.childCommentDtos.length > 0) {\r\n        return {\r\n          ...comment,\r\n          ...{ childCommentDtos: appendChildComment(comment.childCommentDtos, childComment) },\r\n        };\r\n      } else {\r\n        return comment;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction addChildComment(state, childComment) {\r\n  return { ...state, ...{ comments: appendChildComment(state.comments, childComment) } };\r\n}\r\n\r\nfunction setPreviewCurrentPage(state, currentPage) {\r\n  return {\r\n    ...state,\r\n    ...{ preview: { ...state.preview, ...{ currentPage: currentPage } } },\r\n  };\r\n}\r\n\r\nfunction setPreviewTotalPages(state, totalPages) {\r\n  return {\r\n    ...state,\r\n    ...{ preview: { ...state.preview, ...{ totalPages: totalPages } } },\r\n  };\r\n}\r\n\r\nfunction setPdfCurrentPage(state, currentPage) {\r\n  return {\r\n    ...state,\r\n    ...{ pdf: { ...state.pdf, ...{ currentPage: currentPage } } },\r\n  };\r\n}\r\n\r\nfunction setPdfTotalPages(state, totalPages) {\r\n  return {\r\n    ...state,\r\n    ...{ pdf: { ...state.pdf, ...{ totalPages: totalPages } } },\r\n  };\r\n}\r\n\r\nfunction setContractTags(state, tags) {\r\n  const contract = { ...state.contract, ...{ tagDtos: tags } };\r\n  return {\r\n    ...state,\r\n    ...{ contract: contract }\r\n  }\r\n}\r\nfunction setNotifications(state, notifications) {\r\n  return {\r\n    ...state,\r\n    ...{ notifications: notifications },\r\n  };\r\n}\r\n\r\nfunction resetData() {\r\n  return initialState;\r\n}\r\n\r\nfunction updateComments(state, data) {\r\n  const newComments = Object.assign([], state.comments);\r\n  newComments.forEach((item, index) => {\r\n    if (data.id == item.id) {\r\n      newComments[index] = {\r\n        ...item,\r\n        ...{ isRead: true }\r\n      }\r\n    } else {\r\n      if (item.childCommentDtos) {\r\n        const newChildComments = item.childCommentDtos.map((child, pos) => {\r\n          if (data.id == child.id) {\r\n            return {\r\n              ...child,\r\n              ...{ isRead: true }\r\n            }\r\n          }\r\n          return child;\r\n        });\r\n        newComments[index] = { ...item, ...{ childCommentDtos: newChildComments } };\r\n      }\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    ...{ comments: newComments },\r\n  };\r\n}\r\n\r\nfunction updateNotifications(state, data) {\r\n  const newNotifications = Object.assign([], state.notifications);\r\n  newNotifications.forEach((item, index) => {\r\n    if (data.id == item.id) {\r\n      newNotifications[index] = {\r\n        ...item,\r\n        ...{ status: true }\r\n      }\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...state,\r\n    ...{ notifications: newNotifications },\r\n  };\r\n}\r\n\r\nfunction setShowSignerModal(state, isShowSignerModal) {\r\n  return {\r\n    ...state,\r\n    isShowSignerModal: isShowSignerModal\r\n  }\r\n}\r\nfunction setCanceling(state, isCanceling) {\r\n  return {\r\n    ...state,\r\n    ...{ isCanceling: isCanceling },\r\n  };\r\n}\r\n\r\nfunction setLoadedAllPageDetail(state, isLoadedAllPageDetail) {\r\n  return {\r\n    ...state,\r\n    ...{ isLoadedAllPageDetail: isLoadedAllPageDetail },\r\n  };\r\n}\r\n\r\nfunction setLoadedAllPagePreviewDetail(state, isLoadedAllPagePreviewDetail) {\r\n  return {\r\n    ...state,\r\n    ...{ isLoadedAllPagePreviewDetail: isLoadedAllPagePreviewDetail },\r\n  };\r\n}\r\n\r\nfunction setIsDisconnect(state, isDisconnect) {\r\n  return {\r\n    ...state,\r\n    ...{ isDisconnect: isDisconnect },\r\n  };\r\n}\r\nfunction setFocusRealtimeComment(state, focusRealtimeComment) {\r\n  return {\r\n    ...state,\r\n    ...{ focusRealtimeComment: focusRealtimeComment },\r\n  };\r\n}\r\n\r\nconst initialState = {\r\n  contract: null,\r\n  comments: [],\r\n  notifications: [],\r\n  newComment: null,\r\n  focusComment: null,\r\n  startComment: false,\r\n  isCanceling: false,\r\n  currentSigner: null,\r\n  currentSignerToken: null,\r\n  notificationsUnread: null,\r\n  isShowSignerModal: false,\r\n  isLoadedAllPageDetail: false,\r\n  isLoadedAllPagePreviewDetail: false,\r\n  setIsDisconnect: false,\r\n  focusSign: null,\r\n  focusRealtimeComment: null,\r\n  preview: {\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n  },\r\n  pdf: {\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n  },\r\n  tags: []\r\n};\r\n\r\nfunction ContractReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ACTION.SET_CONTRACT:\r\n      return setContract(state, action.payload);\r\n    case ACTION.UPDATE_CONTRACT:\r\n      return updateContract(state, action.payload);\r\n    case ACTION.SET_COMMENTS:\r\n      return setComments(state, action.payload);\r\n    case ACTION.SET_NEW_COMMENT:\r\n      return setNewComment(state, action.payload);\r\n    case ACTION.SET_START_COMMENT:\r\n      return setStartComment(state, action.payload);\r\n    case ACTION.SET_FOCUS_COMMENT:\r\n      return setFocusComment(state, action.payload);\r\n    case ACTION.ADD_NEW_COMMENT:\r\n      return addNewComment(state, action.payload);\r\n    case ACTION.ADD_NEW_NOTIFICATION:\r\n      return addNewNotification(state, action.payload);\r\n    case ACTION.REMOVE_NOTIFICATION:\r\n      return removeNotification(state, action.payload);\r\n    case ACTION.SET_CURRENT_SIGNER:\r\n      return setCurrentSigner(state, action.payload);\r\n    case ACTION.SET_CURRENT_SIGNER_TOKEN:\r\n      return setCurrentSignerToken(state, action.payload);\r\n    case ACTION.ADD_COMMENT:\r\n      return addComment(state, action.payload);\r\n    case ACTION.ADD_CHILD_COMMENT:\r\n      return addChildComment(state, action.payload);\r\n    case ACTION.SET_PREVIEW_CURRENT_PAGE:\r\n      return setPreviewCurrentPage(state, action.payload);\r\n    case ACTION.SET_PREVIEW_TOTAL_PAGES:\r\n      return setPreviewTotalPages(state, action.payload);\r\n    case ACTION.SET_PDF_CURRENT_PAGE:\r\n      return setPdfCurrentPage(state, action.payload);\r\n    case ACTION.SET_PDF_TOTAL_PAGES:\r\n      return setPdfTotalPages(state, action.payload);\r\n    case ACTION.SET_CONTRACT_TAGS:\r\n      return setContractTags(state, action.payload);\r\n    case ACTION.SET_NOTIFICATIONS_UNREAD:\r\n      return setNotifications(state, action.payload);\r\n    case ACTION.RESET_DATA:\r\n      return resetData(state);\r\n    case ACTION.UPDATE_NOTIFICATIONS:\r\n      return updateNotifications(state, action.payload);\r\n    case ACTION.UPDATE_COMMENTS:\r\n      return updateComments(state, action.payload);\r\n    case ACTION.SET_SHOW_SIGNER_MODAL:\r\n      return setShowSignerModal(state, action.payload)\r\n    case ACTION.SET_FOCUS_SIGN:\r\n      return setFocusSign(state, action.payload);\r\n    case ACTION.SET_CANCELING:\r\n      return setCanceling(state, action.payload);\r\n    case ACTION.SET_LOADED_ALL_PAGE_DETAIL:\r\n      return setLoadedAllPageDetail(state, action.payload);\r\n    case ACTION.SET_LOADED_ALL_PAGE_PREVIEW_DETAIL:\r\n      return setLoadedAllPagePreviewDetail(state, action.payload);\r\n    case ACTION.SET_IS_DISCONNECT:\r\n      return setIsDisconnect(state, action.payload);\r\n    case ACTION.SET_FOCUS_REALTIME_COMMENT:\r\n      return setFocusRealtimeComment(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default ContractReducer;\r\n","import { NOTIFICATION_ACTION } from '@Consts/action';\r\n\r\nfunction setNotifications(state, notifications) {\r\n  return {\r\n    ...state,\r\n    notifications: notifications,\r\n  };\r\n}\r\nfunction addNotification(state, notification) {\r\n  return {\r\n    ...state,\r\n    ...{ notifications: [...[notification], ...state.notifications] },\r\n  };\r\n}\r\nfunction updateAllNotifications(state, type) {\r\n  const newNotifications = Object.assign([], state.notifications);\r\n  if (type == 'COMMENT') {\r\n    newNotifications.forEach((item, index) => {\r\n      if (item.type == 'COMMENT' || item.type == 'SIGN') {\r\n        newNotifications[index] = {\r\n          ...item,\r\n          ...{ status: true },\r\n        };\r\n      }\r\n      return newNotifications[index];\r\n    });\r\n  } else {\r\n    newNotifications.forEach((item, index) => {\r\n      if (item.type == type) {\r\n        newNotifications[index] = {\r\n          ...item,\r\n          ...{ status: true },\r\n        };\r\n      }\r\n      return newNotifications[index];\r\n    });\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    ...{ notifications: newNotifications },\r\n  };\r\n}\r\n\r\nfunction setNewContractNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{ newContract: { ...state.newContract, ...data } },\r\n  };\r\n}\r\n\r\nfunction updateNewContractNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{\r\n      newContract: {\r\n        currentPage: data.currentPage,\r\n        pageSize: data.pageSize || state.newContract.pageSize,\r\n        totalItems: data.totalItems || state.newContract.totalItems,\r\n        totalPage: data.totalPage || state.newContract.totalPage,\r\n        notifications: data.notifications ? [...state.newContract.notifications, ...data.notifications] : [...state.newContract.notifications],\r\n        totalUnread: data.totalUnread || state.newContract.totalUnread,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nfunction setCommentNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{ comment: { ...state.comment, ...data } },\r\n  };\r\n}\r\n\r\nfunction updateCommentNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{\r\n      comment: {\r\n        currentPage: data.currentPage,\r\n        pageSize: data.pageSize || state.comment.pageSize,\r\n        totalItems: data.totalItems || state.comment.totalItems,\r\n        totalPage: data.totalPage || state.comment.totalPage,\r\n        notifications: data.notifications ? [...state.comment.notifications, ...data.notifications] : [...state.comment.notifications],\r\n        totalUnread: data.totalUnread || state.comment.totalUnread,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nfunction setExpireNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{ expire: { ...state.expire, ...data } },\r\n  };\r\n}\r\n\r\nfunction updateExpireNotifications(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{\r\n      expire: {\r\n        currentPage: data.currentPage,\r\n        pageSize: data.pageSize || state.expire.pageSize,\r\n        totalItems: data.totalItems || state.expire.totalItems,\r\n        totalPage: data.totalPage || state.expire.totalPage,\r\n        notifications: data.notifications ? [...state.expire.notifications, ...data.notifications] : [...state.expire.notifications],\r\n        totalUnread: data.totalUnread || state.expire.totalUnread,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nfunction upDateStatusNotifications(state, data) {\r\n  const notifications = Object.assign([], data);\r\n  notifications.forEach((item, index) => {\r\n    notifications[index] = {\r\n      ...item,\r\n      ...{ status: true }\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    ...{ notifications: notifications },\r\n  };\r\n\r\n}\r\n\r\nconst initialState = {\r\n  notifications: [],\r\n  newContract: {\r\n    currentPage: 0,\r\n    totalItems: 0,\r\n    totalPage: 0,\r\n    pageSize: 15,\r\n    notifications: [],\r\n    totalUnread: 0\r\n  },\r\n  comment: {\r\n    currentPage: 0,\r\n    totalItems: 0,\r\n    totalPage: 0,\r\n    pageSize: 15,\r\n    notifications: [],\r\n    totalUnread: 0\r\n  },\r\n  expire: {\r\n    currentPage: 0,\r\n    totalItems: 0,\r\n    totalPage: 0,\r\n    pageSize: 15,\r\n    notifications: [],\r\n    totalUnread: 0\r\n  },\r\n};\r\n\r\nfunction NotificationReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case NOTIFICATION_ACTION.SET_NOTIFICATIONS:\r\n      return setNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.ADD_NOTIFICATION:\r\n      return addNotification(state, action.payload);\r\n    case NOTIFICATION_ACTION.UPDATE_ALL_NOTIFICATIONS:\r\n      return updateAllNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.SET_NEW_CONTRACT_NOTIFICATIONS:\r\n      return setNewContractNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.UPDATE_NEW_CONTRACT_NOTIFICATIONS:\r\n      return updateNewContractNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.SET_COMMENT_NOTIFICATIONS:\r\n      return setCommentNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.UPDATE_COMMENT_NOTIFICATIONS:\r\n      return updateCommentNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.SET_EXPIRE_NOTIFICATIONS:\r\n      return setExpireNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.UPDATE_EXPIRE_NOTIFICATIONS:\r\n      return updateExpireNotifications(state, action.payload);\r\n    case NOTIFICATION_ACTION.UPDATE_STATUS_NOTIFICATIONS:\r\n      return upDateStatusNotifications(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default NotificationReducer;\r\n","import { CREATE_CONTRACT_ACTION } from '@Consts/action';\r\n\r\nfunction setStep(state, step) {\r\n  return {\r\n    ...state,\r\n    ...{ currentStep: step },\r\n  };\r\n}\r\n\r\nfunction setFile(state, data) {\r\n  return {\r\n    ...state,\r\n    ...{ file: data },\r\n  };\r\n}\r\n\r\nfunction setSigners(state, signers) {\r\n  return {\r\n    ...state,\r\n    ...{ signers: signers },\r\n  };\r\n}\r\n\r\nfunction updateSigner(state, signer) {\r\n  const newSigners = Object.assign([], state.signers);\r\n  newSigners.forEach((item, index) => {\r\n    if (signer.index == item.index) {\r\n      newSigners[index] = {\r\n        ...item,\r\n        ...signer,\r\n      };\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    ...{ signers: newSigners },\r\n  };\r\n}\r\n\r\nfunction updateSignerPosition(state, data) {\r\n  const newSigners = Object.assign([], state.signers);\r\n  newSigners.forEach((item, index) => {\r\n    if (data.index == item.index) {\r\n      newSigners[index] = {\r\n        ...item,\r\n        ...{ position: { ...item.position, ...data.position } },\r\n      };\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...state,\r\n    ...{ signers: newSigners },\r\n  };\r\n}\r\n\r\nfunction updateCreatorPosition(state, data) {\r\n  const newCreator = {\r\n    ...state.creator,\r\n    ...{ position: { ...state.creator.position, ...data.position } },\r\n  };\r\n  return {\r\n    ...state,\r\n    ...{ creator: newCreator },\r\n  };\r\n}\r\n\r\nfunction setPdfCurrentPage(state, currentPage) {\r\n  return {\r\n    ...state,\r\n    ...{ pdf: { ...state.pdf, ...{ currentPage: currentPage } } },\r\n  };\r\n}\r\n\r\nfunction setPdfTotalPages(state, totalPages) {\r\n  return {\r\n    ...state,\r\n    ...{ pdf: { ...state.pdf, ...{ totalPages: totalPages } } },\r\n  };\r\n}\r\n\r\n\r\nfunction setPreviewCurrentPage(state, currentPage) {\r\n  return {\r\n    ...state,\r\n    ...{ preview: { ...state.preview, ...{ currentPage: currentPage } } },\r\n  };\r\n}\r\n\r\nfunction setPreviewTotalPages(state, totalPages) {\r\n  return {\r\n    ...state,\r\n    ...{ preview: { ...state.preview, ...{ totalPages: totalPages } } },\r\n  };\r\n}\r\n\r\nfunction setCreatingContract(state, isCreatingContract) {\r\n  return {\r\n    ...state,\r\n    ...{ isCreatingContract: isCreatingContract },\r\n  };\r\n}\r\n\r\nfunction setReadyForCreating(state, isReadyForCreating) {\r\n  return {\r\n    ...state,\r\n    ...{ isReadyForCreating: isReadyForCreating },\r\n  };\r\n}\r\n\r\nfunction setInformation(state, information) {\r\n  return {\r\n    ...state,\r\n    ...{ information: information },\r\n  };\r\n}\r\n\r\nfunction resetCreateContract() {\r\n  return initialState;\r\n}\r\n\r\nconst initialState = {\r\n  currentStep: 1,\r\n  file: {},\r\n  creator: null,\r\n  signers: [\r\n    {\r\n      index: 1,\r\n      fullName: '',\r\n      email: '',\r\n      taxCode: '',\r\n      position: {\r\n        x: 0,\r\n        y: 0,\r\n        percentX: 0,\r\n        percentY: 0,\r\n        page: null,\r\n      },\r\n    },\r\n  ],\r\n  preview: {\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n  },\r\n  pdf: {\r\n    currentPage: 1,\r\n    totalPages: 1,\r\n  },\r\n  information: {\r\n    title: '',\r\n    numberOFExpirationDate: '',\r\n    content: '',\r\n  },\r\n  isCreatingContract: false,\r\n  isReadyForCreating: false,\r\n};\r\n\r\nfunction CreateContractReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case CREATE_CONTRACT_ACTION.SET_STEP:\r\n      return setStep(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_FILE:\r\n      return setFile(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_SIGNERS:\r\n      return setSigners(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.UPDATE_SIGNER:\r\n      return updateSigner(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.UPDATE_SIGNER_POSITION:\r\n      return updateSignerPosition(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_PREVIEW_CURRENT_PAGE:\r\n      return setPreviewCurrentPage(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_PREVIEW_TOTAL_PAGES:\r\n      return setPreviewTotalPages(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_PDF_CURRENT_PAGE:\r\n      return setPdfCurrentPage(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_PDF_TOTAL_PAGES:\r\n      return setPdfTotalPages(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_CREATING_CONTRACT:\r\n      return setCreatingContract(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_READY_FOR_CREATING:\r\n      return setReadyForCreating(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.SET_INFORMATION:\r\n      return setInformation(state, action.payload);\r\n    case CREATE_CONTRACT_ACTION.RESET_DATA:\r\n      return resetCreateContract();\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default CreateContractReducer;\r\n","import { NEW_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setNewContracts(state, contracts) {\r\n    return {\r\n        ...state,\r\n        newContracts: contracts\r\n    };\r\n}\r\n\r\nfunction setReadyForReloading(state, isReadyForReloading) {\r\n    return {\r\n        ...state,\r\n        isReadyForReloading: isReadyForReloading\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    newContracts: null,\r\n    isReadyForReloading: false\r\n};\r\n\r\nfunction NewContractReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ACTION.SET_NEW_CONTRACTS:\r\n            return setNewContracts(state, action.payload);\r\n        case ACTION.SET_READY_FOR_RELOADING: \r\n            return setReadyForReloading(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default NewContractReducer;\r\n","import { LIST_CONTRACT_ACTION as ACTION } from '@Consts/action';\r\n\r\nfunction setListContracts(state, data) {\r\n    return {\r\n        ...state,\r\n        ...data\r\n    };\r\n}\r\n\r\nfunction setReadyForReloading(state, isReadyForReloading) {\r\n    return {\r\n        ...state,\r\n        isReadyForReloading: isReadyForReloading\r\n    }\r\n}\r\nfunction setIsCanceling(state, isCanceling) {\r\n    return {\r\n        ...state,\r\n        isCanceling: isCanceling\r\n    }\r\n}\r\nfunction setGlobalSigning(state, isGlobalSigning) {\r\n    return {\r\n        ...state,\r\n        isGlobalSigning: isGlobalSigning\r\n    }\r\n}\r\nconst initialState = {\r\n    contracts: null,\r\n    currentPage: 0,\r\n    totalPages: 1,\r\n    pageSize: 10,\r\n    totalItems: 0,\r\n    isReadyForReloading: false,\r\n    isCanceling: false,\r\n    isGlobalSigning: false\r\n};\r\n\r\nfunction ListContractReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ACTION.SET_LIST_CONTRACTS:\r\n            return setListContracts(state, action.payload);\r\n        case ACTION.SET_READY_FOR_RELOADING:\r\n            return setReadyForReloading(state, action.payload);\r\n        case ACTION.SET_IS_CANCELING:\r\n            return setIsCanceling(state, action.payload);\r\n        case ACTION.SET_GLOBAL_SIGNING:\r\n            return setGlobalSigning(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default ListContractReducer;\r\n","import { ALERT_MODAL_ACTION } from \"@Consts/action\";\r\nfunction setModal(state, data) {\r\n    return {\r\n        ...state, ...data\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    isShow: false,\r\n    title: \"\",\r\n    message: \"\"\r\n};\r\n\r\nfunction AlertModalReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ALERT_MODAL_ACTION.SET_MODAL:\r\n            return setModal(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default AlertModalReducer;","import { INSTALL_TOOL_MODAL_ACTION as ACTION } from \"@Consts/action\";\r\nfunction setInstallToolModal(state, data) {\r\n    return {\r\n        ...state, ...data\r\n    }\r\n}\r\n\r\nconst initialState = {\r\n    isShow: false,\r\n    userName: ''\r\n};\r\n\r\nfunction InstallToolModalReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ACTION.SET_INSTALL_TOOL_MODAL:\r\n            return setInstallToolModal(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default InstallToolModalReducer;","import { ALERT_TOAST_ACTION as ACTION } from \"@Consts/action\";\r\n\r\nfunction addToast(state, data) {\r\n    return {\r\n        ...state, ...{ toasts: [...state.toasts, ...[data]] }\r\n    }\r\n}\r\n\r\nfunction removeToast(state, data) {\r\n    return {\r\n        ...state,\r\n        ...{ toasts: Object.assign([], state.toasts).filter(item => item.id != data.id) },\r\n    };\r\n}\r\n\r\nconst initialState = {\r\n    toasts: []\r\n};\r\n\r\nfunction AlertToastReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ACTION.ADD_TOAST:\r\n            return addToast(state, action.payload);\r\n        case ACTION.REMOVE_TOAST:\r\n            return removeToast(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default AlertToastReducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport DataReducer from '@/Redux/Reducers/DataReducer';\r\nimport AuthReducer from '../Reducers/AuthReducer';\r\nimport MenuReducer from '@Redux/Reducers/MenuReducer';\r\nimport DetailContractReducer from '@Redux/Reducers/DetailContractReducer';\r\nimport NotificationReducer from '@Redux/Reducers/NotificationReducer';\r\nimport CreateContractReducer from '@Redux/Reducers/CreateContractReducer';\r\nimport NewContractReducer from '@Redux/Reducers/NewContractReducer';\r\nimport ListContractReducer from '@Redux/Reducers/ListContractReducer';\r\nimport AlertModalReducer from '@Redux/Reducers/AlertModalReducer';\r\nimport InstallToolModalReducer from '@Redux/Reducers/InstallToolModalReducer';\r\nimport AlertToastReducer from '@Redux/Reducers/AlertToastReducer';\r\n\r\nconst store = configureStore({\r\n   reducer: {\r\n      data: DataReducer,\r\n      auth: AuthReducer,\r\n      menu: MenuReducer,\r\n      detailContract: DetailContractReducer,\r\n      notification: NotificationReducer,\r\n      createContract: CreateContractReducer,\r\n      newContracts: NewContractReducer,\r\n      listContracts: ListContractReducer,\r\n      alertModal: AlertModalReducer,\r\n      installToolModal: InstallToolModalReducer,\r\n      alertToast: AlertToastReducer\r\n   }\r\n});\r\n\r\nexport {\r\n   store\r\n}","\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"@/index.scss\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle.min\";\r\nimport App from \"@/App\";\r\nimport reportWebVitals from \"@/reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"@/Redux/Store\";\r\nimport \"drag-drop-touch\";\r\n\r\nReactDOM.render(\r\n   <Provider store={store}>\r\n      <App />\r\n   </Provider>,\r\n   document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spliterPage\":\"ColumnPreview_spliterPage__1IRWJ\",\"listSigner\":\"ColumnPreview_listSigner__3qsCR\",\"signature_icon\":\"ColumnPreview_signature_icon__18mOn\",\"signature_icon_me\":\"ColumnPreview_signature_icon_me__3-Qfi\",\"page_active\":\"ColumnPreview_page_active__3vt3w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnControlPage\":\"ContractDetailPDF_btnControlPage__3swoZ\",\"preview-pdf-overlay\":\"ContractDetailPDF_preview-pdf-overlay__6GF8q\",\"pdf-page-container\":\"ContractDetailPDF_pdf-page-container__1WX-u\",\"pdfPage\":\"ContractDetailPDF_pdfPage__i9xMW\",\"max_height_tags\":\"ContractDetailPDF_max_height_tags__1-QOU\"};"],"sourceRoot":""}